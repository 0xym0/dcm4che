<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE article
  PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN" "http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd">
<article lang="">
   <para>09</para>
   <para>PS 3.7-2011Page 115</para>
   <para>PS 3.7-2011</para>
   <para/>
   <para/>
   <para/>
   <para/>
   <para>Digital Imaging and Communications in Medicine (DICOM)</para>
   <para>Part 7: Message Exchange</para>
   <para/>
   <para/>
   <para/>
   <para/>
   <para/>
   <para/>
   <para/>
   <para/>
   <para/>
   <para/>
   <para/>
   <para/>
   <para/>
   <para/>
   <para>Published by</para>
   <para>National Electrical Manufacturers Association1300 N.  17th StreetRosslyn, Virginia 22209  USA</para>
   <para/>
   <para>© Copyright 2011 by the National Electrical Manufacturers Association.  All rights including translation into other languages, reserved under the Universal Copyright Convention, the Berne Convention for the Protection of Literacy and Artistic Works, and the International and Pan American Copyright Conventions.</para><sect1><title>NOTICE AND DISCLAIMER</title>
   <para>The information in this publication was considered technically sound by the consensus of persons engaged in the development and approval of the document at the time it was developed.  Consensus does not necessarily mean that there is unanimous agreement among every person participating in the development of this document.</para>
   <para>NEMA standards and guideline publications, of which the document contained herein is one, are developed through a voluntary consensus standards development process.  This process brings together volunteers and/or seeks out the views of persons who have an interest in the topic covered by this publication.  While NEMA administers the process and establishes rules to promote fairness in the development of consensus, it does not write the document and it does not independently test, evaluate, or verify the accuracy or completeness of any information or the soundness of any judgments contained in its standards and guideline publications.</para>
   <para>NEMA disclaims liability for any personal injury, property, or other damages of any nature whatsoever, whether special, indirect, consequential, or compensatory, directly or indirectly resulting from the publication, use of, application, or reliance on this document.  NEMA disclaims and makes no guaranty or warranty, expressed or implied, as to the accuracy or completeness of any information published herein, and disclaims and makes no warranty that the information in this document will fulfill any of your particular purposes or needs.  NEMA does not undertake to guarantee the performance of any individual manufacturer or seller’s products or services by virtue of this standard or guide.</para>
   <para>In publishing and making this document available, NEMA is not undertaking to render professional or other services for or on behalf of any person or entity, nor is NEMA undertaking to perform any duty owed by any person or entity to someone else.  Anyone using this document should rely on his or her own independent judgment or, as appropriate, seek the advice of a competent professional in determining the exercise of reasonable care in any given circumstances.  Information and other standards on the topic covered by this publication may be available from other sources, which the user may wish to consult for additional views or information not covered by this publication.</para>
   <para>NEMA has no power, nor does it undertake to police or enforce compliance with the contents of this document.  NEMA does not certify, test, or inspect products, designs, or installations for safety or health purposes.  Any certification or other statement of compliance with any health or safety–related information in this document shall not be attributable to NEMA and is solely the responsibility of the certifier or maker of the statement.</para></sect1><sect1><title>CONTENTS</title></sect1><sect1><title>FOREWORD</title>
   <para>This DICOM Standard was developed according to the procedures of the DICOM Standards Committee.</para>
   <para/>
   <para>The DICOM Standard is structured as a multi-part document using the guidelines established in the following document:</para>
   <para>        ISO/IEC Directives, 1989 Part 3 : Drafting and Presentation of International Standards.</para>
   <para/>
   <para>PS 3.1 should be used as the base reference for the current parts of this Standard.</para>
   <para/></sect1><sect1><title>1        Scope and field of application</title>
   <para>This Part of the DICOM Standard specifies the DICOM Message Service Element (DIMSE). The DIMSE defines an Application Service Element (both the service and protocol) used by peer DICOM Application Entities for the purpose of exchanging medical images and related information.  </para>
   <para>The DIMSE provides its services by relying on the DIMSE protocol. The DIMSE protocol defines the encoding rules necessary to construct Messages. A Message  is composed of a Command Set (defined in this part of the DICOM Standard) followed by a conditional Data Set (defined in PS 3.5).</para>
   <para>This Part specifies:</para>
   <para>        a set of service primitives provided by the DIMSE Application Service Element</para>
   <para>        the parameters which are passed in each service primitive</para>
   <para>        any necessary information for the semantic description of each service primitive</para>
   <para>        the procedures applicable to the service primitives</para>
   <para>        the Abstract Syntax of the DICOM composite and normalized command protocol and the associated encoding rules to be applied</para>
   <para>        procedures for the correct interpretation of protocol control information</para>
   <para>        the conformance requirements to be met by implementation of this part of the Standard</para>
   <para>        the Application Context required for DICOM Application Entities</para>
   <para>        the Association requirements of DICOM Application Entities</para>
   <orderedlist>
      <listitem>
         <para>the Application Association Information for DICOM Application Entities</para>
      </listitem>
   </orderedlist>
   <para/>
   <para>This Part is related to other parts of the DICOM Standard in that:</para>
   <para>        PS 3.3, Information Object Definitions, specifies the set of Information Object Definitions to which the services defined in this part may be applied</para>
   <para>        PS 3.5, Data Structure and Encoding, addresses the encoding rules necessary to construct a conditional Data Set which is conveyed in a Message as specified in this part</para>
   <para>        This Part defines the protocols and services required to accomplish the Service Classes described in PS 3.4</para></sect1><sect1><title>2        Normative references</title>
   <para>The following Standards contain provisions which, through reference in this text, constitute provisions of this Standard. At the time of publication, the editions indicated were valid. All Standards are subject to revision, and parties to agreements based on this Standard are encouraged to investigate the possibilities of applying the most recent editions of the Standards indicated below.</para>
   <para>ISO/IEC Directives, 1989 Part 3 - Drafting and presentation of International Standards</para>
   <para>ISO 7498-1, Information Processing Systems - Open Systems Interconnection - Basic Reference Model</para>
   <para>ISO/TR 8509, Information Processing Systems - Open Systems Interconnection - Service Conventions</para>
   <para>ISO 8649, Information Processing Systems - Open Systems Interconnection - Service Definition for the Association Control Service Element</para>
   <para>ISO 8822, Information Processing Systems - Open Systems Interconnection - Connection-Oriented Presentation Service Definition</para>
   <para>ISO/IEC 9595:1991, Information Technology - Open Systems Interconnection - Common Management Information Service Definition</para>
   <para>ISO/IEC 9834-1, Information technology - Open Systems Interconnection - Procedures for the operation of OSI Registration Authorities: General procedures and top arcs of the ASN.1 Object Identifier tree</para>
   <para>RFC-1510        The Kerberos Network Authentication Service (V5)</para>
   <para>RFC-2289        A One-Time Password System</para>
   <para>SAML        Assertions and Protocols for the OASIS Security Assertion Markup Language (SAML) V2.0 OASIS Standard, 15 March 2005</para></sect1><sect1><title>3        Definitions</title>
   <para>For the purposes of this Standard the following definitions apply.</para><sect2><title>3.1        Reference model definitions</title>
   <para>This part of the Standard is based on the concepts developed in ISO 7498-1 and makes use of the following terms defined in it:</para>
   <para>a)        Application Entity</para>
   <para>b)        Application Process</para>
   <para>c)                Protocol or Layer Protocol</para>
   <para>d)        Protocol Data Unit or Layer Protocol Data Unit</para>
   <para>e)        Service or Layer Service</para>
   <para>f)                Transfer Syntax</para></sect2><sect2><title>3.2        Service conventions definitions</title>
   <para>This part of the Standard makes use of the following terms defined in ISO/TR 8509:</para>
   <para>a)        Service Provider</para>
   <para>b)        Service User</para>
   <para>c)                Confirmed Service</para>
   <para>d)        Non-confirmed Service</para>
   <para>e)        Primitive</para>
   <para>f)                Request (Primitive)</para>
   <para>g)        Indication (Primitive)</para>
   <para>h)        Response (Primitive)</para>
   <para>i)                Confirm (Primitive)</para></sect2><sect2><title>3.3        Presentation service definitions</title>
   <para>This part of the Standard makes use of the following terms defined in ISO 8822:</para>
   <para>a)        Abstract Syntax</para>
   <para>b)        Abstract Syntax Name</para>
   <para>c)                Presentation Context</para>
   <para>d)        Presentation Data Values</para></sect2><sect2><title>3.4        ACSE service definitions</title>
   <para>This part of the Standard makes use of the following terms defined in ISO 8649:</para>
   <para>a)        Association or Application Association</para>
   <para>b)        Application Context</para>
   <para>c)                Association Control Service Element</para>
   <para>d)        Association Initiator</para></sect2><sect2><title>3.5        CMIS service definitions</title>
   <para>This part of the Standard makes use of the following terms defined in ISO 9595:</para>
   <para>a)        Functional Unit</para>
   <para>b)        Kernel Functional Unit</para>
   <para/></sect2><sect2><title>3.6        DICOM introduction and overview definitions</title>
   <para>This part of the Standard makes use of the following terms defined in PS 3.1:</para>
   <para>a)        Attribute</para>
   <para>b)        Command</para>
   <para>c)                Command Stream</para>
   <para>d)        Data Stream</para>
   <para>e)        Message</para></sect2><sect2><title>3.7        DICOM upper layer service definitions</title>
   <para>This part of the Standard makes use of the following terms defined in PS 3.8:</para>
   <para>a)        Unique Identifier (UID)</para>
   <para>b)        DICOM Upper Layer</para></sect2><sect2><title>3.8        DICOM service class definitions</title>
   <para>This part of the Standard makes use of the following terms defined in PS 3.4:</para>
   <para>a)        Service Class</para>
   <para>b)        Service Class User (SCU)</para>
   <para>c)                Service Class Provider (SCP)</para>
   <para>d)        Service-Object Pair (SOP) Class</para>
   <para>e)        Service-Object Pair (SOP) Instance</para>
   <para>f)                Related General SOP Class</para></sect2><sect2><title>3.9        DICOM data structures and encoding definitions</title>
   <para>This part of the Standard makes use of the following terms defined in PS 3.5:</para>
   <para>a)        Data Element</para>
   <para>b)        Data Set</para></sect2><sect2><title>3.10        DICOM message exchange definitions</title>
   <para>The following definitions are commonly used in this part of the Standard:</para>
   <para>DICOM message service element (DIMSE): the particular Application Service Element defined in this Part of the DICOM Standard.</para>
   <para>DIMSE-C services: A subset of the DIMSE services which supports operations on Composite SOP Instances related to composite Information Object Definitions with peer DIMSE-service-users.</para>
   <para>DIMSE-N services: a subset of the DIMSE services which supports operations and notifications on Normalized SOP Instances related to Normalized Information Object Definitions with peer DIMSE-service-users.</para>
   <para>DIMSE-service-provider: an abstraction of the totality of those entities which provide DIMSE services to peer DIMSE-service-users.</para>
   <para>DIMSE-service-user: that part of an application entity which makes use of the DICOM Message Service Element.</para>
   <para>Invoking DIMSE-service-user: the DIMSE-service-user that invokes a DIMSE operation or notification.</para>
   <para>Performing DIMSE-service-user: the DIMSE-service-user that performs a DIMSE operation or notification invoked by a peer DIMSE-service-user.</para></sect2></sect1><sect1><title>4        Symbols and abbreviations</title>
   <para>The following symbols and abbreviations are used in this part of the Standard.</para>
   <para>ACR                        American College of Radiology</para>
   <para>ACSE                Association Control Service Element</para>
   <para>ASCII                American Standard Code for Information Interchange</para>
   <para>AE                        Application Entity</para>
   <para>ANSI                American National Standards Institute</para>
   <para>CEN TC251        Comite Europeen de Normalisation - Technical Committee 251 - Medical                         Informatics</para>
   <para>CMIS                Common Management Information Service</para>
   <para>CMISE                Common Management Information Service Element</para>
   <para>DICOM                Digital Imaging and Communications in Medicine</para>
   <para>DIMSE                DICOM Message Service Element</para>
   <para>DIMSE-C                DICOM Message Service Element - Composite</para>
   <para>DIMSE-N                DICOM Message Service Element - Normalized</para>
   <para>HL7                        Health Level 7</para>
   <para>IEEE                Institute of Electrical and Electronics Engineers</para>
   <para>ISO                        International Standards Organization</para>
   <para>JIRA                Japan Industries Association of Radiological Systems</para>
   <para>NEMA                National Electrical Manufacturers Association</para>
   <para>OSI                        Open Systems Interconnection</para>
   <para>PDU                        Protocol Data Unit</para>
   <para>PDV                        Protocol Data Value</para>
   <para>SOP                        Service-Object Pair</para>
   <para>TCP/IP                Transmission Control Protocol/Internet Protocol</para>
   <para>VM                        Value Multiplicity</para>
   <para>VR                        Value Representation</para>
   <para>UID                        Unique Identifier</para>
   <para>UL                        Upper Layers</para></sect1><sect1><title>5        Conventions</title>
   <para>The following conventions are used for the service description tables shown in this part of the Standard.</para>
   <para>(=)        The value of the parameter is equal to the value of the parameter in the column to the left.</para>
   <para>        Not applicable. The parameter shall not be present.</para>
   <para>C        The parameter is conditional. The condition(s) are defined by the text which describes the         parameter.</para>
   <para>M        Mandatory usage</para>
   <para>MF        Mandatory with a fixed value</para>
   <para>U        The use of this parameter is a DIMSE-service-user option</para>
   <para>UF        User Option with a fixed value</para></sect1><sect1><title>6        Service context</title>
   <para>This section defines the DICOM Message Service Element and Protocol within the context of the DICOM Application Entity. Specifically, this section provides a model to clarify a number of concepts for digital imaging and communications and introduces key terms used throughout the Standard. This model has been used to partition the Application Layer of the DICOM Standard into separate parts.</para><sect2><title>6.1        DICOM and the OSI basic reference model</title>
   <para>The OSI Basic Reference Model is used to model the interconnection of medical imaging equipment. As shown in Figure 6.1-1 seven layers of communication protocols are distinguished. DICOM uses the OSI Upper Layer Service to separate the exchange of DICOM Messages at the Application Layer from the communication support provided by the lower layers.</para>
   <para>This OSI Upper Layer Service boundary allows peer Application Entities to establish Associations, transfer Messages and terminate Associations. For this boundary, DICOM has adopted the OSI Standards (Presentation Service augmented by the Association Control Service Element). It is a simple service that isolates the DICOM Application Layer from the specific stack of protocols used in the communication support layers.</para>
   <para>The DICOM Upper Layer protocol augments TCP/IP. It combines the OSI upper layer protocols into a simple-to-implement single protocol while providing the same services and functions offered by the OSI stack</para>
   <para>The DICOM Upper Layer Service is defined in PS 3.8.</para>
   <para/>
   <para>
      <anchor id="_972810782"/>
      <anchor id="_972810712"/>
      <anchor id="_972810603"/>
      <anchor id="_972810599"/>
      <anchor id="_972810578"/>
      <anchor id="_1086138998"/>
      <anchor id="_1086046474"/>
   </para>
   <para>Figure 6.1-1DICOM Network Protocol Architecture</para></sect2><sect2><title>6.2        The DICOM application layer structure</title>
   <para>A DICOM Application Entity and the Service Elements it includes are shown in Figure 6.2-1.</para>
   <para>Note        Annexes of this part define certain aspects of the DICOM Application Entity.</para>
   <para/>
   <para>The heart of any DICOM Application Entity is specified by the following parts of the DICOM Standard:</para>
   <para>        PS 3.3, Information Object Definitions, which provides data models and Attributes used as a basis for defining SOP Instances which are operated upon by the services defined in this [art. Such SOP Instances are used to represent real-world occurrences of images, studies, patients, etc.</para>
   <para>        PS 3.4, Service Class Specifications, which defines the set of operations that can be performed on SOP Instances. Such operations may include the storage, retrieval of information, printing, etc.</para>
   <para>        PS 3.5, Data Structure and Encoding, which addresses the encoding of the Data Sets exchanged to accomplish the above services</para>
   <para>        PS 3.6, Data Dictionary, which contains the registry of DICOM Data Elements used to represent Attributes of SOP Classes</para>
   <para>The DICOM Application Entity uses the Association and Presentation data services of the OSI Upper Layer Service defined in PS 3.8. The Association Control Service Element (ACSE) augments the Presentation Layer Service with Association establishment and termination services. In the case of TCP/IP, the full equivalent of ACSE is provided by the DICOM Upper Layer Service. For the DICOM point-to-point stack, a minimum subset of ACSE is provided by the Session/Transport/Network Service.</para>
   <para>The DICOM Application Entity uses the services provided by the DICOM Message Service Element. The DICOM Message Service Element specifies two sets of services.</para>
   <para>        DIMSE-C supports operations associated with composite SOP Classes and provides effective compatibility with the previous versions of the DICOM Standard.</para>
   <para>        DIMSE-N supports operations associated with normalized SOP Classes and provides an extended set of object-oriented operations and notifications. It is based on the OSI System Management Model and more specifically on the OSI Common Management Information Services (CMIS) Service definition.</para>
   <para/>
   <para/>
   <para>Figure 6.2-1DICOM APPLICATION LAYER STRUCTURE</para>
   <para>The DIMSE-C and DIMSE-N services are supported by a single DIMSE protocol which uses the DICOM-specific Message formatting and encoding.</para></sect2><sect2><title>6.3        DICOM message structure and command set</title>
   <para>Information is communicated across the DICOM network interface in a DICOM Message. A Message is composed of a Command Set followed by a conditional Data Set (see PS 3.5 for the definition of a Data Set). The Command Set is used to indicate the operations/notifications to be performed on or with the Data Set.</para>
   <para>A Command Set is constructed of Command Elements. Command Elements contain the encoded values for each individual field of the Command Set per the semantics specified in the DIMSE protocol (see Section 9.2 and 10.2). Each Command Element is  composed of an explicit Tag, a Value Length, and a Value Field.</para>
   <para>The overall structure of a DICOM Message is shown in Figure 6.3-1.</para>
   <para>
      <inlinegraphic fileref="embedded:graphics1" width="5.8193inch" depth="3.6945inch"/>
   </para>
   <para>Figure 6.3-1DICOM MESSAGE STRUCTURE</para><sect3><title>6.3.1         COMMAND SET STRUCTURE</title> 
   <para>The Command Elements in a Command Set shall be ordered by increasing Command Element Tag number. A Command Element Tag uniquely identifies a Command Element and shall occur at most once in a Command Set. The encoding of the Command Set shall be Little Endian Byte Ordering as defined in PS 3.5. The requirements for the existence of a Command Element in a Command Set are defined in the DIMSE protocol.</para>
   <para>Notes:        1.  The use of Private Command Elements has been retired in this version of the DICOM Standard.</para>
   <para>        2.  The encoding corresponds to the Implicit VR Data Element encoding defined in PS 3.5.</para>
   <para/>
   <para>A Command Element is composed of three fields; a Command Element Tag, a Value Length, and a Value Field.</para>
   <para>Command Element Tag: An ordered pair of 16-bit unsigned integers representing the Group Number followed by Element Number.</para>
   <para>        Value Length:        A 32-bit unsigned integer representing the explicit Length as the number of bytes (even) that make up the Value.  It does not include the length of the Command Element Tag or Value Length fields.</para>
   <para>        Value Field:        An even number of bytes containing the Value(s) of the Command Element. </para>
   <para>The command type of Value(s) stored in this field is specified by the Command Element's Value Representation (VR). The VR for a given Command Element can be determined using the Command Dictionary in Annex E. The VR of Command Elements shall agree with those specified in the Command Dictionary. The VR definitions are defined in PS 3.5</para>
   <para>The Value Multiplicity (VM) specifies how many Values with the VR can be placed in the Value Field. If the VM is greater than one, multiple Values shall be delimited within the Value Field as defined in PS 3.5. The VM for a given Command Element can be determined using the Command Dictionary in Annex E.</para>
   <para>Notes:        1.  The Message Length-to-End (0000,0001) Command Element is retired. Implementations may choose to send it for backward compatibility reasons. DICOM V3.0 conformant implementations must not rely on its presence for their operation.</para>
   <para>        2.  The delimitation of the Message length is actually achieved by relying on the fact that the Presentation Data Value (conveying each Message fragment) is delimited as defined by the OSI Upper Layer Service and the associated Message Control Header (see PS 3.8). This results from the fact that the DICOM V3.0 UL protocol or the OSI Presentation protocol explicitly conveys the length of a PDV.</para></sect3></sect2></sect1><sect1><title>7        Service overview</title>
   <para>The DICOM Message Service Element supports communication between peer DIMSE-service-users. A DIMSE-service-user acts in one of two roles:</para>
   <para>a)        invoking DIMSE-service-user</para>
   <orderedlist>
      <listitem>
         <para>performing DIMSE-service-user</para>
      </listitem>
   </orderedlist>
   <para/>
   <para>DIMSE-service-users make use of service primitives which are provided by the DIMSE-service-provider. The DIMSE-service-provider is an abstraction of the totality of those entities which provide DIMSE services to peer DIMSE-service-users. A service primitive shall be one of the following types:</para>
   <para>a)        request primitive</para>
   <para>b)        indication primitive</para>
   <para>c)                response primitive</para>
   <para>d)        confirmation primitive</para>
   <para>These primitives (which are shown in Figure 7-1) are used as follows to successfully complete a DIMSE service:</para>
   <para>        The invoking DIMSE-service-user issues a request primitive to the DIMSE-service-provider.</para>
   <para>        The DIMSE-service-provider receives the request primitive from the invoking DIMSE-service-user and issues an indication primitive to the performing DIMSE-service-user.</para>
   <para>        The performing DIMSE-service-user receives the indication primitive from the DIMSE-service-provider and performs the requested service.</para>
   <para>        The performing DIMSE-service-user issues a response primitive to the DIMSE-service-provider.</para>
   <para>        The DIMSE-service-provider receives the response primitive from the performing DIMSE-service-user and issues a confirmation primitive to the invoking DIMSE-service-user.</para>
   <para>        The invoking DIMSE-service-user receives the confirmation primitive from the DIMSE-service-provider completing the DIMSE service.</para><sect2><title>7.1        Service types</title>
   <para>DIMSE provides two types of information transfer services which are used by DICOM Application Entities:</para>
   <para>a)        a notification service</para>
   <para>b)        an operation service</para>
   <para/>
   <para>
      <inlinegraphic fileref="embedded:graphics2" width="5.6984inch" depth="2.9902inch"/>
   </para>
   <para>Figure 7-1DIMSE SERVICE PRIMITIVES</para>
   <para>Notification services enable one DICOM Application Entity to notify another about the occurrence of an event or change of state. The definition of the notification and the consequent behavior of the Application Entities is dependent upon the Service Class and Information Object Definitions. See PS 3.3 and PS 3.4.</para>
   <para>Operation services enable one DICOM Application Entity to explicitly request an operation to be performed upon a SOP Instance managed by another DICOM Application Entity.</para></sect2><sect2><title>7.2        DIMSE-service-user interaction</title>
   <para>The DICOM Message Service Element receives notification and operation requests and their related information from the DIMSE-service-user. Two DICOM Application Entities take the roles as peer DIMSE-service-users in order to exchange notifications and operations.</para>
   <para>A notification or operation is implemented as a request/response interaction carried out within the context of an established application Association. Typically, one DIMSE-service-user requests that a particular operation be performed (or notification be processed) and the other DIMSE-service-user attempts to perform the operation (or process the notification) and then reports the outcome of the attempt.</para>
   <para>When engaging in the operations or notifications, the DIMSE-service-user takes on one of two roles:</para>
   <para>a)        it performs operations (on SOP Instances for which it has responsibility) which were invoked by a peer DIMSE-service-user. It may also emit change-of-state notifications for SOP Instances to one or more peer DIMSE-service-users. These notifications may be invoked as a result of operations initiated by other DIMSE-service-users.</para>
   <para>b)        it invokes the performance of an operation on a peer DIMSE-service-user. It may also receive notifications from a peer DIMSE-service-user.</para>
   <para>These roles are depicted in Figure 7.2-1.</para>
   <para>Notes        1.  Role a) (called the Agent role in ISO terminology) is used by an implementation which conforms to a DICOM Service Class as an SCP.</para>
   <para>        2.  Role b) (called the Manager role in ISO terminology) is used by an implementation which conforms to a DICOM Service Class as an SCU.</para>
   <para/>
   <para/>
   <para>Figure 7.2-1OPERATION AND NOTIFICATION FLOW</para></sect2><sect2><title>7.3        Service modes</title>
   <para>Operations and notifications, on an Association, are used in one of the following two modes:</para>
   <para>a)        synchronous</para>
   <para>b)        asynchronous</para>
   <para>In the synchronous mode, the invoking DIMSE-service-user, on an established Association, requires a response from the performing DIMSE-service-user before invoking another operation or notification.</para>
   <para>In the asynchronous mode, the invoking DIMSE-service-user, on an established Association, may continue to invoke further operations or notifications to the performing DIMSE-service-user without awaiting a response. In the asynchronous mode, the performing DIMSE-service-user may respond to the operations or notifications in a different order than they were received.</para>
   <para>The mode selection (synchronous or asynchronous) is determined at Association establishment time. The synchronous mode serves as the default mode and shall be supported by all DIMSE-service-users. The asynchronous mode is optional and the maximum number of outstanding operations/notifications is negotiated during Association establishment. This negotiation is accomplished by Application Association Information as defined in Annex D.</para></sect2><sect2><title>7.4        Association services</title>
   <para>The DICOM Message Service Element does not provide separate services for the establishment and termination of application Associations. This section provides an overview of how an Application Entity using the DIMSE service uses the Association Services defined in PS 3.8.</para>
   <para>During the Association establishment phase, a DIMSE-service-user shall exchange initialization information using parameters of the  A-ASSOCIATE Upper Layer Service (see Figure 7.4-1) which include:</para>
   <para>        Application context</para>
   <para>        Presentation and session requirements</para>
   <para>        DIMSE-specific user information</para>
   <para>        Application Association Information</para>
   <para>The A-RELEASE and A-ABORT Services defined in PS 3.8 shall be used for the termination of an Association. </para>
   <para>Note        The rules defining how the Association Services are used by a DIMSE-service-user are defined in Annex D.</para>
   <para/><sect3><title>7.4.1        ASSOCIATION ESTABLISHMENT</title>
   <para>The A-ASSOCIATE Service is invoked by a DIMSE-service-user to establish an Association with a peer DIMSE-service-user. Association establishment is always the first phase of DICOM  Message Exchange.</para>
   <para>The initiating DIMSE-service-user and the responding DIMSE-service-user shall include Application Association Information on the request and response primitive respectively. The meaning of this parameter is Application Context specific. For more information on the use of the Application Association Information, see Annex D.</para></sect3><sect3><title>7.4.2        ASSOCIATION RELEASE</title>
   <para>The A-RELEASE Service is invoked by a DIMSE-service-user to request the orderly termination of an Association between peer DIMSE-service-users. This part of the Standard does not specify any use of the parameters of the A-RELEASE service.</para>
   <para/>
   <para/>
   <para>Figure 7.4-1DICOM APPLICATION ENTITY AND ASSOCIATION</para>
   <para/>
   <para>The A-ABORT Service is invoked by a DIMSE-service-user to request the abrupt termination of the Association between peer DIMSE-service-users. The A-ABORT invoking DIMSE-service-user shall include (within the A-ABORT user information field) the Abort Source parameter. The Abort Source parameter indicates the initiating source of the abort. It takes one of the following symbolic values:</para>
   <para>        DIMSE-service-provider</para>
   <para>        DIMSE-service-user</para>
   <para>Reference PS 3.8 for more information on the A-RELEASE and A-ABORT services.</para></sect3></sect2><sect2><title>7.5        DIMSE services</title>
   <para>Because the manner in which operations applied to Composite SOP Instances differ from operations and notifications applied to Normalized SOP Instances, two groups of DIMSE services are defined:</para>
   <para>        DIMSE-N: those services applicable to Normalized SOP Instances</para>
   <para>        DIMSE-C: those services applicable to Composite SOP Instances</para>
   <para>Table 7.5-1DIMSE SERVICES</para>
   <informaltable frame="all">
      <tgroup cols="3"><tbody><row>
            <entry>
               <para>Name</para>
            </entry>
            <entry>
               <para>Group</para>
            </entry>
            <entry>
               <para>Type</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>C-STORE</para>
            </entry>
            <entry>
               <para>DIMSE-C</para>
            </entry>
            <entry>
               <para>operation</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>C-GET</para>
            </entry>
            <entry>
               <para>DIMSE-C</para>
            </entry>
            <entry>
               <para>operation</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>C-MOVE</para>
            </entry>
            <entry>
               <para>DIMSE-C</para>
            </entry>
            <entry>
               <para>operation</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>C-FIND</para>
            </entry>
            <entry>
               <para>DIMSE-C</para>
            </entry>
            <entry>
               <para>operation</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>C-ECHO</para>
            </entry>
            <entry>
               <para>DIMSE-C</para>
            </entry>
            <entry>
               <para>operation</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>N-EVENT-REPORT</para>
            </entry>
            <entry>
               <para>DIMSE-N</para>
            </entry>
            <entry>
               <para>notification</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>N-GET</para>
            </entry>
            <entry>
               <para>DIMSE-N</para>
            </entry>
            <entry>
               <para>operation</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>N-SET</para>
            </entry>
            <entry>
               <para>DIMSE-N</para>
            </entry>
            <entry>
               <para>operation</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>N-ACTION</para>
            </entry>
            <entry>
               <para>DIMSE-N</para>
            </entry>
            <entry>
               <para>operation</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>N-CREATE</para>
            </entry>
            <entry>
               <para>DIMSE-N</para>
            </entry>
            <entry>
               <para>operation</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>N-DELETE</para>
            </entry>
            <entry>
               <para>DIMSE-N</para>
            </entry>
            <entry>
               <para>operation</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/>
   <para>Note        Use of the Dialog command, supported in previous  versions of this Standard, has been retired.</para>
   <para/><sect3><title>7.5.1        DIMSE-C SERVICES</title>
   <para>The DIMSE-C services allow a DICOM Application Entity to explicitly request an operation by another DICOM Application Entity on Composite SOP Instances. The operations allowed are intended to be effectively compatible with those provided by previous versions of this Standard. DIMSE-C provides only operation services.</para><sect4><title>7.5.1.1        Operation services</title>
   <para>DIMSE-C provides the following operation services which are all confirmed services and as such a response is expected:</para>
   <para>a)        The C-STORE service is invoked by a DIMSE-service-user to request the storage of Composite SOP Instance information by a peer DIMSE-service-user.</para>
   <para>b)        The C-FIND service is invoked by a DIMSE-service-user to match a series of Attribute strings against the Attributes of the set of SOP Instances managed by a peer DIMSE-service-user. The C-FIND service returns for each match a list of requested Attributes and their values.</para>
   <para>c)                The C-GET service is invoked by a DIMSE-service-user to fetch the information for one or more Composite SOP Instances from a peer DIMSE-service-user, based upon the Attributes supplied by the invoking DIMSE-service-user.</para>
   <para>d)        The C-MOVE service is invoked by a DIMSE-service-user to move the information for one or more Composite SOP Instances from a peer DIMSE-service-user, to a third party DIMSE-service-user, based upon the Attributes supplied by the invoking DIMSE-service-user</para>
   <para>e)        The C-ECHO service is invoked by a DIMSE-service-user to verify end-to-end communications with a peer DIMSE-service-user.</para>
   <para/>
   <para>Notes        1.  The major differences between a C-GET and a C-MOVE operation are that the:</para>
   <para>                a. C-STORE sub-operations resulting from a C-GET are performed on the same Association as         the C-GET.   With a C-MOVE, the resulting C-STORE sub-operations are performed on a         separate Association.</para>
   <para>                b. C-MOVE operation supports C-STORE sub-operations being performed with an Application                  Entity which is not the one that initiated the C-MOVE (third party move).</para>
   <para>        2.  In the case where an Application Entity wishes to request that it receives one or more images for storage, it may use either a C-GET operation or a C-MOVE to itself. It is expected that in most environments the C-MOVE is a simpler solution despite the fact that two Associations are required. The use of the C-GET service may not be widely implemented. It may be implemented in special cases where a system does not support multiple Associations. It was left in this version of the Standard for backward compatibility with previous versions of the Standard.</para>
   <para/></sect4></sect3><sect3><title>7.5.2        DIMSE-N SERVICES</title>
   <para>The DIMSE-N services provide both notification and operation services applicable to Normalized SOP Instances.</para><sect4><title>7.5.2.1        Notification service</title>
   <para>DIMSE-N provides a single Notification Service, the N-EVENT-REPORT. The N-EVENT-REPORT service is invoked by a DIMSE-service-user to report an event about a SOP Instance to a peer DIMSE-service-user. This service is a confirmed service and a response is expected.</para></sect4><sect4><title>7.5.2.2        Operation services</title>
   <para>DIMSE-N provides the following operation services which are all confirmed services and as such a response is expected:</para>
   <para>a)        The N-GET service is invoked by a DIMSE-service-user to request the retrieval of information from a peer DIMSE-service-user.</para>
   <para>b)        The N-SET service is invoked by a DIMSE-service-user to request the modification of information by a peer DIMSE-service-user.</para>
   <para>c)                The N-ACTION service is invoked by a DIMSE-service-user to request a peer DIMSE-service-user to perform an action.</para>
   <para>d)        The N-CREATE service is invoked by a DIMSE-service-user to request a peer DIMSE-service-user to create an instance of a SOP Class.</para>
   <para>e)        The N-DELETE service is invoked by a DIMSE-service-user to request a peer DIMSE-service-user to delete an instance of a SOP Class.</para></sect4></sect3><sect3><title>7.5.3        DIMSE PROCEDURES</title>
   <para>All DIMSE operations and notifications are confirmed services. The performing DIMSE-service-user shall report the response of each operation or notification over the same Association on which the operation or notification was invoked.</para>
   <para>Each DIMSE service is accomplished through the use of one or more service primitives. How the peer DIMSE-service-users utilize and react to the service primitives are defined by the service procedures.</para><sect4><title>7.5.3.1        Sub-operations</title>
   <para>Some DIMSE services are atomic in that the service is performed by one operation or notification. In such a case the DIMSE service primitives are used by peer DIMSE-service-users to invoke and perform the operation or notification.</para>
   <para>Other DIMSE services require the use of one or more sub-operations to perform the service. In such cases DIMSE service primitives are used by peer DIMSE-service-users to invoke and perform each sub-operation. How and when the sub-operation service primitives are used is defined by the procedures for the DIMSE service.</para></sect4><sect4><title>7.5.3.2        Multiple responses</title>
   <para>Each DIMSE service requires one or more response primitives as a result of the invocation of the service. How and when the multiple response primitives are used is defined by the procedures for the DIMSE service. Whether multiple responses are returned is conditional upon the information included in the request primitive by the DIMSE-service-user.</para></sect4><sect4><title>7.5.3.3        Cancellation</title>        <para>Certain DIMSE services permit the cancellation of the service through the use of service primitives. This allows an invoking DIMSE-service-user to request termination of a DIMSE service after completion of the request service primitive but prior to completion of the confirm service primitive.</para>
   <para>Table 7.5-2 lists each DIMSE service and its related procedure information. The complete specifications for the service procedures are defined in Sections 9 and 10 for DIMSE-C and DIMSE-N respectively.</para>
   <para>Table 7.5-2DIMSE SERVICES AND PROCEDURES</para>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Name</para>
            </entry>
            <entry>
               <para>Sub-Operations</para>
            </entry>
            <entry>
               <para>Multiple Responses</para>
            </entry>
            <entry>
               <para>Cancel</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>C-STORE</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>C-GET</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para>C</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>C-MOVE</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para>C</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>C-FIND</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>C</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>C-ECHO</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>N-EVENT-REPORT</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>N-GET</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>N-SET</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>N-ACTION</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>N-CREATE</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>N-DELETE</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect4></sect3></sect2></sect1><sect1><title>8        Protocol overview</title><sect2><title>8.1        DIMSE protocol</title>
   <para>This Section provides an overview of the DIMSE protocol machine. The DIMSE protocol machine defines the procedures and the encoding rules necessary to construct Messages used to exchange command requests and responses between peer DIMSE-service-users (e.g. two DICOM Application Entities). The relationship between Messages and the different types of service primitives is shown in Figure 7-1.</para>
   <para>The DIMSE protocol machine accepts DIMSE-service-user request and response service primitives and constructs Messages defined by the procedures defined in 9.3 and 10.3. The DIMSE protocol machine accepts Messages and passes them to the DIMSE-service-user by the means of indication and confirmation service primitives.</para>
   <para>Procedures define the rules for the transfer of Messages that convey command requests and responses. These rules define interpretation of the various fields in the command part of the Message. They do not define what an invoking DIMSE-service-user should do with the information (the Data Set part of the Message) it requested nor how a performing DIMSE-service-user should process the operation.</para>
   <para>Messages may be fragmented. The fragmentation of Messages exchanged between peer DICOM Application Entities and the P-DATA service used to exchange these Message fragments are defined in Annex F.</para>
   <para>Note        These Message fragments are called Application Protocol Data Units (APDUs) by the OSI construct.</para>
   <para/>
   <para>The invoking DIMSE-service-user request primitive results in a Message carrying a Command Request (with an optional associated Data Set). Each Message induces an indication primitive to the performing DIMSE-service-user.</para>
   <para>The performing DIMSE-service-user response primitives result in a Message carrying a Command Response (with an optional associated Data Set). Each Message induces a confirmation primitive to the invoking DIMSE-service-user.</para></sect2><sect2><title>8.2        Association protocol</title>
   <para>The establishment of an Association involves two DIMSE-service-users, one which is the Association-requester and one which is the Association-acceptor. A DIMSE-service-user may initiate an Association establishment by using the A-ASSOCIATE service described in PS 3.8.</para>
   <para>Included in the parameters of the A-ASSOCIATE service is the Application Context which specifies, among other things, the rules required for the coordination of initialization information corresponding to different DICOM Application Entities. The Application Contexts permitted for DIMSE are specified in Annex A.</para></sect2><sect2><title>8.3        Conformance</title>
   <para>Implementors conform to the DIMSE protocol only by conformance to a SOP class as defined in PS 3.2 and PS 3.4. Implementors do not conform directly to the DIMSE protocol, and are not required to include a statement about DIMSE conformance in conformance statements except as required in PS 3.4.</para></sect2></sect1><sect1><title>9        DIMSE-C</title><sect2><title>9.1        Services</title><sect3><title>9.1.1        C-STORE SERVICE</title>
   <para>The C-STORE service is used by a DIMSE-service-user to store a composite SOP Instance on a peer DIMSE-service-user. It is a confirmed service.</para><sect4><title>9.1.1.1        C-STORE parameters</title>
   <para>Table 9.1-1 lists the parameters of this service.</para>
   <para>Table 9.1-1C-STORE PARAMETERS</para>
   <informaltable frame="all">
      <tgroup cols="3"><tbody><row>
            <entry>
               <para>DIMSE-C Parameter Name</para>
            </entry>
            <entry>
               <para>Req/Ind</para>
            </entry>
            <entry>
               <para>Rsp/Conf</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para>U</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID Being Responded To</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para>U(=)</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Instance UID</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para>U(=)</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Priority</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para>­</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Move Originator Application Entity Title</para>
            </entry>
            <entry>
               <para>U</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Move Originator Message ID</para>
            </entry>
            <entry>
               <para>U</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Data Set</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/><sect4><title>9.1.1.1.1        Message ID</title>
   <para>This parameter identifies the operation. It is used to distinguish this operation from other notifications or operations that the DIMSE-service-provider may have in progress. No two identical values for the Message ID (0000,0110) shall be used for outstanding operations or notifications.</para>
   <para>Notes        1.  Inclusion of this parameter in the confirmation was permitted in previous versions of this Standard but this mode of use is now retired. This parameter may be included in the confirmation but in such a case the invoking DIMSE-service-user should not attach any semantic significance to this parameter.</para>
   <para>        2.  The Message ID (0000,0110) is recommended to be unique within the scope of an Association, to support debug procedures.</para></sect4><sect4><title>9.1.1.1.2        Message ID being responded to</title>
   <para>This parameter specifies the Message ID (0000,0110) of the operation request/indication to which this response/confirmation applies.</para></sect4><sect4><title>9.1.1.1.3        Affected SOP class UID</title>
   <para>For the request/indication, this parameter specifies the SOP Class for the storage. It may be included in the response/confirmation. If included in the response/confirmation, this parameter shall be equal to the value in the request/indication. </para></sect4><sect4><title>9.1.1.1.4        Affected SOP instance UID</title>
   <para>For the request/indication, this parameter specifies the SOP Instance to be stored. It may be included in the response/confirmation. If included in the response/confirmation, this parameter shall be equal to the value in the request/indication.</para></sect4><sect4><title>9.1.1.1.5        Priority</title>
   <para>This parameter specifies the priority of the C-STORE operation. It shall be one of LOW, MEDIUM, or HIGH.</para></sect4><sect4><title>9.1.1.1.6        Move originator application entity title</title>
   <para>This parameter specifies the DICOM AE Title of the DICOM AE which invoked the C-MOVE operation from which this C-STORE sub-operation is being performed.</para></sect4><sect4><title>9.1.1.1.7        Move originator message ID</title>
   <para>This parameter specifies the Message ID (0000,0110) of the C-MOVE request/indication primitive from which this C-STORE sub-operation is being performed.</para></sect4><sect4><title>9.1.1.1.8        Data set</title>
   <para>The Data Set accompanying the C-STORE primitive contains the Attributes of the Composite SOP Instance to be stored.</para></sect4><sect4><title>9.1.1.1.9        Status</title>
   <para>This parameter contains the error or success notification for the operation. It shall be included by the performing DIMSE-service-user in the response/confirmation. The following types of status may occur in a response/confirmation:</para>
   <para>a)        Refused: Out of ResourcesThis indicates that the peer DIMSE-service-user was unable to store the composite SOP Instance because it was out of resources.</para>
   <para>b)        Refused: SOP Class Not SupportedThis indicates that the peer DIMSE-service-user was unable to store the composite SOP Instance because the SOP Class is not supported,</para>
   <para>c                Error: Cannot UnderstandThis indicates that the peer DIMSE-service-user was unable to store the composite SOP Instance because it cannot understand certain Data Elements.</para>
   <para>d)        Error: Data Set does not match SOP ClassThis indicates that the peer DIMSE-service-user was unable to store the composite SOP Instance because the Data Set does not match the SOP Class.</para>
   <para>e)        WarningThis indicates that the peer DIMSE-service-user was able to store the composite SOP Instance, but detected a probable error.</para>
   <para>f)                Success This indicates that the composite SOP Instance was successfully stored.</para></sect4></sect4><sect4><title>9.1.1.2        C-STORE service procedures</title>
   <para>The following C-STORE procedures apply:</para>
   <para>a)        The invoking DIMSE-service-user requests that the performing DIMSE-service-user store a composite SOP Instance by issuing a C-STORE request primitive to the DIMSE-service-provider.</para>
   <para>b)        The DIMSE-service-provider issues a C-STORE indication  primitive to the performing DIMSE-service-user.</para>
   <para>c)                The performing DIMSE-service-user reports acceptance or rejection of the C-STORE request primitive by issuing a C-STORE response primitive to the DIMSE-service-provider,</para>
   <para>d)        The DIMSE-service-provider issues a C-STORE confirmation primitive to the invoking DIMSE-service-user, completing the C-STORE operation.</para>
   <para>The performing DIMSE-service-user may return a C-STORE response primitive with the status of Failed or Refused before the entire C-STORE indication (Data Set) has been completely transmitted by the invoking DIMSE-service-user. A C-STORE response primitive with the status of Success or Warning shall not be returned until the entire C-STORE indication has been received by the performing DIMSE-service-user.</para>
   <para>Note        Such an occurrence of a "Failed" response is often called an early failed response.</para>
   <para/></sect4></sect3><sect3><title>9.1.2        C-FIND SERVICE</title>
   <para>The C-FIND service is used by a DIMSE-service-user to match a set of Attributes against the Attributes of a set of composite SOP Instances maintained by a peer DIMSE-service-user. It is a confirmed service.</para><sect4><title>9.1.2.1        C-FIND Parameters</title>        <para>See Table 9.1-2.</para>
   <para>Table 9.1-2C-FIND PARAMETERS</para>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>DIMSE-C Parameter Name</para>
            </entry>
            <entry>
               <para>Req/Ind</para>
            </entry>
            <entry>
               <para>Rsp/Conf</para>
            </entry>
            <entry>
               <para>CnclReq/CnclInd</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para>U</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID Being Responded To</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para>U(=)</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Priority</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Identifier</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para>C</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/><sect4><title>9.1.2.1.1        Message ID</title>
   <para>This parameter identifies the operation. It is used to distinguish this operation from other notifications or operations that the DIMSE-service-provider may have in progress. No two identical values for the Message ID (0000,0110) shall be used for outstanding operations or notifications.</para>
   <para>Notes        1.  Inclusion of this parameter in the confirmation was permitted in previous versions of this Standard but this mode of use is now retired. This parameter may be included in the confirmation but in such a case the invoking DIMSE-service-user should not attach any semantic significance to this parameter.</para>
   <para>        2.  The Message ID (0000,0110) is recommended to be unique within the scope of an Association, to support debug procedures.</para>
   <para/></sect4><sect4><title>9.1.2.1.2        Message ID being responded to</title>
   <para>This parameter specifies the Message ID (0000,0110) of the request/indication to which this response/confirmation applies.</para></sect4><sect4><title>9.1.2.1.3        Affected SOP class UID</title>
   <para>For the request/indication, this parameter specifies the SOP Class of the Information Model for the query. It may be included in the response/confirmation. If included in the response/confirmation, this parameter shall be equal to the value in the request/indication.</para></sect4><sect4><title>9.1.2.1.4        Priority</title>
   <para>This parameter specifies the priority of the C-FIND operation. It shall be one of LOW, MEDIUM, or HIGH.</para></sect4><sect4><title>9.1.2.1.5        Identifier</title>
   <para>In the request/indication, this is a list of Attributes to be matched against the values of the Attributes in the instances of the composite objects known to the performing DIMSE-service-user.</para>
   <para>In the response/confirmation, this is the same list of Attributes with values of these Attributes in a particular  composite SOP Instance which matched. It shall be sent only when that Status (0000,0900) is equal to Pending (not permitted for other statuses).</para>
   <para>The list of Attributes and the rules for construction are specified in PS 3.4.</para>
   <para>9.1.2.1.6        Status</para>
   <para>Indicates the status of the response. It may have any of the following values:</para>
   <para>a)        SuccessThis indicates that processing of the matches is complete. It shall not contain a matching Identifier.</para>
   <para>b)        PendingThis indicates that processing of the matches is initiated or continuing. It shall contain a matching Identifier.</para>
   <para>c)                Refused: Out of ResourcesIndicates that  processing of the C-FIND has been terminated because it was out of resources. This may be the initial response to the C-FIND, or may be sent after a number of pending C-FIND responses. This response shall not contain a matching Identifier.</para>
   <para>d)        Refused: SOP Class Not Supported  Indicates that processing of the C-FIND has been terminated because the SOP Class was not supported. This response shall not contain a matching Identifier.</para>
   <para>e)        CancelIndicates that the processing of the C-FIND has been terminated due to a C-FIND Cancel indication primitive. The response shall not contain an Identifier.</para>
   <para>f)                FailedIndicates that the C-FIND operation failed at the performing DIMSE-service-user.</para></sect4></sect4><sect4><title>9.1.2.2        C-FIND service procedures</title>
   <para> The following C-FIND service procedures apply to the invoking DIMSE-service user:</para>
   <para>a)        The invoking DIMSE-service-user requests a performing DIMSE-service-user to match an Identifier against the Attributes of all SOP Instances known to the performing DIMSE-service-user by issuing a C-FIND request primitive to the DIMSE-service-provider. If the request is rejected by the DIMSE-service-provider, the following procedures do not apply.</para>
   <para>b)        At any time before receiving a C-FIND confirmation primitive with a status unequal to Pending, the invoking DIMSE-service-user may request the performing DIMSE-service-user to cancel the service by issuing a C-FIND cancel request primitive to the DIMSE-service-provider.</para>
   <para>c)                The invoking DIMSE-service-user receives a C-FIND confirmation primitive for each unique match of the  Identifier to a set of composite SOP Instance Attributes.</para>
   <para>d)        The invoking DIMSE-service-user receives a final C-FIND confirmation primitive.</para>
   <para/>
   <para>Note:        In the above procedures, (c) may precede (b).</para>
   <para/>
   <para>The following C-FIND service procedures apply to the performing DIMSE-service-user:</para>
   <para>a)        When the performing DIMSE-service-user receives a C-FIND indication from the DIMSE-service-provider, it matches the Identifier against the Attributes of known composite SOP Instances.</para>
   <para>b)        At any time following the C-FIND indication, the performing DIMSE-service-user may receive a C-FIND cancel indication.</para>
   <para>c)                If the C-FIND cancel indication is received before the processing of the C-FIND indication has completed, then the C-FIND operation is aborted; otherwise the following procedure does not apply.</para>
   <para>d)        The performing DIMSE-service-user issues a C-FIND response with a status of Canceled to the DIMSE-service-provider to indicate that the C-FIND has been canceled. The following procedures do not apply.</para>
   <para>e)        For each match, the performing DIMSE-service-user issues a C-FIND response with the status set to Pending and a matching Identifier.</para>
   <para>f)                When the C-FIND operation completes (either in success or in failure), the performing DIMSE-service-user issues a  C-FIND response with the status set to either Refused, Failed, or Success to the DIMSE-service-provider.</para>
   <para>The following C-FIND service procedures apply to the DIMSE-service-provider:</para>
   <para>a)        When the DIMSE-service-provider receives a C-FIND request primitive from the invoking DIMSE-service-user, it issues a C-FIND indication primitive to the performing DIMSE-service-user.</para>
   <para>b)        When the DIMSE-service-provider receives a C-FIND cancel request primitive from the invoking DIMSE-service-user, it issues a C-FIND cancel indication to the performing DIMSE-service-user.</para>
   <para>c)                When the DIMSE-service-provider receives a C-FIND response primitive from the performing DIMSE-service-user, it issues a C-FIND confirmation primitive to the invoking DIMSE-service-user.</para>
   <para>The performing DIMSE-service-user may return a C-FIND response primitive with the status of Failed or Refused before the entire C-FIND indication (Data Set) has been completely transmitted by the invoking DIMSE-service-user. A C-FIND response primitive with the status of Success or Warning shall not be returned until the entire C-FIND indication has been received by the performing DIMSE-service-user.</para>
   <para>Note        Such an occurrence of a "Failed" response is often called an early failed response.</para>
   <para/></sect4></sect3><sect3><title>9.1.3        C-GET SERVICE</title>
   <para>The C-GET service is used by a DIMSE-service-user to match a set of Attributes against the Attributes of a set of composite SOP Instances maintained by a peer DIMSE-service-user, and retrieve all composite SOP Instances which match. It triggers one or more C-STORE sub-operations on the same Association. It is a confirmed service.</para><sect4><title>9.1.3.1        C-GET parameters</title>
   <para>See Table 9.1-3.</para>
   <para>Table 9.1-3C-GET PARAMETERS</para>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>DIMSE-C Parameter Name</para>
            </entry>
            <entry>
               <para>Req/Ind</para>
            </entry>
            <entry>
               <para>Rsp/Conf</para>
            </entry>
            <entry>
               <para>CnclReq/CnclInd</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para>U</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID Being Responded To</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para>U(=)</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Priority</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Identifier</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para>­U</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Number of  Remaining Sub-operations </para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>C</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Number of Completed Sub-operations</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>C</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Number of Failed Sub-operations</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>C</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Number of Warning Sub-operations</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>C</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/><sect4><title>9.1.3.1.1        Message ID</title>
   <para>This parameter identifies the operation. It is used to distinguish this operation from other notifications or operations that the DIMSE-service-provider may have in progress. No two identical values for the Message ID (0000,0110) shall be used for outstanding operations or notifications.</para>
   <para>Note        1.  Inclusion of this parameter in the confirmation was permitted in previous versions of this Standard but this mode of use is now retired. This parameter may be included in the confirmation but in such a case the invoking DIMSE-service-user should not attach any semantic significance to this parameter.</para>
   <para>        2.  The Message ID (0000,0110) is recommended to be unique within the scope of an Association, to support debug procedures.</para>
   <para/></sect4><sect4><title>9.1.3.1.2        Message ID being responded to</title>
   <para>This parameter specifies the Message ID (0000,0110) of the request/indication to which this response/confirmation applies.</para></sect4><sect4><title>9.1.3.1.3        Affected SOP class UID</title>
   <para>For the request/indication, this parameter specifies the SOP Class of the Information Model for the retrieve. It may be included in the response/confirmation. If included in the response/confirmation, this parameter shall be equal to the value in the request/indication. </para></sect4><sect4><title>9.1.3.1.4        Priority</title>
   <para>This parameter specifies the priority of the C-GET operation. It shall be one of LOW, MEDIUM or HIGH. This priority shall also be the priority used for all sub-operations.</para></sect4><sect4><title>9.1.3.1.5        Identifier</title>
   <para>In the request/indication, this is a list of Attributes to be matched against the values of the Attributes of known composite SOP Instances of the performing DIMSE-service-user. The list of  Attributes allowed and the rules for the construction are specified in PS 3.4.</para>
   <para>Note:        The Identifier is specified as U in the Response/Confirmation, but Services defined in PS 3.4 that use this primitive may impose mandatory or conditional requirements on its presence.</para>
   <para/>
   <para>In the response/confirmation, this is a list of Attributes which provide status information about the C-GET operation. The list of Attributes allowed and the rules which define the usage of the Identifier are specified in PS 3.4.</para></sect4><sect4><title>9.1.3.1.6        Status</title>
   <para>Indicates the status of the response. It may have any of the following values:</para>
   <para>a)        SuccessThis indicates that processing of the matches and all sub-operations are complete.</para>
   <para>b)        PendingThis indicates that processing of the matches and sub-operations is initiated or continuing.</para>
   <para>c)         Refused: Out of ResourcesIndicates that  processing of the C-GET has been terminated because it was out of resources. This may be the initial response to the C-GET or may be sent after a number of Pending statuses.</para>
   <para>d)        Refused: SOP Class Not SupportedIndicates that  processing of the C-GET has been terminated because the SOP Class was not supported.</para>
   <para>e)        CancelIndicates that processing of the C-GET has been terminated due to a C-GET Cancel indication primitive.</para>
   <para>f)                FailedIndicates that the C‑GET operation failed at the performing DIMSE-service-user.</para></sect4><sect4><title>9.1.3.1.7        Number of remaining sub-operations</title>
   <para>This specifies the number of remaining C-STORE sub-operations to be invoked by this C-GET operation. It may be included in any response/confirmation and shall be included if the status is equal to Pending.</para></sect4><sect4><title>9.1.3.1.8        Number of completed sub-operations</title>
   <para>This specifies the number of C-STORE sub-operations invoked by this C-GET operation which have completed successfully. It may be included in any response/confirmation and shall be included if the status is equal to Pending.</para></sect4><sect4><title>9.1.3.1.9        Number of failed sub-operations</title>
   <para>This specifies the number of C-STORE sub-operations invoked by this C-GET operation which have failed. It may be included in any response/confirmation and shall be included if the status is equal to Pending.</para></sect4><sect4><title>9.1.3.1.10        Number of warning sub-operations</title>
   <para>This specifies the number of C-STORE sub-operation invoked by this C-GET operation which generated Warning responses. It may be included in any response/confirmation and shall be included if the status is equal to Pending.</para></sect4></sect4><sect4><title>9.1.3.2        C-GET service procedures</title>
   <para>The following C-GET service procedures apply to the invoking DIMSE-service user:</para>
   <para>a)        The invoking DIMSE-service-user requests a performing DIMSE-service-user to match an Identifier against the Attributes of all SOP Instances known to the performing DIMSE-service-user and generate a C-STORE sub-operation for each match. This request is made by issuing a C-GET request primitive to the DIMSE-service-provider. If the request is rejected by the DIMSE-service-provider, the following procedures do not apply.</para>
   <para>b)        At any time before receiving a C-GET confirmation primitive with status unequal to Pending, the invoking DIMSE-service-user may request the performing DIMSE-service-user to cancel the service by issuing a C-GET cancel request primitive to the DIMSE-service-provider.</para>
   <para>c)                The invoking DIMSE-service-user may receive  C-GET confirmation primitives with status of Pending during the processing of the C-GET operation.</para>
   <para>d)        The invoking DIMSE-service-user receives a final C-GET confirmation primitive.</para>
   <para/>
   <para>Note        In the above procedures, (c) may precede (b).</para>
   <para/>
   <para>The following C-GET service procedures apply to the performing DIMSE-service-user:</para>
   <para>a)        When the performing DIMSE-service-user receives a C-GET indication from the DIMSE-service-provider it matches the Identifier against the Attributes of known composite SOP Instances and generates a C-STORE sub-operation for each match.</para>
   <para>b)        At any time following the C-GET indication, the performing DIMSE-service-user may receive a C-GET cancel indication.</para>
   <para>c)                If the C-GET cancel indication is received before the processing of the C-GET indication has completed, then the C-GET operation is terminated; otherwise the following procedure does not apply.</para>
   <para>d)        The performing DIMSE-service-user issues a C-GET response with a status of Canceled to the DIMSE-service-provider to indicate that the C-GET has been canceled. The following procedures do not apply.</para>
   <para>e)        For each match, the performing DIMSE-service-user initiates a C-STORE sub-operation on the same Association as the C-GET. In this sub-operation, the C-GET performing DIMSE-service-user becomes the C-STORE invoking DIMSE-service-user. The C-STORE performing  DIMSE-service-user is the C-GET invoking DIMSE-service-user.</para>
   <para>f)                During the processing of the C-GET operation, the performing DIMSE-service-user may issue C-GET response primitives with a status of Pending.</para>
   <para>g)        When the C-GET operation completes (either in success or in failure), the performing DIMSE-service-user issues a C-GET response with the status set to either refused, failed or success to the DIMSE-service-provider.</para>
   <para>The following C-GET service procedures apply to the DIMSE-service-provider:</para>
   <para>a)        When the DIMSE-service-provider receives a C-GET request primitive from the invoking DIMSE-service-user, it issues a C-GET indication primitive to the performing DIMSE-service-user.</para>
   <para>b)        When the DIMSE-service-provider receives a C-GET cancel request primitive from the invoking DIMSE-service-user, it issues a C-GET cancel indication to the performing DIMSE-service-user.</para>
   <para>c)                When the DIMSE-service-provider receives a C-GET response primitive from the performing DIMSE-service-user, it issues a C-GET confirmation primitive to the invoking DIMSE-service-user.</para>
   <para>The performing DIMSE-service-user may return a C-GET response primitive with the status of Failed or Refused before the entire C-GET indication (Data Set) has been completely transmitted by the invoking DIMSE-service-user. A C-GET response primitive with the status of Success or Warning shall not be returned until the entire C-GET indication has been received by the performing DIMSE-service-user.</para>
   <para>Note        Such an occurrence of a "Failed" response is often called an early failed response.</para>
   <para/></sect4></sect3><sect3><title>9.1.4        C-MOVE SERVICE</title>
   <para>The C-MOVE service is used by a DIMSE-service-user to match a set of Attributes against the Attributes of a set of composite SOP Instances maintained by a peer DIMSE-service-user, and retrieve all composite SOP Instances which match.  It triggers one or more C-STORE sub-operations on a separate Association. It is a confirmed service.</para><sect4><title>9.1.4.1        C-MOVE parameters</title>
   <para>See Table 9.1-4.</para>
   <para>Table 9.1-4C-MOVE PARAMETERS</para>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>DIMSE-C Parameter Name</para>
            </entry>
            <entry>
               <para>Req/Ind</para>
            </entry>
            <entry>
               <para>Rsp/Conf</para>
            </entry>
            <entry>
               <para>CnclReq/CnclInd</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para>U</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID Being Responded To</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para>U(=)</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Priority</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Move Destination</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Identifier</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para>U</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Number of  Remaining Sub-operations </para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>C</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Number of Completed Sub-operations</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>C</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Number of Failed Sub-operations</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>C</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Number of Warning Sub-operations</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>C</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/><sect4><title>9.1.4.1.1        Message ID</title>
   <para>This parameter identifies the operation. It is used to distinguish this operation from other notifications or operations that the DIMSE-service-provider may have in progress. No two identical values for the Message ID (0000,0110) shall be used for outstanding operations or notifications.</para>
   <para>Notes:        1.  Inclusion of this parameter in the confirmation was permitted in previous versions of this Standard but this mode of use is now retired. This parameter may be included in the confirmation but in such a case the invoking DIMSE-service-user should not attach any semantic significance to this parameter.</para>
   <para>        2.  The Message ID (0000,0110) is recommended to be unique within  the scope of an Association, to support debug procedures.</para>
   <para/></sect4><sect4><title>9.1.4.1.2        Message ID being responded to</title>
   <para>This parameter specifies the Message ID (0000,0110) of the request/indication to which this response/confirmation applies.</para></sect4><sect4><title>9.1.4.1.3        Affected SOP class UID</title>
   <para>For the request/indication, this parameter specifies the SOP Class of the Information Model for the retrieve. It may be included in the response/confirmation. If included in the response/confirmation, this parameter shall be equal to the value in the request/indication. </para></sect4><sect4><title>9.1.4.1.4        Priority</title>
   <para>This parameter specifies the priority of the C-MOVE operation. It shall be one of LOW, MEDIUM or HIGH . This priority shall also be the priority used for all sub-operations.</para></sect4><sect4><title>9.1.4.1.5        Move destination</title>
   <para>This parameter specifies the DICOM AE Title of the destination DICOM AE to which the C-STORE sub-operations are being performed.</para></sect4><sect4><title>9.1.4.1.6        Identifier</title>
   <para>In the request/indication, this is a list of Attributes to be matched against the values of the Attributes of known composite SOP Instances of the performing DIMSE-service-user. The list of Attributes allowed and the rules for the construction are in PS 3.4.</para>
   <para>Note:        The Identifier is specified as U in the Response/Confirmation, but Services defined in PS 3.4 that use this primitive may impose mandatory or conditional requirements on its presence.</para>
   <para/>
   <para>In the response/confirmation, this is a list of Attributes that provide status information about the C-MOVE operation. The list of Attributes allowed and the rules that define the usage of the Identifier are specified in PS 3.4.</para></sect4><sect4><title>9.1.4.1.7        Status</title>
   <para>Indicates the status of the response. It may have any of the following values:</para>
   <para>a)        SuccessThis indicates that processing of the matches and all sub-operations are complete.</para>
   <para>b)        PendingThis indicates that procession of the matches and sub-operations is initiated or continuing.</para>
   <para>c)                Refused: Out of ResourcesIndicates that  processing of the C-MOVE has been terminated because it was out of resources. This may be the initial response to the C-MOVE or may be sent after a number of Pending statuses.</para>
   <para>d)        Refused: SOP Class Not SupportedIndicates that  processing of the C-MOVE has been terminated because the SOP Class was not supported.</para>
   <para>e)        Refused: Move Destination UnknownIndicates that  processing of the C-MOVE has been terminated because the Move destination was unknown.</para>
   <para>f)                CancelIndicates that processing of the C-MOVE has been terminated due to a C-MOVE Cancel indication primitive.</para>
   <para>g)        FailedIndicates that the C‑MOVE operation failed at the performing DIMSE-service-user.</para></sect4><sect4><title>9.1.4.1.8        Number of remaining sub-operations</title>
   <para>This specifies the number of remaining C-STORE sub-operations to be invoked by this C-MOVE operation. It may be included in any response/confirmation and shall be included if the status is equal to Pending.</para></sect4><sect4><title>9.1.4.1.9        Number of completed sub-operations</title>
   <para>This specifies the number of C-STORE sub-operations invoked by this C-MOVE operation which have completed successfully. It may be included in any response/confirmation and shall be included if the status is equal to Pending.</para></sect4><sect4><title>9.1.4.1.10        Number of failed sub-operations</title>
   <para>This specifies the number of C-STORE sub-operations invoked by this C-MOVE operation which have failed. It may be included in any response/confirmation and shall be included if the status is equal to Pending.</para></sect4><sect4><title>9.1.4.1.11        Number of warning sub-operations</title>
   <para>This specifies the number of C-STORE sub-operation invoked by this C-MOVE operation which generated Warning responses. It may be included in any response/confirmation and shall be included if the status is equal to Pending.</para></sect4></sect4><sect4><title>9.1.4.2        C-MOVE service procedures</title>
   <para>The following C-MOVE service procedures apply to the invoking DIMSE-service user:</para>
   <para>a)        The invoking DIMSE-service-user requests a performing DIMSE-service-user to match an Identifier against the Attributes of all SOP Instances known to the performing DIMSE-service-user and generate a C-STORE sub-operation for each match. This request is made by issuing a C-MOVE request primitive to the DIMSE-service-provider. If the request is rejected by the DIMSE-service-provider, the following procedures do not apply.</para>
   <para>b)        At any time before receiving a C-MOVE confirmation primitive with status unequal to Pending, the invoking DIMSE-service-user may request the performing DIMSE-service-user to cancel the service by issuing a C-MOVE cancel request primitive to the DIMSE-service-provider.</para>
   <para>c)                The invoking DIMSE-service-user may receive C-MOVE confirmation primitives with status of Pending during the processing of the C-MOVE operation.</para>
   <para>d)        The invoking DIMSE-service-user receives a final C-MOVE confirmation primitive.</para>
   <para>Note        in the above procedures, (c) may precede (b).</para>
   <para/>
   <para>The following C-MOVE service procedures apply to the performing DIMSE-service-user:</para>
   <para>a)        When the performing DIMSE-service-user receives a C-MOVE indication from the DIMSE-service-provider it matches the Identifier against the Attributes of known composite SOP Instances and generates a C-STORE sub-operation for each match.</para>
   <para>b)        At any time following the C-MOVE indication, the performing DIMSE-service-user may receive a C-MOVE cancel indication.</para>
   <para>c)                If the C-MOVE cancel indication is received before the processing of the C-MOVE request has completed, then the C-MOVE operation is terminated; otherwise the following procedure does not apply.</para>
   <para>d)        The performing DIMSE-service-user issues a C-MOVE response with a status of Canceled to the DIMSE-service-provider to indicate that the C-MOVE has been canceled. The following procedures do not apply.</para>
   <para>e)        For each matching composite SOP Instance, the C-MOVE performing DIMSE-service-user initiates a C-STORE sub-operation on a different Association than the C-MOVE. In this sub-operation, the C-MOVE performing DIMSE-service-user becomes the C-STORE invoking DIMSE-service-user. The C-STORE performing DIMSE-service-user may or may not be the C-MOVE invoking DIMSE-service-user.</para>
   <para>f)                During the processing of the C-MOVE operation, the performing DIMSE-service-user may issue C-MOVE response primitives with a status of Pending.</para>
   <para>g)        When the C-MOVE operation completes (either in success or in failure), the performing DIMSE-service-user issues a C-MOVE response with the status set to either Refused, Failed, or Success to the DIMSE-service-provider.</para>
   <para>The following C-MOVE service procedures apply to the DIMSE-service-provider:</para>
   <para>a)        When the DIMSE-service-provider receives a C-MOVE request primitive from the invoking DIMSE-service-user, it issues a C-MOVE indication primitive to the performing DIMSE-service-user.</para>
   <para>b)        When the DIMSE-service-provider receives a C-MOVE cancel request primitive from the invoking DIMSE-service-user, it issues a C-MOVE cancel indication to the performing DIMSE-service-user.</para>
   <para>c)                When the DIMSE-service-provider receives a C-MOVE response primitive from the performing DIMSE-service-user, it issues a C-MOVE confirmation primitive to the invoking DIMSE-service-user.</para>
   <para>The performing DIMSE-service-user may return a C-MOVE response primitive with the status of Failed or Refused before the entire C-MOVE indication (Data Set) has been completely transmitted by the invoking DIMSE-service-user. A C-MOVE response primitive with the status of Success or Warning shall not be returned until the entire C-MOVE indication has been received by the performing DIMSE-service-user.</para>
   <para>Notes:        Such an occurrence of a "Failed" response is often called an early failed response.</para>
   <para/></sect4></sect3><sect3><title>9.1.5        C-ECHO SERVICE</title>
   <para>The C-ECHO service is invoked by a DIMSE-service-user to verify end-to-end communications with a peer DIMSE-service-user. It is a confirmed service.</para><sect4><title>9.1.5.1        C-ECHO parameters</title>        <para>Table 9.1-5C-ECHO PARAMETERS</para>
   <informaltable frame="all">
      <tgroup cols="3"><tbody><row>
            <entry>
               <para>DIMSE-C Parameter Name</para>
            </entry>
            <entry>
               <para>Req/Ind</para>
            </entry>
            <entry>
               <para>Rsp/Conf</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para>U</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID Being Responded To</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para>U(=)</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/><sect4><title>9.1.5.1.1        Message ID</title>
   <para>This parameter identifies the operation. It is used to distinguish this operation from other notifications or operations that the DIMSE-service-provider may have in progress. No two identical values for the Message ID (0000,0110) shall be used for outstanding operations or notifications.</para>
   <para>Notes:        1.  Inclusion of this parameter in the confirmation was permitted in previous versions of this Standard but this mode of use is now retired. This parameter may be included in the confirmation but in such a case the invoking DIMSE-service-user should not attach any semantic significance to this parameter.</para>
   <para>        2.  The Message ID (0000,0110) is recommended to be unique within the scope of an Association, to support debug procedures.</para>
   <para/></sect4><sect4><title>9.1.5.1.2        Message ID being responded to</title>
   <para>This parameter specifies the Message ID (0000,0110) of the request/indication to which this response/ confirmation applies.</para></sect4><sect4><title>9.1.5.1.3        Affected SOP class UID</title>
   <para>For the request/indication, this parameter specifies the SOP Class of the SOP Instance for the verification. It may be included in the response/confirmation. If included in the response/confirmation, this parameter shall be equal to the value in the request/indication. </para></sect4><sect4><title>9.1.5.1.4         Status</title>
   <para>Indicates the status of the response. It shall have a value of success.</para></sect4></sect4><sect4><title>9.1.5.2        C-ECHO service procedures</title>
   <para>The following C-ECHO procedures apply:</para>
   <para>a)        The invoking DIMSE-service-user requests verification of communication to the performing DIMSE-service-user by issuing a C-ECHO request primitive to the DIMSE-service-provider.</para>
   <para>b)        The DIMSE-service-provider issues a C-ECHO indication primitive to the performing DIMSE-service-user.</para>
   <para>c)                The performing DIMSE-service-user verifies communication by issuing a C-ECHO response primitive to the DIMSE-service-provider.</para>
   <para>d)        The DIMSE-service-provider issues a C-ECHO confirmation primitive to the invoking DIMSE-service-user, completing the C-ECHO operation.</para></sect4></sect3></sect2><sect2><title>9.2        Sequencing</title><sect3><title>9.2.1        TYPES OF SERVICES</title>
   <para>All operation and notifications shall be confirmed services.</para></sect3><sect3><title>9.2.2        USAGE RESTRICTIONS</title>
   <para>These services may only be invoked within the context of an established Association.</para></sect3><sect3><title>9.2.3        DISRUPTED PROCEDURES</title>
   <para>These services do not disrupt any other service procedure.</para></sect3><sect3><title>9.2.4        DISRUPTING PROCEDURES</title>
   <para>These services are disrupted by the A-ABORT service procedure.</para></sect3></sect2><sect2><title>9.3        Protocol</title>
   <para>This section specifies the protocol necessary to perform the set of DIMSE-C operations. The Value Representations (VR) specified in the following tables shall be encoded as defined in PS 3.5.</para><sect3><title>9.3.1        C-STORE PROTOCOL</title>
   <para>The information necessary for the C-STORE request and indication DIMSE-C primitives are conveyed in the C-STORE-RQ Message. The information necessary for the C-STORE response and confirmation DIMSE-C primitives are conveyed in the C-STORE-RSP Message.</para><sect4><title>9.3.1.1        C-STORE-RQ</title>
   <para>The C-STORE-RQ Message contains fields as defined in Table 9.3-1. Each field shall conform to DICOM encoding and Value Representation as defined in PS 3.5. Fields are required as specified in the C-STORE service definition unless otherwise noted in Table 9.3-1. Fields not specified in the C-STORE service definition but present in Table 9.3-1 are required by the DIMSE-C protocol.</para>
   <para>Table 9.3-1C-STORE-RQ MESSAGE FIELDS</para>
   <informaltable frame="all">
      <tgroup cols="5"><tbody><row>
            <entry>
               <para>Message Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Group Length</para>
            </entry>
            <entry>
               <para>(0000,0000)</para>
            </entry>
            <entry>
               <para>UL</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The even number of bytes from the end of the value field to the beginning of the next group.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>(0000,0002)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>SOP Class UID of the SOP Instance to be stored.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Field</para>
            </entry>
            <entry>
               <para>(0000,0100)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field distinguishes the DIMSE‑C operation conveyed by this Message. The value of this field shall be set to 0001H for the C-STORE-RQ Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID</para>
            </entry>
            <entry>
               <para>(0000,0110)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Implementation-specific value. It distinguishes this Message from other Messages.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Priority</para>
            </entry>
            <entry>
               <para>(0000,0700)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The priority shall be set to one of the following values:</para>
               <para>LOW = 0002H</para>
               <para>MEDIUM = 0000H</para>
               <para>HIGH = 0001H</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Data Set Type</para>
            </entry>
            <entry>
               <para>(0000,0800)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field indicates that a Data Set is present  in the Message. It shall be set to any value other than 0101H (Null).</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Instance UID</para>
            </entry>
            <entry>
               <para>(0000,1000)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Contains the UID of the SOP Instance to be stored.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Move Originator Application Entity Title</para>
            </entry>
            <entry>
               <para>(0000,1030)</para>
            </entry>
            <entry>
               <para>AE</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Contains the DICOM AE Title of the DICOM AE which invoked the C-MOVE operation from which this C-STORE sub-operation is being performed.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Move Originator Message ID</para>
            </entry>
            <entry>
               <para>(0000,1031)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Contains the Message ID (0000,0110) of the C-MOVE-RQ Message from which this C-STORE sub-operations is being performed.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Data Set</para>
            </entry>
            <entry>
               <para>(no tag)</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>Application-specific Data Set.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/>
   <para>Note        The contents of Composite Information Object Definitions, encoded as a series of Data Elements, are defined in PS 3.3 and PS 3.4</para>
   <para/></sect4><sect4><title>9.3.1.2        C-STORE-RSP</title>
   <para>The C-STORE-RSP Message contains fields as defined in Table 9.3-2 and in Annex C. Each field shall conform to DICOM encoding and Value Representation as defined in PS 3.5 of the DICOM Standard. Fields are required as specified in the C-STORE service definition unless otherwise noted in Table 9.3-2. Fields not specified in the C-STORE service definition but present in Table 9.3-2 are required by the DIMSE-C protocol.</para>
   <para>Table 9.3-2C-STORE-RSP MESSAGE FIELDS </para>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Message Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Group Length</para>
            </entry>
            <entry>
               <para>(0000,0000)</para>
               <para/>
            </entry>
            <entry>
               <para>UL</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The even number of bytes from the end of the value field to the beginning of the next group.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>(0000,0002)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Contains the SOP Class of the SOP Instance stored.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Field</para>
            </entry>
            <entry>
               <para>(0000,0100)</para>
               <para/>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field distinguishes the DIMSE‑C operation conveyed by this Message. The value of this field shall be set to 8001H for the C-STORE-RSP Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID Being Responded To</para>
            </entry>
            <entry>
               <para>(0000,0120)</para>
               <para/>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Shall be set to the value of the Message ID (0000,0110) field used in associated C-STORE-RQ Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Data Set Type</para>
            </entry>
            <entry>
               <para>(0000,0800)</para>
               <para/>
            </entry>
            <entry>
               <para>US</para>
               <para/>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field indicates that no Data Set is present in the Message and shall be set to a value of 0101H (Null). </para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
               <para/>
            </entry>
            <entry>
               <para>US</para>
               <para/>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The value of this field depends upon the status type. Annex C defines the encoding of the status types defined in the service definition.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Instance UID</para>
            </entry>
            <entry>
               <para>(0000,1000)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Contains the UID of the SOP Instance stored.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect4><sect4><title>9.3.1.3        C-STORE protocol procedures</title>
   <para>The C-STORE procedures are initiated by the invoking DIMSE-service-user issuing a C-STORE request primitive. On receipt of the C-STORE request primitive the DIMSE-C protocol machine shall:</para>
   <para>        construct a Message conveying the C-STORE-RQ</para>
   <orderedlist>
      <listitem>
         <para>send the Message using the P-DATA request service (See 8.1)</para>
      </listitem>
   </orderedlist>
   <para/>
   <para>On receipt of a Message conveying a C-STORE-RQ the DIMSE-C protocol machine shall issue a C-STORE indication primitive to the performing DIMSE-service-user.</para>
   <para>On receipt of the C-STORE response primitive, issued by the performing DIMSE-service-user, the DIMSE-C protocol machine shall:</para>
   <para>        construct a Message conveying the C-STORE-RSP</para>
   <para>        send the Message using the P-DATA request service (See 8.1)</para>
   <para>On receipt of a Message conveying a C-STORE-RSP the DIMSE-C protocol machine shall issue a C-STORE confirmation primitive to the invoking DIMSE-service-user, thus completing the C-STORE procedure.</para>
   <para>The performing DIMSE-service-user may return a C-STORE-RSP with the status of Failed or Refused before the complete C-STORE-RQ request Message has been completely transmitted by the invoking DIMSE-service-user (this is called an early failed response). Upon receipt of this Failed or Refused C-STORE-RSP the invoking DIMSE-service-user may  terminate the Message before it is completely sent (i.e. set the Last Fragment bit to 1 in a Data PDV for this Message, see Annex F). Following this, it may invoke another operation or notification. It is a protocol violation for an invoking DIMSE-service-user to set the Last Fragment bit to 1 before a C-STORE-RQ Message has been completely transmitted if it has not received a Failed or Refused C-STORE-RSP to that request.</para>
   <para>Note:        When an Association is operating in asynchronous mode, it is possible for an invoking DIMSE-service-user to transmit several Messages before a response. Therefore, while sending a Message it may receive a response to a  previously transmitted Message. In this case this response is not an early failed response because the related Message has already been sent.</para>
   <para/></sect4></sect3><sect3><title>9.3.2        C-FIND PROTOCOL</title>
   <para>The information necessary for the C-FIND request and indication DIMSE-C primitives are conveyed in the C-FIND-RQ Message. The information necessary for the C-FIND response and confirmation DIMSE-C primitives are conveyed in the C-FIND-RSP Message. The information necessary for the C-FIND Cancel Request and Cancel Indication primitives are conveyed in the C-CANCEL-FIND-RQ Message.</para><sect4><title>9.3.2.1        C-FIND-RQ</title>
   <para>The C-FIND-RQ Message contains fields as defined in Table 9.3-3. Each field shall conform to DICOM encoding and Value Representation as defined in PS 3.5. Fields are required as specified in the C-FIND service definition unless otherwise noted in Table 9.3-3. Fields not specified in the C-FIND service definition but present in Table 9.3-3 are required by the DIMSE-C protocol.</para>
   <para>Table 9.3-3C-FIND-RQ MESSAGE FIELDS</para>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Message Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Group Length</para>
            </entry>
            <entry>
               <para>(0000,0000)</para>
            </entry>
            <entry>
               <para>UL</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The even number of bytes from the end of the value field to the beginning of the next group.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>(0000,0002)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>SOP Class UID associated with this operation.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Field</para>
            </entry>
            <entry>
               <para>(0000,0100)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field distinguishes the DIMSE‑C operation conveyed by this Message. The value of this field shall be set to 0020H for the C-FIND-RQ Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID</para>
            </entry>
            <entry>
               <para>(0000,0110)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Implementation-specific value which distinguishes this Message from other Messages.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Priority</para>
            </entry>
            <entry>
               <para>(0000,0700)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The priority shall be set to one of the following values:</para>
               <para>LOW = 0002H</para>
               <para>MEDIUM = 0000H</para>
               <para>HIGH = 0001H</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Data Set Type</para>
            </entry>
            <entry>
               <para>(0000,0800)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field indicates that a Data Set is present  in the Message. It shall be set to any value other than 0101H (Null).</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Identifier</para>
            </entry>
            <entry>
               <para>(no tag)</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>A Data Set which encodes the Identifier to be matched. See Section 9.1.2.1.4.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/>
   <para>Note:        Implementations which require compatibility to previous versions of this Standard must set the Command Data Set Type (0000,0800) Field to 0102H (Identifier).</para>
   <para/></sect4><sect4><title>9.3.2.2        C-FIND-RSP</title>
   <para>The C-FIND-RSP Message contains fields as defined in Table 9.3-4 and in Annex C. Each field shall conform to DICOM encoding and Value Representation as defined in PS 3.5. Fields are required as specified in the C-FIND service definition unless otherwise noted in Table 9.3-4. Fields not specified in the C-FIND service definition but present in Table 9.3-4 are required by the DIMSE-C protocol.</para>
   <para>Table 9.3-4C-FIND-RSP MESSAGE FIELDS</para>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Message Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Group Length</para>
            </entry>
            <entry>
               <para>(0000,0000)</para>
               <para/>
            </entry>
            <entry>
               <para>UL</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The even number of bytes from the end of the value field to the beginning of the next group.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>(0000,0002)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>SOP Class UID associated with the operation.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Field</para>
            </entry>
            <entry>
               <para>(0000,0100)</para>
               <para/>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field distinguishes the DIMSE‑C operation conveyed by this Message. The value of this field shall be set to 8020H for the C-FIND-RSP Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID Being Responded To</para>
            </entry>
            <entry>
               <para>(0000,0120)</para>
               <para/>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Shall be set to the value of the Message ID (0000,0110) field used in associated C-FIND-RQ Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Data Set Type</para>
            </entry>
            <entry>
               <para>(0000,0800)</para>
               <para/>
            </entry>
            <entry>
               <para>US</para>
               <para/>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field indicates if a Data Set is present in the Message. This field shall be set to the value of 0101H (Null) if no Data Set is present; any other value indicates a Data Set is included in the Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
               <para/>
            </entry>
            <entry>
               <para>US</para>
               <para/>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The value of this field depends upon the status type. Annex C defines the encoding of the status types defined in the service definition.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Identifier</para>
            </entry>
            <entry>
               <para>(no tag)</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>A Data Set which encodes the Identifier that was matched. See Section 9.1.2.1.4.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect4><sect4><title>9.3.2.3        C-CANCEL-FIND-RQ</title>
   <para>The C-CANCEL-FIND-RQ Message contains fields as defined in Table 9.3-5. Each field shall conform to DICOM encoding and Value Representation as defined in PS 3.5. Fields are required as specified in the C-FIND service definition unless otherwise noted in Table 9.3-5. Fields not specified in the C-FIND service definition but present in Table 9.3-5 are required by the DIMSE-C protocol.</para>
   <para>Table 9.3-5C-CANCEL-FIND-RQ MESSAGE FIELDS</para>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Message Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Group Length</para>
            </entry>
            <entry>
               <para>(0000,0000)</para>
               <para/>
            </entry>
            <entry>
               <para>UL</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The even number of bytes from the end of the value field to the beginning of the next group.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Field</para>
            </entry>
            <entry>
               <para>(0000,0100)</para>
               <para/>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field distinguishes the DIMSE‑C operation conveyed by this Message. The value of this field shall be set to 0FFFH for the C-CANCEL-FIND-RQ Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID Being Responded To</para>
            </entry>
            <entry>
               <para>(0000,0120)</para>
               <para/>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Shall be set to the value of the Message ID (0000,0110) field used in associated C-FIND-RQ Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Data Set Type</para>
            </entry>
            <entry>
               <para>(0000,0800)</para>
               <para/>
            </entry>
            <entry>
               <para>US</para>
               <para/>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field indicates that no Data Set is present in the Message and shall be set to a value of 0101H. </para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect4><sect4><title>9.3.2.4        C-FIND protocol procedures</title>
   <para>The C-FIND procedures are initiated by the invoking DIMSE-service-user issuing a C-FIND request primitive. On receipt of the C-FIND request primitive the DIMSE-C protocol machine shall:</para>
   <para>        construct a Message conveying the C-FIND-RQ</para>
   <para>        send the Message using the P-DATA request service (See 8.1)</para>
   <para>On receipt of a Message conveying a C-FIND-RQ the DIMSE-C protocol machine shall issue a C-FIND indication primitive to the performing DIMSE-service-user.</para>
   <para>The DIMSE-C protocol machine shall:</para>
   <para>        accept zero or more C-FIND response primitives containing the status of Pending, issued by the performing DIMSE-service-user, followed by a single C-FIND response primitive containing the final status</para>
   <para>        for each C-FIND response primitive containing the Pending status the DIMSE-C protocol machine shall:</para>
   <para>a)        construct a Message conveying the (Pending) C-FIND-RSP</para>
   <para>b)        send the Message using the P-DATA request service (See 8.1)</para>
   <para/>
   <para>        for the C-FIND response primitive containing the final status the DIMSE-C protocol machine shall:</para>
   <para>a)        construct a Message conveying the (final) C-FIND-RSP</para>
   <para>b)        end the Message using the P-DATA request service (See 8.1)</para>
   <para/>
   <para>On receipt of a Message conveying a C-FIND-RSP the DIMSE-C protocol machine shall:</para>
   <para>        if the Message indicates the status of Pending, issue a C-FIND confirmation primitive to the invoking DIMSE-service-user with a Pending status</para>
   <para>        if the Message indicates a final status, issue a C-FIND confirmation primitive to the invoking DIMSE-service-user with a final status, thus completing the C-FIND procedure</para>
   <para>Note:        The C-FIND procedures can be canceled at any time by the invoking DIMSE-service-user. This is accomplished by the invoking DIMSE-service-user issuing a C-CANCEL request primitive.</para>
   <para/>
   <para>The performing DIMSE-service-user may return a C-FIND-RSP with the status of Failed or Refused before the complete C-FIND-RQ request Message has been completely transmitted by the invoking DIMSE-service-user (this is called an early failed response). Upon receipt of this Failed or Refused C-FIND-RSP the invoking DIMSE-service-user may  terminate the Message before it is completely sent (i.e. set the Last Fragment bit to 1 in a Data PDV for this Message, see Annex F). Following this, it may invoke another operation or notification. It is a protocol violation for an invoking DIMSE-service-user to set the Last Fragment bit to 1 before a C-FIND-RQ Message has been completely transmitted if it has not received a Failed or Refused C-FIND-RSP to that request.</para>
   <para>Note:        When an Association is operating in asynchronous mode, it is possible for an invoking DIMSE-service-user to transmit several Messages before a response. Therefore, while sending a Message it may receive a response to a  previously transmitted Message. In this case this response is not an early failed response because the related Message has already been sent.</para>
   <para/></sect4></sect3><sect3><title>9.3.3        C-GET PROTOCOL</title>
   <para>The information necessary for the C-GET request and indication DIMSE-C primitives are conveyed in the C-GET-RQ Message. The information necessary for the C-GET response and confirmation DIMSE-C primitives are conveyed in the C-GET-RSP Message. The information necessary for the C-GET Cancel Request and Cancel Indication primitives are conveyed in the C-CANCEL-GET-RQ Message.</para><sect4><title>9.3.3.1        C-GET-RQ</title>
   <para>The C-GET-RQ Message contains fields as defined in Table 9.3-6. Each field shall conform to DICOM encoding and Value Representation as defined in PS 3.5. Fields are required as specified in the C-GET service definition unless otherwise noted in Table 9.3-6. Fields not specified in the C-GET service definition but present in Table 9.3-6 are required by the DIMSE-C protocol.</para>
   <para>Table 9.3-6C-GET-RQ MESSAGE FIELDS</para>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Message Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Group Length</para>
            </entry>
            <entry>
               <para>(0000,0000)</para>
            </entry>
            <entry>
               <para>UL</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The even number of bytes from the end of the value field to the beginning of the next group.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>(0000,0002)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>SOP Class UID associated with this operation.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Field</para>
            </entry>
            <entry>
               <para>(0000,0100)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field distinguishes the DIMSE‑C operation conveyed by this Message. The value of this field shall be set to 0010H for the C-GET-RQ Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID</para>
            </entry>
            <entry>
               <para>(0000,0110)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Implementation-specific value which distinguishes this Message from other Messages.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Priority</para>
            </entry>
            <entry>
               <para>(0000,0700)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The priority shall be set to one of the following values:</para>
               <para>LOW = 0002H</para>
               <para>MEDIUM = 0000H</para>
               <para>HIGH = 0001H</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Data Set Type</para>
            </entry>
            <entry>
               <para>(0000,0800)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field indicates that a Data Set is present  in the Message. It shall be set to any value other than 0101H (Null).</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Identifier</para>
            </entry>
            <entry>
               <para>(no tag)</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>A Data Set that encodes attributes providing status information about the C-GET operation. See Section 9.1.3.1.5.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/>
   <para>Note:        Implementations which require compatibility to previous versions of this Standard must set the Command Data Set Type (0000,0800) Field to 0102H (Identifier).</para>
   <para/></sect4><sect4><title>9.3.3.2        C-GET-RSP</title>
   <para>The C-GET-RSP Message contains fields as defined in Table 9.3-7 and in Annex C. Each field shall conform to DICOM encoding and Value Representation as defined in PS 3.5. Fields are required as specified in the C-GET service definition unless otherwise noted in Table 9.3-7. Fields not specified in the C-GET service definition but present in Table 9.3-7 are required by the DIMSE-C protocol.</para>
   <para>Table 9.3-7C-GET-RSP MESSAGE FIELDS</para>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Message Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Group Length</para>
            </entry>
            <entry>
               <para>(0000,0000)</para>
               <para/>
            </entry>
            <entry>
               <para>UL</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The even number of bytes from the end of the value field to the beginning of the next group.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>(0000,0002)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>SOP Class UID associated with the operation.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Field</para>
            </entry>
            <entry>
               <para>(0000,0100)</para>
               <para/>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field distinguishes the DIMSE‑C operation conveyed by this Message. The value of this field shall be set to 8010H for the C-GET-RSP Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID Being Responded To</para>
            </entry>
            <entry>
               <para>(0000,0120)</para>
               <para/>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Shall be set to the value of the Message ID (0000,0110) field used in associated C-GET-RQ Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Data Set Type</para>
            </entry>
            <entry>
               <para>(0000,0800)</para>
               <para/>
            </entry>
            <entry>
               <para>US</para>
               <para/>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field indicates if a Data Set is present in the Message. This field shall be set to the value of 0101H (Null) if no Data Set is present; any other value indicates a Data Set is included in the Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
               <para/>
            </entry>
            <entry>
               <para>US</para>
               <para/>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The value of this field depends upon the status type. Annex C defines the encoding of the status types defined in the service definition.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Number of Remaining Sub-operations</para>
            </entry>
            <entry>
               <para>(0000,1020)</para>
               <para/>
            </entry>
            <entry>
               <para>US</para>
               <para/>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The number of remaining C-STORE sub-operations to be invoked for this C-GET operation.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Number of Completed Sub-operations</para>
            </entry>
            <entry>
               <para>(0000,1021)</para>
               <para/>
            </entry>
            <entry>
               <para>US</para>
               <para/>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The number of C-STORE sub-operations invoked by this C-GET operation which have completed successfully.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Number of Failed Sub-operations</para>
            </entry>
            <entry>
               <para>(0000,1022)</para>
               <para/>
            </entry>
            <entry>
               <para>US</para>
               <para/>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The number of C-STORE sub-operations invoked by this C-GET operation which have failed.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Number of Warning Sub-operations</para>
            </entry>
            <entry>
               <para>(0000,1023)</para>
               <para/>
            </entry>
            <entry>
               <para>US</para>
               <para/>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The number of C-STORE sub-operations invoked by this C-GET operation which generated warning responses.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Identifier</para>
            </entry>
            <entry>
               <para>(no tag)</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>A Data Set which encodes the Identifier that was matched. See Section 9.1.3.1.5.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/>
   <para>Note:        The list of Attributes allowed and the rules which define the usage of the Identifier are specified in PS 3.4.</para></sect4><sect4><title>9.3.3.3        C-CANCEL-GET-RQ</title>
   <para>The C-CANCEL-GET-RQ Message contains fields as defined in Table 9.3-8. Each field shall conform to DICOM encoding and Value Representation as defined in PS 3.5. Fields are required as specified in the C-GET service definition unless otherwise noted in Table 9.3-8. Fields not specified in the C-GET service definition but present in Table 9.3-8 are required by the DIMSE-C protocol.</para>
   <para>Table 9.3-8C-CANCEL-GET-RQ MESSAGE FIELDS</para>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Message Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Group Length</para>
            </entry>
            <entry>
               <para>(0000,0000)</para>
               <para/>
            </entry>
            <entry>
               <para>UL</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The even number of bytes from the end of the value field to the beginning of the next group.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Field</para>
            </entry>
            <entry>
               <para>(0000,0100)</para>
               <para/>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field distinguishes the DIMSE‑C operation conveyed by this Message. The value of this field shall be set to 0FFFH for the C-CANCEL-GET-RQ Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID Being Responded To</para>
            </entry>
            <entry>
               <para>(0000,0120)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Shall be set to the value of the Message ID (0000,0110) field used in associated C-GET-RQ Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Data Set Type</para>
            </entry>
            <entry>
               <para>(0000,0800)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field indicates that no Data Set is present in the Message and shall be set to a value of 0101H.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect4><sect4><title>9.3.3.4        C-GET protocol procedures</title>
   <para>The C-GET procedures are initiated by the invoking DIMSE-service-user issuing a C-GET request primitive. On receipt of the C-GET request primitive the DIMSE-C protocol machine shall:</para>
   <para>        construct a Message conveying the C-GET-RQ</para>
   <para>        send the Message using the P-DATA request service (See 8.1).</para>
   <para>On receipt of a Message conveying a C-GET-RQ the DIMSE-C protocol machine shall issue a C-GET indication primitive to the performing DIMSE-service-user.</para>
   <para>The DIMSE-C protocol machine shall:</para>
   <para>        accept zero or more C-GET response primitives containing the status of Pending, issued by the performing DIMSE-service-user, followed by a single C-GET response primitive containing the final status</para>
   <para>        for each C-GET response primitive containing the Pending status the DIMSE-C protocol machine shall:</para>
   <para>a)        construct a Message conveying the (Pending) C-GET-RSP</para>
   <para>b)        send the Message using the P-DATA request service (See 8.1)</para>
   <para>        for the C-GET response primitive containing the final status the DIMSE-C protocol machine shall:</para>
   <para>a)        construct a Message conveying the (final) C-GET-RSP</para>
   <para>b)        send the Message using the P-DATA request service (See 8.1)</para>
   <para/>
   <para>Note:         The C-GET indication primitive initiates a sub-operation identical to the C-STORE operation. However, for the C-STORE sub-operation the DIMSE-service-users switch their invoking and performing roles (i.e. the invoking DIMSE-service-user becomes the performing DIMSE-service-user, etc.).</para>
   <para/>
   <para>On receipt of a Message conveying a C-GET-RSP the DIMSE-C protocol machine shall:</para>
   <para>        if the Message indicates the status of Pending, issue a C-GET confirmation primitive to the invoking DIMSE-service-user with a Pending status</para>
   <para>        if the Message indicates a final status, issue a C-GET confirmation primitive to the invoking DIMSE-service-user with a final status, thus completing the C-GET procedure</para>
   <para/>
   <para>Note        The C-GET procedures can be canceled at any time by the invoking DIMSE-service-user. This is accomplished by the invoking DIMSE-service-user issuing a C-CANCEL request primitive.</para>
   <para/>
   <para>The performing DIMSE-service-user may return a C-GET-RSP with the status of Failed or Refused before the complete C-GET-RQ request  Message has been completely transmitted by the invoking DIMSE-service-user (this is called an early failed response). Upon receipt of this Failed or Refused C-GET-RSP the invoking DIMSE-service-user may  terminate the Message before it is completely sent (i.e. set the Last Fragment bit to 1 in a Data PDV for this Message, see Annex F). Following this, it may invoke another operation or notification. It is a protocol violation for an invoking DIMSE-service-user to set the Last Fragment bit to 1 before a C-GET-RQ Message has been completely transmitted if it has not received a Failed or Refused C-GET-RSP to that request.</para>
   <para>Note:        When an Association is operating in asynchronous mode, it is possible for an invoking DIMSE-service-user to transmit several Messages before a response. Therefore, while sending a Message it may receive a response to a  previously transmitted Message. In this case this response is not an early failed response because the related Message has already been sent.</para>
   <para/></sect4></sect3><sect3><title>9.3.4        C-MOVE PROTOCOL</title>
   <para>The information necessary for the C-MOVE request and indication DIMSE-C primitives are conveyed in the C-MOVE-RQ Message. The information necessary for the C-MOVE response and confirmation DIMSE-C primitives are conveyed in the C-MOVE-RSP Message. The information necessary for the C-MOVE Cancel request and Cancel indication primitives are conveyed in the C-CANCEL-MOVE-RQ Message.</para><sect4><title>9.3.4.1        C-MOVE-RQ</title>
   <para>The C-MOVE-RQ Message contains fields as defined in Table 9.3-9. Each field shall conform to DICOM encoding and Value Representation as defined in PS 3.5. Fields are required as specified in the C-MOVE service definition unless otherwise noted in Table 9.3-9. Fields not specified in the C-GET-MOVE service definition but present in Table 9.3-9 are required by the DIMSE-C protocol.</para>
   <para>Table 9.3-9C-MOVE-RQ MESSAGE FIELDS</para>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Message Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Group Length</para>
            </entry>
            <entry>
               <para>(0000,0000)</para>
            </entry>
            <entry>
               <para>UL</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The even number of bytes from the end of the value field to the beginning of the next group.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>(0000,0002)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>SOP Class UID associated with this operation.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Field</para>
            </entry>
            <entry>
               <para>(0000,0100)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field distinguishes the DIMSE‑C operation conveyed by this Message. The value of this field shall be set to 0021H for the C-MOVE-RQ Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID</para>
            </entry>
            <entry>
               <para>(0000,0110)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Implementation-specific value which distinguishes this Message from other Messages.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Priority</para>
            </entry>
            <entry>
               <para>(0000,0700)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The priority shall be set to one of the following values:</para>
               <para>LOW = 0002H</para>
               <para>MEDIUM = 0000H</para>
               <para>HIGH = 0001H</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Data Set Type</para>
            </entry>
            <entry>
               <para>(0000,0800)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field indicates that a Data Set is present  in the Message. It shall be set to any value other than 0101H (Null).</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Move Destination</para>
            </entry>
            <entry>
               <para>(0000,0600)</para>
            </entry>
            <entry>
               <para>AE</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Shall be set to the DICOM AE Title of the destination DICOM AE to which the C-STORE sub-operations are being performed.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Identifier</para>
            </entry>
            <entry>
               <para>(no tag)</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>A Data Set which encodes the Identifier to be matched. See Section 9.1.4.1.6.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/>
   <para>Note:        Implementations which require compatibility to previous versions of this Standard must set the Command Data Set Type (0000,0800) Field to 0102H (Identifier).</para>
   <para/></sect4><sect4><title>9.3.4.2        C-MOVE-RSP</title>
   <para>The C-MOVE-RSP Message contains fields as defined in Table 9.3-10 and in Annex C. Each field shall conform to DICOM encoding and Value Representation as defined in PS 3.5. Fields are required as specified in the C-MOVE service definition unless otherwise noted in Table 9.3-10. Fields not specified in the C-MOVE service definition but present in Table 9.3-10 are required by the DIMSE-C protocol.</para>
   <para>Table 9.3-10C-MOVE-RSP MESSAGE FIELDS</para>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Message Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Group Length</para>
            </entry>
            <entry>
               <para>(0000,0000)</para>
               <para/>
            </entry>
            <entry>
               <para>UL</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The even number of bytes from the end of the value field to the beginning of the next group.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>(0000,0002)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>SOP Class UID associated with the operation.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Field</para>
            </entry>
            <entry>
               <para>(0000,0100)</para>
               <para/>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field distinguishes the DIMSE‑C operation conveyed by this Message. The value of this field shall be set to 8021H for the C-MOVE-RSP Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID Being Responded To</para>
            </entry>
            <entry>
               <para>(0000,0120)</para>
               <para/>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Shall be set to the value of the Message ID (0000,0110) field used in associated C-MOVE Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Data Set Type</para>
            </entry>
            <entry>
               <para>(0000,0800)</para>
               <para/>
            </entry>
            <entry>
               <para>US</para>
               <para/>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field indicates if a Data Set is present in the Message. This field shall be set to the value of 0101H (Null) if no Data Set is present; any other value indicates a Data Set is included in the Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
               <para/>
            </entry>
            <entry>
               <para>US</para>
               <para/>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The value of this field depends upon the status type. Annex C defines the encoding of the status types defined in the service definition.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Number of Remaining Sub-operations</para>
            </entry>
            <entry>
               <para>(0000,1020)</para>
               <para/>
            </entry>
            <entry>
               <para>US</para>
               <para/>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The number of remaining sub-operations to be invoked for this C-MOVE operation.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Number of Complete Sub-operations</para>
            </entry>
            <entry>
               <para>(0000,1021)</para>
               <para/>
            </entry>
            <entry>
               <para>US</para>
               <para/>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The number of C-STORE sub-operations invoked by this C-MOVE operation which have completed successfully.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Number of Failed Sub-operations</para>
            </entry>
            <entry>
               <para>(0000,1022)</para>
               <para/>
            </entry>
            <entry>
               <para>US</para>
               <para/>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The number of C-STORE sub-operations invoked by this C-MOVE operation which have failed.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Number of Warning Sub-operations</para>
            </entry>
            <entry>
               <para>(0000,1023)</para>
               <para/>
            </entry>
            <entry>
               <para>US</para>
               <para/>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The number of C-STORE sub-operations invoked by this C-MOVE operation which generated warning responses.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Identifier</para>
            </entry>
            <entry>
               <para>(no tag)</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>A Data Set that encodes attributes providing status information about the C-MOVE operation. See Section 9.1.4.1.6.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect4><sect4><title>9.3.4.3        C-CANCEL-MOVE-RQ</title>
   <para>The C-CANCEL-MOVE-RQ Message contains fields as defined in Table 9.3-11. Each field shall conform to DICOM encoding and Value Representation as defined in PS 3.5. Fields are required as specified in the C-MOVE service definition unless otherwise noted in Table 9.3-11. Fields not specified in the C-MOVE service definition but present in Table 9.3-11 are required by the DIMSE-C protocol.</para>
   <para>Table 9.3-11C-CANCEL-MOVE-RQ MESSAGE FIELDS</para>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Message Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Group Length</para>
            </entry>
            <entry>
               <para>(0000,0000)</para>
            </entry>
            <entry>
               <para>UL</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The even number of bytes from the end of the value field to the beginning of the next group.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Field</para>
            </entry>
            <entry>
               <para>(0000,0100)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field distinguishes the DIMSE‑C operation conveyed by this Message. The value of this field shall be set to 0FFFH for the C-CANCEL-MOVE-RQ Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID Being Responded To</para>
            </entry>
            <entry>
               <para>(0000,0120)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Shall be set to the value of the Message ID (0000,0110) field used in associated C-MOVE-RQ Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Data Set Type</para>
            </entry>
            <entry>
               <para>(0000,0800)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field indicates that no Data Set is present in the Message and shall be set to a value of 0101H.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect4><sect4><title>9.3.4.4        C-MOVE Protocol Procedures</title>
   <para>The C-MOVE procedures are initiated by the invoking DIMSE-service-user issuing a C-MOVE request primitive. On receipt of the C-MOVE request primitive the DIMSE-C protocol machine shall:</para>
   <para>        construct a Message conveying the C-MOVE-RQ</para>
   <para>        send the Message using the P-DATA request service (See 8.1)</para>
   <para>On receipt of a Message conveying a C-MOVE-RQ the DIMSE-C protocol machine shall issue a C-MOVE indication primitive to the performing DIMSE-service-user.</para>
   <para>The DIMSE-C protocol machine shall:</para>
   <para>        accept zero or more C-MOVE response primitives containing the status of Pending, issued by the performing DIMSE-service-user, followed by a single C-MOVE response primitive containing the final status</para>
   <para>        for each C-MOVE response primitive containing the Pending status the DIMSE-C protocol machine shall:</para>
   <para>a)        construct a Message conveying the (Pending ) C-MOVE-RSP</para>
   <para>b)        send the Message using the P-DATA request service (See 8.1)</para>
   <para>        for the C-MOVE response primitive containing the final status the DIMSE-C protocol machine shall:</para>
   <para>a)        construct a Message conveying the (final) C-MOVE-RSP</para>
   <para>b)        send the Message using the P-DATA request service (See 8.1)</para>
   <para/>
   <para>Note:        The C-MOVE  indication primitive initiates a sub-operation identical to the C-STORE operation.</para>
   <para/>
   <para>On receipt of a Message conveying a C-MOVE-RSP the DIMSE-C protocol machine shall:</para>
   <para>        if the Message indicates the status of Pending, issue a C-MOVE confirmation primitive to the invoking DIMSE-service-user with a Pending status;</para>
   <para>        if the Message indicates a final status, issue a C-MOVE confirmation primitive to the invoking DIMSE-service-user with a final status, thus completing the C-MOVE procedure</para>
   <para/>
   <para>Note        The C-MOVE procedures can be canceled at any time by the invoking DIMSE-service-user. This shall be accomplished by the invoking DIMSE-service-user issuing a C-CANCEL request primitive.</para>
   <para/>
   <para>The performing DIMSE-service-user may return a C-MOVE-RSP with the status of Failed or Refused before the complete C-MOVE-RQ request Message has been completely transmitted by the invoking DIMSE-service-user (this is called an early failed response). Upon receipt of this Failed or Refused C-MOVE-RSP the invoking DIMSE-service-user may  terminate the Message before it is completely sent (i.e. set the Last Fragment bit to 1 in a Data  PDV for this Message, see Annex F). Following this, it may invoke another operation or notification. It is a protocol violation for an invoking DIMSE-service-user to set the Last Fragment bit to 1 before a C-MOVE-RQ Message has been completely transmitted if it has not received a Failed or Refused C-MOVE-RSP to that request.</para>
   <para>Note        When an Association is operating in asynchronous mode, it is possible for an invoking DIMSE-service-user to transmit several Messages before a response. Therefore, while sending a Message it may receive a response to a  previously transmitted Message. In this case this response is not an early failed response because the related Message has already been sent.</para>
   <para/></sect4></sect3><sect3><title>9.3.5        C-ECHO PROTOCOL</title>
   <para>The information necessary for the C-ECHO request and indication DIMSE-C primitives are conveyed in the C-ECHO-RQ Message. The information necessary for the C-ECHO response and confirmation DIMSE-C primitives are conveyed in the C-ECHO-RSP Message.</para><sect4><title>9.3.5.1        C-ECHO-RQ</title>
   <para>The C-ECHO-RQ Message contains fields as defined in Table 9.3-12  Each field shall conform to DICOM encoding and Value Representation as defined in PS 3.5. Fields are required as specified in the C-ECHO service definition unless otherwise noted in Table 9.3-12. Fields not specified in the C-ECHO service definition but present in Table 9.3-13 are required by the DIMSE-C protocol.</para>
   <para>Table 9.3-12C-ECHO-RQ MESSAGE FIELDS</para>
   <informaltable frame="all">
      <tgroup cols="5"><tbody><row>
            <entry>
               <para>Message Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Group Length</para>
            </entry>
            <entry>
               <para>(0000,0000)</para>
            </entry>
            <entry>
               <para>UL</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The even number of bytes from the end of the value field to the beginning of the next group.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>(0000,0002)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>SOP Class UID associated with this operation.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Field</para>
            </entry>
            <entry>
               <para>(0000,0100)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field distinguishes the DIMSE‑C operation conveyed by this Message. The value of this field shall be set to 0030H for the C-ECHO-RQ Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID</para>
            </entry>
            <entry>
               <para>(0000,0110)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Implementation-specific value which distinguishes this Message from other Messages.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Data Set Type</para>
            </entry>
            <entry>
               <para>(0000,0800)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field indicates that no Data Set is present in the Message and shall be set to a value of 0101H.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect4><sect4><title>9.3.5.2        C-ECHO-RSP</title>
   <para>The C-ECHO-RSP Message contains fields as defined in Table 9.3-13 and in Annex C. Each field shall conform to DICOM encoding and Value Representation as defined in PS 3.5. Fields are required as specified in the C-ECHO service definition unless otherwise noted in Table 9.3-13. Fields not specified in the C-ECHO service definition but present in Table 9.3-13 are required by the DIMSE-C protocol.</para>
   <para>Table 9.3-13C-ECHO-RSP MESSAGE FIELDS</para>
   <informaltable frame="all">
      <tgroup cols="5"><tbody><row>
            <entry>
               <para>Message Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Group Length</para>
            </entry>
            <entry>
               <para>(0000,0000)</para>
            </entry>
            <entry>
               <para>UL</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The even number of bytes from the end of the value field to the beginning of the next group.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>(0000,0002)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>SOP Class UID associated with the operation.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Field</para>
            </entry>
            <entry>
               <para>(0000,0100)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field distinguishes the DIMSE‑C operation conveyed by this Message. The value of this field shall be set to 8030H for the C-ECHO-RSP Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID Being Responded To</para>
            </entry>
            <entry>
               <para>(0000,0120)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Shall be set to the value of the Message ID (0000,0110) field used in associated C-ECHO-RQ Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Data Set Type</para>
            </entry>
            <entry>
               <para>(0000,0800)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field indicates that no Data Set is present in the Message and shall be set to a value of 0101H. </para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Indicates the status of the response. It shall have a value of Success.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect4><sect4><title>9.3.5.3        C-ECHO protocol procedures</title>
   <para>The C-ECHO procedures are initiated by the invoking DIMSE-service-user issuing a C-ECHO request primitive. On receipt of the C-ECHO request primitive the DIMSE-C protocol machine shall:</para>
   <para>        construct a Message conveying the C-ECHO-RQ</para>
   <para>        send the Message using the P-DATA request service (See 8.1)</para>
   <para> </para>
   <para>On receipt of a Message conveying a C-ECHO-RQ the DIMSE-C protocol machine shall issue a C-ECHO indication primitive to the performing DIMSE-service-user.</para>
   <para>On receipt of a C-ECHO response primitive, issued by the performing DIMSE-service-user, the DIMSE-C protocol machine shall:</para>
   <para>        construct a Message conveying the C-ECHO-RSP</para>
   <para>        send the Message using the P-DATA request service (See 8.1)</para>
   <para>On receipt of a Message conveying a C-ECHO-RSP the DIMSE protocol machine shall issue a C-ECHO confirmation primitive to the invoking DIMSE-service-user, thus completing the C-ECHO procedure.</para></sect4></sect3></sect2></sect1><sect1><title>10 DIMSE-N</title><sect2><title>10.1        Services</title>
   <para>The following sections describe the DIMSE-N Services. The behavior of these services is also described in PS 3.4. The Affected SOP Class UID in the DIMSE-N command need not match the SOP Class UID in the Presentation Context negotiated for the association over which the DIMSE-N command has been sent. PS 3.4 specifies which combinations are valid.</para><sect3><title>10.1.1        N-EVENT-REPORT SERVICE</title>
   <para>The N-EVENT-REPORT service is used by a DIMSE-service-user to report an event to a peer DIMSE-service-user. It is a confirmed service.</para><sect4><title>10.1.1.1         N-EVENT-REPORT parameters</title>
   <para>Table 10.1-1 lists the parameters for this service.</para>
   <para>Table 10.1-1N-EVENT-REPORT PARAMETERS</para>
   <informaltable frame="all">
      <tgroup cols="3"><tbody><row>
            <entry>
               <para>DIMSE Parameter Name</para>
            </entry>
            <entry>
               <para>Req/Ind</para>
            </entry>
            <entry>
               <para>Rsp/Conf</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID Being Responded To</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para>U(=)</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Instance UID</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para>U(=)</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Event Type ID</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para>C(=)</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Event Information</para>
            </entry>
            <entry>
               <para>U</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Event Reply</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>C</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/><sect4><title>10.1.1.1.1        Message ID</title>
   <para>This parameter identifies the operation. It is used to distinguish this operation from other notifications or operations that the DIMSE-service-provider may have in progress. No two identical values for the Message ID (0000,0110) shall be used for outstanding operations or notifications.</para>
   <para>Note        he Message ID (0000,0110) is recommended to be unique within the scope of an Association, to support debug procedures.</para>
   <para/></sect4><sect4><title>10.1.1.1.2        Message ID being responded to</title>
   <para>This parameter specifies the Message ID (0000,0110) of the notification request/indication to which this response/confirmation applies.</para></sect4><sect4><title>10.1.1.1.3        Affected SOP class UID</title>
   <para>For the request/indication, this parameter specifies the SOP Class of the SOP Instance for the event. It may be included in the response/confirmation. If included in the response/confirmation, this parameter shall be equal to the value in the request/indication. </para></sect4><sect4><title>10.1.1.1.4        Affected SOP instance UID</title>
   <para>For the request/indication, this parameter specifies the SOP Instance for the event. It may be included in the response/confirmation. If included in the response/confirmation, this parameter shall be equal to the value in the request/indication.</para></sect4><sect4><title>10.1.1.1.5        Event type ID</title>
   <para>This parameter specifies the type of event being reported. It may be included in the success response/confirmation and shall be included if the Event Reply parameter is included.</para>
   <para>Note:        Service Class Specifications contained in PS 3.4 defines any application usage of the Event Type ID parameter.</para>
   <para/></sect4><sect4><title>10.1.1.1.6        Event information</title>
   <para>This application-specific parameter contains information that the invoking DIMSE-service-user is able to supply about the event.</para>
   <para>Note        Service Class Specifications contained in PS 3.4 defines any application usage of the Event Information parameter.</para>
   <para/></sect4><sect4><title>10.1.1.1.7        Event reply</title>
   <para>This application-specific parameter contains the optional reply to the event report. It may only be included in the success response/confirmation.</para>
   <para>Note:        Service Class Specifications contained in PS 3.4 defines any application usage of the Event Reply parameter.</para>
   <para/></sect4><sect4><title>10.1.1.1.8        Status</title>
   <para>This parameter contains the error or success notification for the operation. It shall be included by the performing DIMSE-service-user in any response/confirmation. The following types of status may occur:</para>
   <para>        class-instance conflict: the specified SOP Instance is not a member of the specified SOP class.</para>
   <para>        duplicate invocation: the Message ID (0000,0110) specified is allocated to another notification or operation.</para>
   <para>        invalid argument value: the event information value specified was out of range or otherwise inappropriate.</para>
   <para>        invalid SOP Instance: the SOP Instance UID specified implied a violation of the UID construction rules.</para>
   <para>        mistyped argument: one of the parameters supplied has not been agreed for use on the Association between the DIMSE-service-users.</para>
   <para>        no such argument: the event information specified was not recognized.</para>
   <para>        no such event type: the event type specified was not recognized.</para>
   <para>        no such SOP class: the SOP Class was not recognized.</para>
   <para>        no such SOP Instance: the SOP Instance was not recognized.</para>
   <para>        processing failure: a general failure in processing the operation was encountered.</para>
   <para>        resource limitation: the operation was not performed due to resource limitation.</para>
   <para>        success: successful notification.</para>
   <para>        unrecognized operation: the operation is not one of those agreed between the DIMSE-service-users.</para></sect4></sect4><sect4><title>10.1.1.2         N-EVENT-REPORT service procedures</title>
   <para>The following N-EVENT-REPORT procedures apply:</para>
   <para>a)        The invoking DIMSE-service-user reports an event to the performing DIMSE-service-user by issuing an N-EVENT-REPORT request primitive to the DIMSE-service-provider.</para>
   <para>b)        The DIMSE-service-provider issues an N-EVENT-REPORT indication primitive to the performing DIMSE-service-user.</para>
   <para>c)        The performing DIMSE-service-user reports acceptance or rejection of the N-EVENT-REPORT request primitive by issuing an N-EVENT-REPORT response primitive to the DIMSE-service-provider.</para>
   <para>d)        The DIMSE-service-provider issues an N-EVENT-REPORT confirmation primitive to the invoking DIMSE-service-user, completing the N-EVENT-REPORT notification.</para>
   <para>The performing DIMSE-service-user may return an N-EVENT-REPORT response primitive with the status of Failed or Refused before the entire N-EVENT-REPORT indication (Data Set) has been completely transmitted by the invoking DIMSE-service-user. A N-EVENT-REPORT response primitive with the status of Success or Warning shall not be returned until the entire N-EVENT-REPORT indication has been received by the performing DIMSE-service-user.</para>
   <para>Note:        Such an occurrence of a "Failed" response is often called an early failed response.</para>
   <para/></sect4></sect3><sect3><title>10.1.2        N-GET Service</title>
   <para>The N-GET service is used by a DIMSE-service-user to retrieve  Attribute values from a peer DIMSE-service-user. It is a confirmed service.</para><sect4><title>10.1.2.1        N-GET Parameters</title>
   <para>Table 10.1-2 lists the parameters for this service.</para>
   <para>Table 10.1-2N-GET PARAMETERS</para>
   <informaltable frame="all">
      <tgroup cols="3"><tbody><row>
            <entry>
               <para>DIMSE Parameter Name</para>
            </entry>
            <entry>
               <para>Req/Ind</para>
            </entry>
            <entry>
               <para>Rsp/Conf</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID Being Responded To</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Requested SOP Class UID</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Requested SOP Instance UID</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Attribute Identifier List</para>
            </entry>
            <entry>
               <para>U</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>U</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Instance UID</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>U</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Attribute List</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>C</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/><sect4><title>10.1.2.1.1        Message ID</title>
   <para>This parameter identifies the operation. It is used to distinguish this operation from other notifications or operations that the DIMSE-service-provider may have in progress. No two identical values for the Message ID (0000,0110) shall be used for outstanding operations or notifications.</para>
   <para>Note        The Message ID (0000,0110) is recommended to be unique within the scope of an Association, to support debug procedures.</para>
   <para/></sect4><sect4><title>10.1.2.1.2         Message ID being responded to</title>
   <para>This parameter specifies the Message ID (0000,0110) of the operation request/indication to which this response/confirmation applies.</para></sect4><sect4><title>10.1.2.1.3         Requested SOP class UID</title>
   <para>This parameter specifies the SOP Class for which Attribute Values are to be retrieved.</para></sect4><sect4><title>10.1.2.1.4         Requested SOP instance UID</title>
   <para>This parameter specifies the SOP Instance for which Attribute Values are to be retrieved.</para></sect4><sect4><title>10.1.2.1.5        Attribute identifier list</title>
   <para>This parameter contains a set of Attribute identifiers for which the Attribute Values are to be returned by the performing DIMSE-service-user. If this parameter is omitted, all Attribute identifiers are assumed. The definitions of the Attributes are found in the specification of the Information Object Definition in PS 3.3.</para></sect4><sect4><title>10.1.2.1.6         Affected SOP class UID</title>
   <para>This parameter may be included in the response/confirmation. If included in the response/confirmation, this parameter shall be equal to the Requested SOP Class UID parameter value used in the request/indication. </para></sect4><sect4><title>10.1.2.1.7         Affected SOP instance UID</title>
   <para>This parameter specifies the SOP Instance for which Attribute Values are returned. It may be included in any response/confirmation and when included shall be equal to the Requested SOP Instance UID (0000,1001) parameter value used in the invocation.</para></sect4><sect4><title>10.1.2.1.8        Attribute list</title>
   <para>This parameter contains the set of Attribute identifiers and values which are returned by the performing DIMSE-service-user. It shall be included in the success response/confirmation.</para></sect4><sect4><title>10.1.2.1.9        Status</title>
   <para>This parameter contains the error or success notification for the operation. It shall be included by the performing DIMSE-service-user in any response/confirmation. The following types of status may occur:</para>
   <para>        attribute list error: one or more Attribute Values were not read because the specified Attribute was not recognized. The Attribute Values that could be read are returned.</para>
   <para>        class-instance conflict: the specified SOP Instance is not a  member of the specified SOP Class.</para>
   <para>        duplicate invocation: the Message ID (0000,0110) specified is allocated to another notification or operation.</para>
   <para>        invalid SOP Instance: the SOP Instance UID specified implied a violation of the UID construction rules.</para>
   <para>        mistyped argument: one of the parameters supplied has not been agreed for use on the Association between the DIMSE-service-users.</para>
   <para>        no such SOP class: the SOP Class was not recognized.</para>
   <para>        no such SOP Instance: the SOP Instance was not recognized.</para>
   <para>        processing failure: a general failure in processing the operation was encountered.</para>
   <para>        resource limitation: the operation was not performed due to resource limitation.</para>
   <para>        success: successful operation.</para>
   <para>        unrecognized operation: the operation is not one of those agreed between the DIMSE-service-users.</para></sect4></sect4><sect4><title>10.1.2.2        N-GET service procedures</title>
   <para>The following N-GET procedures apply;</para>
   <para>a)        The invoking DIMSE-service-user requests the performing DIMSE-service-user to retrieve Attribute Value(s) by issuing an N-GET request primitive to the DIMSE-service-provider.</para>
   <para>b)        The DIMSE-service-provider issues an N-GET indication primitive to the performing DIMSE-service-user.</para>
   <para>c)                If the operation can be performed, then the performing DIMSE-service-user retrieves the requested Attribute Value(s) and generates a response indicating acceptance of the N-GET request primitive by issuing an N-GET response primitive to the DIMSE-service-provider. In this case the following procedure does not apply.</para>
   <para>d)        If the operation cannot be performed, then the performing DIMSE-service-user rejects the N-GET request by issuing an N-GET response primitive with the appropriate error code to the DIMSE-service-provider.</para>
   <para>e)        The DIMSE-service-provider issues an N-GET confirmation primitive to the invoking DIMSE-service-user, completing the N-GET operation.</para></sect4></sect3><sect3><title>10.1.3        N-SET SERVICE</title>
   <para>The N-SET service is used by a DIMSE-service-user to request the modification of Attribute Values from a peer DIMSE-service-user. It is a confirmed service.</para><sect4><title>10.1.3.1        N-SET parameters</title>
   <para>Table 10.1-3 lists the parameters for this service.</para>
   <para>Table 10.1-3N-SET PARAMETERS</para>
   <informaltable frame="all">
      <tgroup cols="3"><tbody><row>
            <entry>
               <para>DIMSE Parameter Name</para>
            </entry>
            <entry>
               <para>Req/Ind</para>
            </entry>
            <entry>
               <para>Rsp/Conf</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID Being Responded To</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Requested SOP Class UID</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Requested SOP Instance UID</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Modification List</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Attribute List</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>U</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>U</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Instance UID</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>U</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/><sect4><title>10.1.3.1.1        Message ID</title>
   <para>This parameter identifies the operation. It is used to distinguish this operation from other notifications or operations that the DIMSE-service-provider may have in progress. No two identical values for the Message ID (0000,0110) shall be used for outstanding operations or notifications.</para>
   <para>Note        The Message ID (0000,0110) is recommended to be unique within the scope of an Association, to support debug procedures.</para>
   <para/></sect4><sect4><title>10.1.3.1.2        Message ID being responded to</title>
   <para>This parameter specifies the Message ID (0000,0110) of the operation request/indication to which this response/confirmation applies.</para></sect4><sect4><title>10.1.3.1.3        Requested SOP class UID</title>
   <para>This parameter specifies the SOP Class for which Attribute Values are to be modified.</para></sect4><sect4><title>10.1.3.1.4        Requested SOP instance UID</title>
   <para>This parameter specifies the SOP Instance for which Attribute Values are to be modified.</para></sect4><sect4><title>10.1.3.1.5        Modification list</title>
   <para>This parameter contains the set of Attribute identifiers and values which are to be used by the performing DIMSE-service-user to replace the current values of the Attributes specified.</para></sect4><sect4><title>10.1.3.1.6        Attribute list</title>
   <para>This parameter contains the set of Attribute identifiers and values which were used by the performing DIMSE-service-user to replace the values of the Attributes specified. It may be included in the success response/confirmation.</para></sect4><sect4><title>10.1.3.1.7        Affected SOP class UID</title>
   <para>This parameter may be included in the response/confirmation. If included in the response/confirmation, this parameter shall be equal to the Requested SOP Class UID parameter value used in the request/indication. </para></sect4><sect4><title>10.1.3.1.8        Affected SOP instance UID</title>
   <para>This parameter specifies the SOP Instance for which Attribute Values were modified. It may be included in any response/confirmation and when included shall be equal to the Requested SOP Instance UID (0000,1001) parameter value used in the invocation.</para></sect4><sect4><title>10.1.3.1.9        Status</title>
   <para>This parameter contains the error or success notification for the operation. It shall be included by the performing DIMSE-service-user in any response/confirmation. The following types of status may occur:</para>
   <para>        class-instance conflict: the specified SOP Instance is not a member of the specified SOP Class.</para>
   <para>        duplicate invocation: the Message ID (0000,0110) specified is allocated to another notification or operation.</para>
   <para>        invalid Attribute Value: the Attribute Value specified was out of range or otherwise inappropriate. The Attribute Values that could be modified were modified.</para>
   <para>        mistyped argument: one of the parameters supplied has not been agreed for use on the Association between the DIMSE-service-users.</para>
   <para>        invalid SOP Instance: the SOP Instance UID specified implied a violation of the UID construction rules.</para>
   <para>        missing Attribute Value: a required Attribute Value was not supplied.</para>
   <para>        no such Attribute: the Tag for the specified Attribute was not recognized. The Attribute Values that could be modified were modified.</para>
   <para>        no such SOP class: the SOP Class was not recognized.</para>
   <para>        no such SOP Instance: the SOP Instance was not recognized.</para>
   <para>        processing failure: a general failure in processing the operation was encountered.</para>
   <para>        resource limitation: the operation was not performed due to resource limitation.</para>
   <para>        success: successful operation.</para>
   <para>        unrecognized operation: the operation is not one of those agreed between the DIMSE-service-users.</para></sect4></sect4><sect4><title>10.1.3.2        N-SET service procedures</title>
   <para>The following N-SET procedures apply:</para>
   <para>a)        The invoking DIMSE-service-user requests the performing DIMSE-service-user to modify Attribute Value(s) by issuing an N-SET request primitive to the DIMSE-service-provider.</para>
   <para>b)        The DIMSE-service provider issues an N-SET indication primitive to the performing DIMSE-service-user.</para>
   <para>c)                If the operation can be performed, then the performing DIMSE-service-user modifies the requested Attribute Value(s) and generates a response indicating acceptance of the N-SET request primitive by issuing an N-SET response primitive to the DIMSE-service-provider. In this case the following procedure does not apply.</para>
   <para>d)        If the operation cannot be performed, then the performing DIMSE-service-user rejects the N-SET request by issuing an N-SET response primitive with the appropriate error code to the DIMSE-service-provider.</para>
   <para>e)        The DIMSE-service-provider issues an N-SET confirmation primitive to the invoking DIMSE-service-user, completing the N-SET operation.</para>
   <para>The performing DIMSE-service-user may return an N-SET response primitive with the status of Failed or Refused before the entire N-SET indication (Data Set) has been completely transmitted by the invoking DIMSE-service-user. A N-SET response primitive with the status of Success or Warning shall not be returned until the entire N-SET indication has been received by the performing DIMSE-service-user.</para>
   <para>Note        Such an occurrence of a "Failed" response is often called an early failed response.</para>
   <para/></sect4></sect3><sect3><title>10.1.4        N-ACTION SERVICE</title>
   <para>The N-ACTION service is used by a DIMSE-service-user to request an action by a peer DIMSE-service-user. It is a confirmed service.</para><sect4><title>10.1.4.1        N-ACTION parameters</title>
   <para>Table 10.1-4 lists the parameters for this service.</para>
   <para>Table 10.1-4N-ACTION PARAMETERS</para>
   <informaltable frame="all">
      <tgroup cols="3"><tbody><row>
            <entry>
               <para>DIMSE Parameter Name</para>
            </entry>
            <entry>
               <para>Req/Ind</para>
            </entry>
            <entry>
               <para>Rsp/Conf</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID Being Responded To</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Requested SOP Class UID</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Requested SOP Instance UID</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Action Type ID</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para>C(=)</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Action Information</para>
            </entry>
            <entry>
               <para>U</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>U</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Instance UID</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>U</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Action Reply</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>C</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/><sect4><title>10.1.4.1.1        Message ID</title>
   <para>This parameter identifies the operation. It is used to distinguish this operation from other notifications or operations that the DIMSE-service-provider may have in progress. No two identical values for the Message ID (0000,0110) shall be used for outstanding operations or notifications.</para>
   <para>Note        The Message ID (0000,0110) is recommended to be unique within the scope of an Association, to support debug procedures.</para>
   <para/></sect4><sect4><title>10.1.4.1.2         Message ID being responded to</title>
   <para>This parameter specifies the Message ID (0000,0110) of the operation request/indication to which this response/confirmation applies.</para></sect4><sect4><title>10.1.4.1.3        Requested SOP class UID</title>
   <para>This parameter specifies the SOP Class for which the action is to be performed.</para></sect4><sect4><title>10.1.4.1.4         Requested SOP instance UID</title>
   <para>This parameter specifies the SOP Instance on which the action is to be performed.</para></sect4><sect4><title>10.1.4.1.5         Action type ID</title>
   <para>This parameter specifies a particular action which is to be performed. It may be included in the success response/confirmation and shall be included if the action reply parameter is included.</para>
   <para>Note        Service Class Specifications contained in PS 3.4 defines any application usage of the Action Type ID (0000,1008) parameter.</para>
   <para/></sect4><sect4><title>10.1.4.1.6        Action information</title>
   <para>This parameter specifies extra application-specific information when necessary to further define the nature, variations, or operands of the action to be performed. The syntax and semantics  of the parameter depend upon the action requested. It may only be included in the request/indication.</para>
   <para>Note        Service Class Specifications contained in PS 3.4 defines any application usage of the Action Information parameter.</para>
   <para/></sect4><sect4><title>10.1.4.1.7        Affected SOP class UID</title>
   <para>This parameter may be included in the response/confirmation. If included in the response/confirmation, this parameter shall be equal to the Requested SOP Class UID parameter value used in the request/indication. </para></sect4><sect4><title>10.1.4.1.8        Affected SOP instance UID</title>
   <para>This parameter specifies the SOP Instance on which the action is to be performed. It may be included in any response/confirmation and when included shall be equal to the Requested SOP Instance UID (0000,1001) parameter value used in the invocation.</para></sect4><sect4><title>10.1.4.1.9        Action reply</title>
   <para>This parameter contains the application-specific reply to the action. It may be included in the success response/confirmation.</para>
   <para>Note        Service Class Specifications contained in PS 3.4 defines any application usage of the Action Reply parameter.</para>
   <para/></sect4><sect4><title>10.1.4.1.10         Status</title>
   <para>This parameter contains the error or success notification for the operation. It shall be included by the performing DIMSE-service-user in any response/confirmation. The following type of status may occur:</para>
   <para>        class-instance conflict: the specified SOP Instance is not a member of the specified SOP Class.</para>
   <para>        duplicate invocation: the Message ID (0000,0110) specified is allocated to another notification or operation.</para>
   <para>        invalid argument value: the action information value specified was out of range or otherwise inappropriate.</para>
   <para>        invalid SOP Instance: the SOP Instance UID specified implied a violation of the UID construction rules.</para>
   <para>        mistyped argument: one of the parameters supplied has not been agreed for use on the Association between the DIMSE-service-users.</para>
   <para>        no such action: the action type specified was not supported.</para>
   <para>        no such argument: the action information specified was not supported.</para>
   <para>        no such SOP class: the SOP Class was not recognized.</para>
   <para>        no such SOP Instance: the SOP Instance was not recognized.</para>
   <para>        processing failure: a general failure in processing the operation was encountered.</para>
   <para>        resource limitation: the operation was not performed due to resource limitation.</para>
   <para>        success: successful operation.</para>
   <para>        unrecognized operation: the operation is not one of those agreed between the DIMSE-service-users.</para></sect4></sect4><sect4><title>10.1.4.2        N-ACTION service procedures</title>
   <para>The following N-ACTION procedures apply:</para>
   <para>a)        The invoking DIMSE-service-user requests the performing DIMSE-service-user to perform an action on a managed SOP Instance by issuing an N-ACTION request primitive to the DIMSE-service-provider.</para>
   <para>b)        The DIMSE-service provider issues an N-ACTION indication primitive to the performing DIMSE-service-user.</para>
   <para>c)                If the operation can be performed, the performing DIMSE-service-user applies the action to the specified SOP Instance and generates a response indicating acceptance of the N-ACTION request primitive by issuing an N-ACTION response primitive to the DIMSE-service-provider. In this case the following procedure does not apply. The Action Reply may be included in a successful response.</para>
   <para>d)        If the operation cannot be performed, then the performing DIMSE-service-user rejects the N-ACTION request by issuing an N-ACTION response primitive with the appropriate error code to the DIMSE-service-provider.</para>
   <para>e)        The DIMSE-service-provider issues an N-ACTION confirmation primitive to the invoking DIMSE-service-user, completing the N-ACTION operation.</para>
   <para>The performing DIMSE-service-user may return an N-ACTION response primitive with the status of Failed or Refused before the entire N-ACTION indication (Data Set) has been completely transmitted by  the invoking DIMSE-service-user. A N-ACTION response primitive with the status of Success or Warning shall not be returned until the entire N-ACTION indication has been received by the performing DIMSE-service-user.</para>
   <para>Note:        Such an occurrence of a "Failed" response is often called an early failed response.</para>
   <para/></sect4></sect3><sect3><title>10.1.5        N-CREATE SERVICE</title>
   <para>The N-CREATE service is used by a DIMSE-service-user to request a peer DIMSE-service-user to create a new managed SOP Instance, complete with its identification and the values of its associated Attributes, and simultaneously to register its identification. It is a confirmed service.</para><sect4><title>10.1.5.1         N-CREATE parameters</title>
   <para>Table 10.1-5 lists the parameters for this service.</para>
   <para>Table 10.1-5N-CREATE PARAMETERS</para>
   <informaltable frame="all">
      <tgroup cols="3"><tbody><row>
            <entry>
               <para>DIMSE Parameter Name</para>
            </entry>
            <entry>
               <para>Req/Ind</para>
            </entry>
            <entry>
               <para>Rsp/Conf</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID Being Responded To</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para>U(=)</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Instance UID</para>
            </entry>
            <entry>
               <para>U</para>
            </entry>
            <entry>
               <para>C</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Attribute List</para>
            </entry>
            <entry>
               <para>U</para>
            </entry>
            <entry>
               <para>U</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/><sect4><title>10.1.5.1.1        Message ID</title>
   <para>This parameter identifies the operation. It is used to distinguish this operation from other notifications or operations that the DIMSE-service-provider may have in progress. No two identical values for the Message ID (0000,0110) shall be used for outstanding operations or notifications.</para>
   <para>Note        The Message ID (0000,0110) is recommended to be unique within the scope of an Association, to support debug procedures.</para>
   <para/></sect4><sect4><title>10.1.5.1.2         Message ID being responded to</title>
   <para>This parameter specifies the Message ID (0000,0110) of the operation request/indication to which this response/confirmation applies.</para></sect4><sect4><title>10.1.5.1.3        Affected SOP class UID</title>
   <para>For the request/indication, this parameter specifies the SOP Class of the new SOP Instance which is to be created by the performing DIMSE-service-user. The performing DIMSE-service-user assigns to the new SOP Instance, a set of Attribute Values as specified by the definition of its SOP Class. For the response/confirmation, this parameter specifies the SOP class of the SOP Instance which was created. It may be included in the response/confirmation. If included in the response/confirmation, this parameter shall be equal to the value in the request/indication. </para></sect4><sect4><title>10.1.5.1.4        Affected SOP instance UID</title>
   <para>For the request/indication, this parameter specifies the SOP Instance which is used by the performing DIMSE-service-user. If the SOP Instance UID is not supplied by the invoking DIMSE-service-user, then the performing DIMSE-service-user assigns a value to this identification of instance. For the response/confirmation, this parameter may only be included in the success response/confirmation and shall be included if it is not supplied by the invoking DIMSE-service-user.</para></sect4><sect4><title>10.1.5.1.5        Attribute list</title>
   <para>When this parameter is supplied by the invoking DIMSE-service-user, it contains a set of Attribute identifiers and values that the performing DIMSE-service-user is to assign to the new managed SOP Instance. When returned by the performing DIMSE-service-user, this parameter contains the complete list of all Attribute identifiers and values that were assigned to the  new managed SOP Instance. It may be included in the success response/confirmation.</para></sect4><sect4><title>10.1.5.1.6        Status</title>
   <para>This parameter contains the error or success notification for the operation. It shall be included by the performing DIMSE-service-user in any response/confirmation. The following type of status may occur:</para>
   <para>        class-instance conflict: the specified SOP Instance is not a member of the specified SOP Class.</para>
   <para>        duplicate invocation: the Message ID (0000,0110) specified is allocated to another notification or operation.</para>
   <para>        duplicate SOP Instance: the new managed SOP Instance Value supplied by the invoking DIMSE-service-user was already registered for a managed SOP Instance of the specified SOP Class.</para>
   <para>        invalid Attribute Value: the Attribute Value specified was out of range or otherwise inappropriate.</para>
   <para>        invalid SOP Instance: the SOP Instance UID specified implied a violation of the UID construction rules.</para>
   <para>        missing Attribute: a required Attribute was not supplied.</para>
   <para>        missing Attribute Value: a required Attribute Value was not supplied and a default value was not available.</para>
   <para>        mistyped argument: one of the parameters supplied has not been agreed for use on the Association between the DIMSE-service-users.</para>
   <para>        no such Attribute: the Tag for the specified Attribute was not recognized.</para>
   <para>        no such SOP class: the SOP Class was not recognized.</para>
   <para>        no such SOP Instance: the SOP Instance was not recognized.</para>
   <para>        processing failure: a general failure in processing the operation was encountered.</para>
   <para>        resource limitation: the operation was not performed due to resource limitation.</para>
   <para>        success: successful operation.</para>
   <para>        unrecognized operation: the operation is not one of those agreed between the DIMSE-service-users.</para></sect4></sect4><sect4><title>10.1.5.2         N-CREATE service procedures</title>
   <para>The following N-CREATE procedures apply:</para>
   <para>a)        The invoking DIMSE-service-user requests the creation and registration of a new managed SOP Instance by issuing an N-CREATE request primitive to the DIMSE-service-provider.</para>
   <para>b)        The DIMSE-service provider issues an N-CREATE indication primitive to the performing DIMSE-service-user.</para>
   <para>c)                If the operation can be performed, the performing DIMSE-service-user creates and registers the new managed SOP Instance and generates a response indicating acceptance of the N-CREATE request primitive by issuing an N-CREATE response primitive to the DIMSE-service-provider. In this case the following procedure does not apply.</para>
   <para>d)        If the operation cannot be performed, then the performing DIMSE-service-user rejects the N-CREATE request by issuing an N-CREATE response primitive with the appropriate error code to the DIMSE-service-provider.</para>
   <para>e)        The DIMSE-service-provider issues an N-CREATE confirmation primitive to the invoking DIMSE-service-user, completing the  N-CREATE operation.</para>
   <para>The performing DIMSE-service-user may return an N-CREATE response primitive with the status of Failed or Refused before the entire N-CREATE indication (Data Set) has been completely transmitted by the invoking DIMSE-service-user. A N-CREATE response primitive with the status of Success or Warning shall not be returned until the entire N-CREATE indication has been received by the performing DIMSE-service-user.</para>
   <para>Note        Such an occurrence of a "Failed" response is often called an early failed response.</para>
   <para/></sect4></sect3><sect3><title>10.1.6        N-DELETE SERVICE</title>
   <para>The N-DELETE service is used by an invoking DIMSE-service-user to request a peer DIMSE-service-user to delete a managed SOP Instance and to de-register its identification. It is a confirmed service.</para><sect4><title>10.1.6.1        N-DELETE parameters</title>
   <para>Table 10.1-6 lists the parameters for this service.</para>
   <para>Table 10.1-6N-DELETE PARAMETERS</para>
   <informaltable frame="all">
      <tgroup cols="3"><tbody><row>
            <entry>
               <para>DIMSE Parameter Name</para>
            </entry>
            <entry>
               <para>Req/Ind</para>
            </entry>
            <entry>
               <para>Rsp/Conf</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID Being Responded To</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Requested SOP Class UID</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Requested SOP Instance UID</para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
            <entry>
               <para></para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>U</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Instance UID</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>U</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>M</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/><sect4><title>10.1.6.1.1        Message ID</title>
   <para>This parameter identifies the operation. It is used to distinguish this operation from other notifications or operations that the DIMSE-service-provider may have in progress. No two identical values for the Message ID (0000,0110) shall be used for outstanding operations or notifications.</para>
   <para>Note        The Message ID (0000,0110) is recommended to be unique within the scope of an Association, to support debug procedures.</para>
   <para/></sect4><sect4><title>10.1.6.1.2        Message ID being responded to</title>
   <para>This parameter specifies the Message ID (0000,0110) of the operation request/indication to which this response/confirmation applies.</para></sect4><sect4><title>10.1.6.1.3        Requested SOP class UID</title>
   <para>This parameter specifies the SOP Class which is to be deleted.</para></sect4><sect4><title>10.1.6.1.4        Requested SOP instance UID</title>
   <para>This parameter specifies the SOP Instance which is to be deleted.</para></sect4><sect4><title>10.1.6.1.5        Affected SOP class UID</title>
   <para>This parameter may be included in the response/confirmation. If included in the response/confirmation, this parameter shall be equal to the parameter value used in the request/indication. </para></sect4><sect4><title>10.1.6.1.6        Affected SOP instance UID</title>
   <para>This parameter specifies the SOP Instance which was deleted. It may be included in any response/confirmation and when included shall be equal to the Requested SOP Instance UID (0000,1001) parameter value used in the invocation.</para></sect4><sect4><title>10.1.6.1.7        Status</title>
   <para>This parameter contains the error or success notification for the operation. It shall be included by the performing DIMSE-service-user in any response/confirmation. The following types of status may occur</para>
   <para>        class-instance conflict: the specified SOP Instance is not a member of the specified SOP Class</para>
   <para>        duplicate invocation: the Message ID (0000,0110) specified is allocated to another notification or operation</para>
   <para>        invalid SOP Instance: the SOP Instance UID specified implied a violation of the UID construction rules</para>
   <para>        mistyped argument: one of the parameters supplied has not been agreed for use on the Association between the DIMSE-service-users</para>
   <para>        no such SOP class: the SOP Class was not recognized</para>
   <para>        no such SOP Instance: the SOP Instance was not recognized</para>
   <para>        processing failure: a general failure in processing the operation was encountered</para>
   <para>        resource limitation: the operation was not performed due to resource limitation</para>
   <para>        success: successful operation</para>
   <para>        unrecognized operation: the operation is not one of those agreed between the DIMSE-service-users</para></sect4></sect4><sect4><title>10.1.6.2        N-DELETE service procedures</title>
   <para>The following N-DELETE procedures apply:</para>
   <para>a)        The invoking DIMSE-service-user requests the performing DIMSE-service-user to delete a managed SOP Instance by issuing an N-DELETE request primitive to the  DIMSE-service-provider.</para>
   <para>b)        The DIMSE-service provider issues an N-DELETE indication primitive to the performing DIMSE-service-user.</para>
   <para>c)                If the operation can be performed, the performing DIMSE-service-user deletes the specified managed SOP Instance and generates a response indicating acceptance of the N-DELETE request primitive by issuing an N-DELETE response primitive to the DIMSE-service-provider. In this case the following procedure does not apply.</para>
   <para>d)        If the operation cannot be performed, then the performing DIMSE-service-user rejects the N-DELETE request by issuing an N-DELETE response primitive with the appropriate error code to the DIMSE-service-provider.</para>
   <para>e)        The DIMSE-service-provider issues an N-DELETE confirmation primitive to the invoking DIMSE-service-user, completing the N-DELETE operation.</para></sect4></sect3></sect2><sect2><title>10.2        Sequencing</title><sect3><title>10.2.1        TYPES OF SERVICES</title>
   <para>All operation and notifications shall be confirmed services.</para></sect3><sect3><title>10.2.2        USAGE RESTRICTIONS</title>
   <para>These services may only be invoked within the context of an established Association.</para></sect3><sect3><title>10.2.3        DISRUPTED PROCEDURES</title>
   <para>These services do not disrupt any other service procedure.</para></sect3><sect3><title>10.2.4        DISRUPTING PROCEDURES</title>
   <para>These services are disrupted by the A-ABORT service procedure.</para></sect3></sect2><sect2><title>10.3        Protocol</title>
   <para>This section specifies the protocol necessary to perform the set of DIMSE-N operations and notifications. The Value Representations (VR) specified in the following tables shall be encoded as defined in PS 3.5.</para><sect3><title>10.3.1        N-EVENT-REPORT PROTOCOL</title>
   <para>The information necessary for the N-EVENT-REPORT request and indication DIMSE-N primitives are conveyed in the N-EVENT-REPORT-RQ Message. The information necessary for the N-EVENT-REPORT response and confirmation DIMSE-N primitives are conveyed in the N-EVENT-REPORT-RSP Message.</para><sect4><title>10.3.1.1        N-EVENT-REPORT-RQ</title>
   <para>The N-EVENT-REPORT-RQ Message contains fields as defined in Table 10.3-1. Each field shall conform to DICOM encoding and Value Representation as defined in PS 3.5. Fields are required as specified in the N-EVENT-REPORT service definition unless otherwise noted in Table 10.3-1. Fields not specified in the N-EVENT-REPORT service definition but present in Table 10.3-1 are required by the DIMSE-N protocol.</para>
   <para>Table 10.3-1N-EVENT-REPORT-RQ MESSAGE FIELDS</para>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Message Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Group Length</para>
            </entry>
            <entry>
               <para>(0000,0000)</para>
            </entry>
            <entry>
               <para>UL</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The even number of bytes from the end of the value field to the beginning of the next group.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>(0000,0002)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>SOP Class UID of the SOP Instance for which this event occurred.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Field</para>
            </entry>
            <entry>
               <para>(0000,0100)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field distinguishes the DIMSE-N notification conveyed by this Message. The value of this field shall be set to 0100H for the N-EVENT-REPORT-RQ Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID</para>
            </entry>
            <entry>
               <para>(0000,0110)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Implementation-specific value which distinguishes this Message from other Messages.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Data Set Type</para>
            </entry>
            <entry>
               <para>(0000,0800)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field indicates if a Data Set is present in the Message. This field shall be set to the value of 0101H if no Data Set is present; any other value indicates a Data Set is included in the Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Instance UID</para>
            </entry>
            <entry>
               <para>(0000,1000)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Contains the UID of the SOP Instance for which this event occurred.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Event Type ID</para>
            </entry>
            <entry>
               <para>(0000,1002)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Values for this field are application-specific.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Event Information</para>
            </entry>
            <entry>
               <para>(no tag)</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>Application-specific Data Set containing additional information related to the operation.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/>
   <para>Notes        1. Service Class Specifications contained in PS 3.4 defines the values needed for the Event Type ID parameter.</para>
   <para>2. Service Class Specifications contained in PS 3.4 defines the Data Set needed for the Event Information parameter.</para>
   <para/></sect4><sect4><title>10.3.1.2        N-EVENT-REPORT-RSP</title>
   <para>The N-EVENT-REPORT-RSP Message contains fields as defined in Table 10.3-2 and Annex C. Each field shall conform to DICOM encoding and Value Representation as defined in PS 3.5. Fields are required as specified in the N-EVENT-REPORT service definition unless otherwise noted in Table 10.3-2. Fields not specified in the N-EVENT-REPORT service definition but present in Table 10.3-2 are required by the DIMSE-N protocol.</para>
   <para>Table 10.3-2N-EVENT-REPORT-RSP MESSAGE FIELDS</para>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Message Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Group Length</para>
            </entry>
            <entry>
               <para>(0000,0000)</para>
            </entry>
            <entry>
               <para>UL</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The even number of bytes from the end of the value field to the beginning of the next group.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>(0000,0002)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>SOP Class UID of the SOP Instance for which this event occurred.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Field</para>
            </entry>
            <entry>
               <para>(0000,0100)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field distinguishes the DIMSE-N operation conveyed by this Message. The value of this field shall be set to 8100H for the N-EVENT-REPORT-RSP Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID Being Responded To</para>
            </entry>
            <entry>
               <para>(0000,0120)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Shall be set to the value of the Message ID (0000,0110) field used in associated N-EVENT-REPORT-RQ Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Data Set Type</para>
            </entry>
            <entry>
               <para>(0000,0800)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field indicates if a Data Set is present in the Message. This field shall be set to  the value of 0101H if no Data Set is present; any other value indicates a Data Set is included in the Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The value of this field depends upon the status type. Annex C defines the encoding of the status types defined in the service definition.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Instance UID</para>
            </entry>
            <entry>
               <para>(0000,1000)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Contains the UID of the SOP Instance for which this event occurred.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Event Type ID</para>
            </entry>
            <entry>
               <para>(0000,1002)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Values for this field are application-specific.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Event Reply</para>
            </entry>
            <entry>
               <para>(no tag)</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>Application-specific Data Set containing additional information related to the operation.</para>
               <para/>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/>
   <para>Notes:        1. Service Class Specifications contained in PS 3.4 defines the values needed for the Event Type ID parameter.</para>
   <para>2. Service Class Specifications contained in PS 3.4 defines the Data Set needed for the Event Reply parameter related to each defined Event Type ID.</para>
   <para/></sect4><sect4><title>10.3.1.3          N-EVENT-REPORT protocol procedures</title>
   <para>The N-EVENT-REPORT reporting procedures are initiated by the invoking DIMSE-service-user issuing an N-EVENT-REPORT request primitive. On receipt of the N-EVENT-REPORT request primitive the DIMSE-N protocol machine shall:</para>
   <para>        construct a Message conveying the N-EVENT-REPORT-RQ</para>
   <para>        send the Message using the P-DATA request service (See 8.1)</para>
   <para>On receipt of a Message conveying an N-EVENT-REPORT-RQ the DIMSE-N protocol machine shall issue an N-EVENT-REPORT indication primitive to the performing DIMSE-service-user.</para>
   <para>On receipt of the N-EVENT-REPORT response primitive issued by the performing DIMSE-service-user, the DIMSE-N protocol machine shall:</para>
   <para>        construct a Message conveying the N-EVENT-REPORT-RSP</para>
   <para>        send the Message using the P-DATA request service (See Section 8.1)</para>
   <para>On receipt of a Message conveying an N-EVENT-REPORT-RSP the DIMSE-N protocol machine shall issue an N-EVENT-REPORT confirmation primitive to the invoking DIMSE-service-user, thus completing the notification procedure.</para>
   <para>The performing DIMSE-service-user may return an N-EVENT-REPORT-RSP with the status of Failed or Refused before the complete N-EVENT-REPORT-RQ request Message has been completely transmitted by the invoking DIMSE-service-user (this is called an early failed response). Upon receipt of this Failed or Refused N-EVENT-REPORT-RSP the invoking DIMSE-service-user may  terminate the Message before it is completely sent (i.e. set the Last Fragment bit to 1 in a Data PDV for this Message, see Annex F). Following this, it may invoke another operation or notification. It is a protocol violation for an invoking DIMSE-service-user to set the Last Fragment bit to 1 before an N-EVENT-REPORT-RQ Message has been completely transmitted if it has not received a Failed or Refused N-EVENT-REPORT-RSP to that request.</para>
   <para>Note        When an Association is operating in asynchronous mode, it is possible for an invoking DIMSE-service-user to transmit several Messages before a response. Therefore, while sending a Message it may receive a response to a  previously transmitted Message. In this case this response is not an early failed response because the related Message has already been sent.</para>
   <para/></sect4></sect3><sect3><title>10.3.2        N-GET PROTOCOL</title>
   <para>The information necessary for the N-GET request and indication DIMSE-N primitives are conveyed in the N-GET-RQ Message. The information necessary for the N-GET response and confirmation DIMSE-N primitives are conveyed in the N-GET-RSP Message.</para><sect4><title>10.3.2.1        N-GET-RQ</title>
   <para>The N-GET-RQ Message contains fields as defined in Table 10.3-3. Each field shall conform to DICOM encoding and Value Representation as defined in PS 3.5. Fields are required as specified in the N-GET service definition unless otherwise noted in Table 10.3-3. Fields not specified in the N-GET service definition but present in Table 10.3-3 are required by the DIMSE-N protocol.</para>
   <para>Table 10.3-3N-GET-RQ MESSAGE FIELDS</para>
   <informaltable frame="all">
      <tgroup cols="5"><tbody><row>
            <entry>
               <para>Message Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Group Length</para>
            </entry>
            <entry>
               <para>(0000,0000)</para>
            </entry>
            <entry>
               <para>UL</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The even number of bytes from the end of the value field to the beginning of the next group.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Requested SOP Class UID</para>
            </entry>
            <entry>
               <para>(0000,0003)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>SOP Class UID of the SOP Instance for which Attribute Values are to be retrieved.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Field</para>
            </entry>
            <entry>
               <para>(0000,0100)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field distinguishes the DIMSE-N operation conveyed by this Message. The value of this field shall be set to 0110H for the N-GET-RQ Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID</para>
            </entry>
            <entry>
               <para>(0000,0110)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Implementation-specific value which distinguishes this Message from other Messages.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Data Set Type</para>
            </entry>
            <entry>
               <para>(0000,0800)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field indicates that no Data Set shall be present in the Message. This field shall be set to the value of 0101H).</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Requested SOP Instance UID</para>
            </entry>
            <entry>
               <para>(0000,1001)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Contains the UID of the SOP Instance for which Attribute Values are to be retrieved.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Attribute Identifier List</para>
            </entry>
            <entry>
               <para>(0000,1005)</para>
            </entry>
            <entry>
               <para>AT</para>
            </entry>
            <entry>
               <para>1-n</para>
            </entry>
            <entry>
               <para>This field contains an Attribute Tag for each of the n Attributes applicable to the N-GET operation.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect4><sect4><title>10.3.2.2        N-GET-RSP</title>
   <para>The N-GET-RSP Message contains fields as defined in Table 10.3-4 and Annex C. Each field shall conform to DICOM encoding and Value Representation as defined in PS 3.5. Fields are required as specified in the N-GET service definition unless otherwise noted in Table 10.3-4. Fields not specified in the N-GET service definition but present in Table 10.3-4 are required by the DIMSE-N protocol.</para>
   <para>Table 10.3-4N-GET-RSP MESSAGE FIELDS</para>
   <informaltable frame="all">
      <tgroup cols="5"><tbody><row>
            <entry>
               <para>Message Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Group Length</para>
            </entry>
            <entry>
               <para>(0000,0000)</para>
            </entry>
            <entry>
               <para>UL</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The even number of bytes from the end of the value field to the beginning of the next group.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>(0000,0002)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>SOP Class UID of the SOP Instance for which Attribute Values are returned.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Field</para>
            </entry>
            <entry>
               <para>(0000,0100)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field distinguishes the DIMSE-N operation conveyed by this Message. The value of this field shall be set to 8110H for the N-GET-RSP Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID Being Responded To</para>
            </entry>
            <entry>
               <para>(0000,0120)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Shall be set to the value of the Message ID (0000,0110) field used in associated N-GET-RQ Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Data Set Type</para>
            </entry>
            <entry>
               <para>(0000,0800)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field indicates if a Data Set is present in the Message. This field shall be set to the value of 0101H if no Data Set is present; any other value indicates a Data Set is included in the Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The value of this field depends upon the status type. Annex C defines the encoding of the status types defined in the service definition.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Instance UID</para>
            </entry>
            <entry>
               <para>(0000,1000)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Contains the UID of the SOP Instance for which Attribute Values are returned.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Attribute List</para>
            </entry>
            <entry>
               <para>(no tag)</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>T his field is encoded as a Data Set. One Data Element is encoded for each Attribute Value returned.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para> </para>
   <para>Note        The permitted contents of Attribute List, encoded as a series of Data Elements, are defined in the Information Object Definition (PS 3.3) and Service Class Specifications (PS 3.4).</para>
   <para/></sect4><sect4><title>10.3.2.3        N-GET protocol procedures</title>
   <para>The N-GET procedures are initiated by the invoking DIMSE-service-user issuing an N-GET request primitive. On receipt of the N-GET request primitive the DIMSE-N protocol machine shall:</para>
   <para>        construct a Message conveying the N-GET-RQ</para>
   <para>        send the Message using the P-DATA request service (See 8.1)</para>
   <para/>
   <para>On receipt of a Message conveying an N-GET-RQ the DIMSE-N protocol machine shall issue an N-GET indication primitive to the performing DIMSE-service-user.</para>
   <para>On receipt of the N-GET response primitive, issued by the performing DIMSE-service-user, the DIMSE-N protocol machine shall:</para>
   <para>        construct a Message conveying the N-GET-RSP</para>
   <para>        send the Message using the P-DATA request service (See 8.1)</para>
   <para>On receipt of a Message conveying an N-GET-RSP the DIMSE-N protocol machine shall issue an N-GET confirmation primitive to the invoking DIMSE-service-user, thus completing the N-GET procedure.</para></sect4></sect3><sect3><title>10.3.3        N-SET PROTOCOL</title>
   <para>The information necessary for the N-SET request and indication DIMSE-N primitives are conveyed in the N-SET-RQ Message. The information necessary for the N-SET response and confirmation DIMSE-N primitives are conveyed in the N-SET-RSP Message. Fields not specified in the N-SET service definition but present in Table 10.3-3 are required by the DIMSE-N protocol.</para><sect4><title>10.3.3.1        N-SET-RQ</title>
   <para>The N-SET-RQ Message contains fields as defined in Table 10.3-5. Each field shall conform to DICOM encoding and Value Representation as defined in PS 3.5. Fields are required as specified in the N-SET service definition unless otherwise noted in Table 10.3-5. Fields not specified in the N-SET service definition but present in Table 10.3-5 are required by the DIMSE-N protocol.</para>
   <para>Table 10.3-5N-SET-RQ MESSAGE FIELDS</para>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Message Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Group Length</para>
            </entry>
            <entry>
               <para>(0000,0000)</para>
            </entry>
            <entry>
               <para>UL</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The even number of bytes from the end of the value field to the beginning of the next group.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Requested SOP Class UID</para>
            </entry>
            <entry>
               <para>(0000,0003)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>SOP Class UID of the SOP Instance for which Attribute values are to be modified.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Field</para>
            </entry>
            <entry>
               <para>(0000,0100)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field distinguishes the DIMSE-N operation conveyed by this Message. The value of this field shall be set to 0120H for the N-SET-RQ Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID</para>
            </entry>
            <entry>
               <para>(0000,0110)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Implementation-specific value which distinguishes this Message from other Messages.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Data Set Type</para>
            </entry>
            <entry>
               <para>(0000,0800)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field indicates that a Data Set is present in the Message. It shall be set to any value other than 0101H (Null).</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Requested SOP Instance UID</para>
            </entry>
            <entry>
               <para>(0000,1001)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Contains the UID of the SOP Instance for which Attribute values are to be modified.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Modification List</para>
               <para/>
            </entry>
            <entry>
               <para>(no tag)</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>This field is encoded as a Data Set. One Data Element is encoded for each Attribute and Attribute Value applicable to the operation.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/>
   <para>Note        he permitted contents of Modification List, encoded as a series of Data Elements, are defined in the Information Object Definition (PS 3.3) and Service Class Specifications (PS 3.4).</para>
   <para/></sect4><sect4><title>10.3.3.2        N-SET-RSP</title>
   <para>The N-SET-RSP Message contains all fields as defined in Table 10.3-6 and in Annex C. Each field shall conform to DICOM encoding and Value Representation as defined in PS 3.5. Fields are required as specified in the N-SET service definition unless otherwise noted. Fields not specified in the N-SET service definition but present in Table 10.3-6 are required by the DIMSE-N protocol.</para>
   <para>Table 10.3-6N-SET-RSP MESSAGE FIELDS</para>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Message Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Group Length</para>
            </entry>
            <entry>
               <para>(0000,0000)</para>
            </entry>
            <entry>
               <para>UL</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The even number of bytes from the end of the value field to the beginning of the next group.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>(0000,0002)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>SOP Class UID of the SOP Instance for which Attribute Values were modified.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Field</para>
            </entry>
            <entry>
               <para>(0000,0100)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field distinguishes the DIMSE-N operation conveyed by this Message. The value of this field shall be set to 8120H for the N-SET-RSP Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID Being Responded To</para>
            </entry>
            <entry>
               <para>(0000,0120)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Shall be set to the value of the Message ID (0000,0110) field used in associated N-SET-RQ Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Data Set Type</para>
            </entry>
            <entry>
               <para>(0000,0800)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field indicates if a Data Set is present in the Message. This field shall be set to the value of 0101H if no Data Set is present; any other value indicates a Data Set is included in the Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The value of this field depends upon the status type. Annex C defines the encoding of the status types defined in the service definition.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Instance UID</para>
            </entry>
            <entry>
               <para>(0000,1000)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Contains the UID of the SOP Instance for which Attribute Values were modified.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Attribute List</para>
            </entry>
            <entry>
               <para>(no tag)</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>This field is encoded as a Data Set. One Data Element is encoded for each Attribute and Attribute Value applicable to the operation.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/>
   <para>Note        The permitted contents of Attribute List, encoded as a series of Data Elements, are defined in the Information Object Definition (PS 3.3) and Service Class Specifications (PS 3.4).</para>
   <para/></sect4><sect4><title>10.3.3.3        N-SET protocol procedures</title>
   <para>The N-SET procedures are initiated by the invoking DIMSE-service-user issuing an N-SET request primitive. On receipt of the N-SET request primitive the DIMSE-N protocol machine shall:</para>
   <para>        construct a Message conveying the N-SET-RQ</para>
   <para>        send the Message using the P-DATA request service (See 8.1)</para>
   <para>On receipt of a Message conveying an N-SET-RQ the DIMSE-N protocol machine shall issue an N-SET indication primitive to the performing DIMSE-service-user.</para>
   <para>On receipt of the N-SET response primitive, issued by the performing DIMSE-service-user, the DIMSE-N protocol machine shall:</para>
   <para>        construct a Message conveying the N-SET-RSP</para>
   <para>        send the Message using the P-DATA request service (See 8.1)</para>
   <para>On receipt of a Message conveying an N-SET-RSP the DIMSE-N protocol machine shall issue an N-SET confirmation primitive to the invoking DIMSE-service-user, thus completing the N-SET procedure.</para>
   <para>The performing DIMSE-service-user may return an N-SET-RSP with the status of Failed or Refused before the complete N-SET-RQ request Message has been completely transmitted by the invoking DIMSE-service-user (this is called an early failed response). Upon receipt of this Failed or Refused N-SET-RSP the invoking DIMSE-service-user may  terminate the Message before it is completely sent (i.e. set the Last Fragment bit to 1 in a Data PDV for this Message, see Annex F). Following this, it may invoke another operation or notification. It is a protocol violation for an invoking DIMSE-service-user to set the Last Fragment bit to 1 before an N-SET-RQ Message has been completely transmitted if it has not received a Failed or Refused  N-SET-RSP to that request.</para>
   <para>Note        When an Association is operating in asynchronous mode, it is possible for an invoking DIMSE-service-user to transmit several Messages before a response. Therefore, while sending a Message it may receive a response to a  previously transmitted Message. In this case this response is not an early failed response because the related Message has already been sent.</para>
   <para/></sect4></sect3><sect3><title>10.3.4        N-ACTION PROTOCOL</title>
   <para>The information necessary for the N-ACTION request and indication DIMSE-N primitives are conveyed in the N-ACTION-RQ Message. The information necessary for the N-ACTION response and confirmation DIMSE-N primitives are conveyed in the N-ACTION-RSP Message.</para><sect4><title>10.3.4.1        N-ACTION-RQ</title>
   <para>The N-ACTION-RQ Message contains fields as defined in Table 10.3-7. Each field shall conform to DICOM encoding and Value Representation as defined in PS 3.5. Fields are required as specified in the N-ACTION service definition unless otherwise noted in Table 10.3-7. Fields not specified in the N-ACTION service definition but present in Table 10.3-7 are required by the DIMSE-N protocol.</para>
   <para>Table 10.3-7N-ACTION-RQ MESSAGE FIELDS</para>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Message Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Group Length</para>
            </entry>
            <entry>
               <para>(0000,0000)</para>
            </entry>
            <entry>
               <para>UL</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The even number of bytes from the end of the value field to the beginning of the next group.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Requested SOP Class UID</para>
            </entry>
            <entry>
               <para>(0000,0003)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>SOP Class UID of the SOP Instance for which the action is to be performed.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Field</para>
            </entry>
            <entry>
               <para>(0000,0100)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field distinguishes the DIMSE-N operation conveyed by this Message. The value of this field shall be set to 0130H for the N-ACTION-RQ Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID</para>
            </entry>
            <entry>
               <para>(0000,0110)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Implementation-specific value which distinguishes this Message from other Messages.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Data Set Type</para>
            </entry>
            <entry>
               <para>(0000,0800)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field indicates if a Data Set is present in the Message. This field shall be set to the value of 0101H if no Data Set is present; any other value indicates a Data Set is included in the Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Requested SOP Instance UID</para>
            </entry>
            <entry>
               <para>(0000,1001)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Contains the UID of the SOP Instance for which the action is to be performed.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Action Type ID</para>
            </entry>
            <entry>
               <para>(0000,1008)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Values for this field are application-specific.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Action Information</para>
            </entry>
            <entry>
               <para>(no tag)</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>Application-specific Data Set containing additional information related to the operation.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/>
   <para>Notes        1.  Service Class Specifications contained in PS 3.4 define the values needed for the Action Type ID (0000,1008) parameter.</para>
   <para/>
   <para>        2. Service Class Specifications contained in PS 3.4 define the Data Set needed for the Action Information parameter.</para>
   <para/></sect4><sect4><title>10.3.4.2        N-ACTION-RSP</title>
   <para>The N-ACTION-RSP Message contains fields as defined in Table 10.3-8 and Annex C. Each field shall conform to DICOM encoding and Value Representation as defined in PS 3.5. Fields are required as specified in the N-ACTION service definition unless otherwise noted in Table 10.3-8. Fields not specified in the N-ACTION service definition but present in Table 10.3-8 are required by the DIMSE-N protocol.</para>
   <para>Table 10.3-8N-ACTION-RSP MESSAGE FIELDS</para>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Message Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Group Length</para>
            </entry>
            <entry>
               <para>(0000,0000)</para>
            </entry>
            <entry>
               <para>UL</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The even number of bytes from the end of the value field to the beginning of the next group.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>(0000,0002)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>SOP Class UID of the SOP Instance for which the action was performed.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Field</para>
            </entry>
            <entry>
               <para>(0000,0100)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field distinguishes the DIMSE-N operation conveyed by this Message. The value of this field shall be set to 8130H for the N-ACTION-RSP Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID Being Responded To</para>
            </entry>
            <entry>
               <para>(0000,0120)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Shall be set to the value of the Message ID (0000,0110) field used in associated N-ACTION-RQ Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Data Set Type</para>
            </entry>
            <entry>
               <para>(0000,0800)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field indicates if a Data Set is present in the Message. This field shall be set to the value of 0101H if no Data Set is present; any other value indicates a Data Set is included in the Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The value of this field depends upon the status type. Annex C defines the encoding of the status types defined in the service definition.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Instance UID</para>
            </entry>
            <entry>
               <para>(0000,1000)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Contains the UID of the SOP Instance for which the action was performed.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Action Type ID</para>
            </entry>
            <entry>
               <para>(0000,1008)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Values for this field are application-specific.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Action Reply</para>
            </entry>
            <entry>
               <para>(no tag)</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>Application-specific Data Set containing additional information related to the operation.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/>
   <para>Notes        1.  Service Class Specifications contained in PS 3.4 define the values needed for the Action Type ID (0000,1008) parameter.</para>
   <para/>
   <para>        2. Service Class Specifications contained in PS 3.4 define the Data Set needed for the Action Reply parameter related to each defined Action Type ID.</para>
   <para>        3. Service Class Specifications contained in PS 3.4 define the encoding of the Action Reply parameter.</para>
   <para/></sect4><sect4><title>10.3.4.3        N-ACTION protocol procedures</title>
   <para>The N-ACTION procedures are initiated by the invoking DIMSE-service-user issuing an N-ACTION request primitive. On receipt of the N-ACTION request primitive the DIMSE-N protocol machine shall:</para>
   <para>        construct a Message conveying the N-ACTION-RQ</para>
   <orderedlist>
      <listitem>
         <para>send the Message using the P-DATA request service (See 8.1)</para>
      </listitem>
   </orderedlist>
   <para/>
   <para>On receipt of a Message conveying an N-ACTION-RQ the DIMSE-N protocol machine shall issue an N-ACTION indication primitive to the performing DIMSE-service-user.</para>
   <para>On receipt of the N-ACTION response primitive, issued by the performing DIMSE-service-user, the DIMSE-N protocol machine shall:</para>
   <para>        construct a Message conveying the N-ACTION-RSP</para>
   <para>        send the Message using the P-DATA request service (See 8.1)</para>
   <para>On receipt of a Message conveying an N-ACTION-RSP the DIMSE-N protocol machine shall issue an N-ACTION confirmation primitive to the invoking DIMSE-service-user, thus completing the N-ACTION procedure.</para>
   <para>The performing DIMSE-service-user may return an N-ACTION-RSP with the status of Failed or Refused before the complete N-ACTION-RQ request Message has been completely transmitted by the invoking DIMSE-service-user (this is called an early failed response). Upon receipt of this Failed or Refused N-ACTION-RSP the invoking DIMSE-service-user may  terminate the Message before it is completely sent (i.e. set the Last Fragment bit to 1 in a Data  PDV for this Message, see Annex F). Following this, it may invoke another operation or notification. It is a protocol violation for an invoking DIMSE-service-user to set the Last Fragment bit to 1 before an N-ACTION-RQ Message has been completely transmitted if it has not received a Failed or Refused N-ACTION-RSP to that request.</para>
   <para>Note        When an Association is operating in asynchronous mode, it is possible for an invoking DIMSE-service-user to transmit several Messages before a response. Therefore, while sending a Message it may receive a response to a  previously transmitted Message. In this case this response is not an early failed response because the related Message has already been sent.</para>
   <para/></sect4></sect3><sect3><title>10.3.5        N-CREATE PROTOCOL</title>
   <para>The information necessary for the N-CREATE request and indication DIMSE-N primitives are conveyed in the N-CREATE-RQ Message. The information necessary for the N-CREATE response and confirmation DIMSE-N primitives are conveyed in the N-CREATE-RSP Message.</para><sect4><title>10.3.5.1        N-CREATE-RQ</title>
   <para>The N-CREATE-RQ Message contains fields as defined in Table 10.3-9. Each field shall conform to DICOM encoding and Value Representation as defined in PS 3.5. Fields are required as specified in the N-CREATE service definition unless otherwise noted in Table 10.3-9. Fields not specified in the N-CREATE service definition but present in Table 10.3-9 are required by the DIMSE-N protocol.</para>
   <para>Table 10.3-9N-CREATE-RQ MESSAGE FIELDS</para>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Message Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Group Length</para>
            </entry>
            <entry>
               <para>(0000,0000)</para>
            </entry>
            <entry>
               <para>UL</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The even number of bytes from the end of the value field to the beginning of the next group.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>(0000,0002)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>SOP Class UID of the SOP Instance to be created.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Field</para>
            </entry>
            <entry>
               <para>(0000,0100)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field distinguishes the DIMSE-N operation conveyed by this Message. The value of this field shall be set to 0140H for the N-CREATE-RQ Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID</para>
            </entry>
            <entry>
               <para>(0000,0110)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Implementation-specific value which distinguishes this Message from other Messages.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Data Set Type</para>
            </entry>
            <entry>
               <para>(0000,0800)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field indicates that if a Data Set is present in the Message. This field shall be set to the value of 0101H if no Data Set is present; any other value indicates a Data Set is included in the Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Instance UID</para>
            </entry>
            <entry>
               <para>(0000,1000)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Contains the UID of the SOP Instance to be created.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Attribute List</para>
            </entry>
            <entry>
               <para>(no tag)</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>This field is encoded as a Data Set. One Data Element is encoded for each Attribute and Attribute Value applicable to the operation.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/>
   <para>Note        The permitted contents of Attribute List, encoded as a series of Data Elements, are defined in the Information Object Definition (PS 3.3) and Service Class Specifications (PS 3.4).</para>
   <para/></sect4><sect4><title>10.3.5.2        N-CREATE-RSP</title>
   <para>The N-CREATE-RSP Message contains fields as defined in Table 10.3-10 and Annex C. Each field shall conform to DICOM encoding and Value Representation as defined in PS 3.5. Fields are required as specified in the N-CREATE service definition unless otherwise noted in Table10.3-10. Fields not specified in the N-CREATE service definition but present in Table 10.3-10 are required by the DIMSE-N protocol.</para>
   <para>Table 10.3-10N-CREATE-RSP MESSAGE FIELDS</para>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Message Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Group Length</para>
            </entry>
            <entry>
               <para>(0000,0000)</para>
            </entry>
            <entry>
               <para>UL</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The even number of bytes from the end of the value field to the beginning of the next group.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>(0000,0002)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>SOP Class UID of the SOP Instance which was created.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Field</para>
            </entry>
            <entry>
               <para>(0000,0100)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field distinguishes the DIMSE-N operation conveyed by this Message. The value of this field shall be set to 8140H for the N-CREATE-RSP Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID Being Responded To</para>
            </entry>
            <entry>
               <para>(0000,0120)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Shall be set to the value of the Message ID (0000,0110) field used in associated N-CREATE-RQ Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Data Set Type</para>
            </entry>
            <entry>
               <para>(0000,0800)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field indicates if a Data Set is present in the Message. This field shall be set to the value of 0101H if no Data Set is present; any other value indicates a Data Set is included in the Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The value of this field depends upon the status type. Annex C defines the encoding of the status types defined in the service definition.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Instance UID</para>
            </entry>
            <entry>
               <para>(0000,1000)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Contains the UID of the SOP Instance which was created.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Attribute List</para>
            </entry>
            <entry>
               <para>(no tag)</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>This field is encoded as a Data Set. One Data Element is encoded for each Attribute and Attribute Value applicable to the operation.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/>
   <para>Note        The permitted contents of Attribute List, encoded as a series of Data Elements, are defined in the Information Object Definition (PS 3.3) and Service Class Specifications (PS 3.4).</para>
   <para/></sect4><sect4><title>10.3.5.3        N-CREATE protocol procedures</title>
   <para>The N-CREATE procedures are initiated by the invoking DIMSE-service-user issuing an N-CREATE request primitive. On receipt of the N-CREATE request primitive the DIMSE-N protocol machine shall:</para>
   <para>        construct a Message conveying the N-CREATE-RQ</para>
   <para>        send the Message using the P-DATA request service (See 8.1)</para>
   <para>On receipt of a Message conveying an N-CREATE-RQ the DIMSE-N protocol machine shall issue an N-CREATE indication primitive to the performing DIMSE-service-user.</para>
   <para>On receipt of the N-CREATE response primitive, issued by the performing DIMSE-service-user, the DIMSE-N protocol machine shall:</para>
   <para>        construct a Message conveying the N-CREATE-RSP</para>
   <para>        send the Message using the P-DATA request service (See 8.1)</para>
   <para>On receipt of a Message conveying an N-CREATE-RSP the DIMSE-N protocol machine shall issue an N-CREATE confirmation primitive to the invoking DIMSE-service-user, thus completing the N-CREATE procedure.</para>
   <para>The performing DIMSE-service-user may return an N-CREATE-RSP with the status of Failed or Refused before the complete N-CREATE-RQ request Message has been completely transmitted by the invoking DIMSE-service-user (this is called an early failed response). Upon receipt of this Failed or Refused N-CREATE-RSP the invoking DIMSE-service-user may  terminate the Message before it is completely sent (i.e. set the Last Fragment bit to 1 in a Data PDV for this Message, see Annex F). Following this, it may invoke another operation or notification. It is a protocol violation for an invoking DIMSE-service-user to set the Last Fragment bit to 1 before an N-CREATE-RQ Message has been completely transmitted if it has not received a Failed or Refused N-CREATE-RSP to that request.</para>
   <para>Note        When an Association is operating in asynchronous mode,  it is possible for an invoking DIMSE-service-user to transmit several Messages before a response. Therefore, while sending a Message it may receive a response to a  previously transmitted Message. In this case this response is not an early failed response because the related Message has already been sent.</para>
   <para/></sect4></sect3><sect3><title>10.3.6        N-DELETE PROTOCOL</title>
   <para>The information necessary for the N-DELETE request and indication DIMSE-N primitives are conveyed in the N-DELETE-RQ Message. The information necessary for the N-DELETE response and confirmation DIMSE-N primitives are conveyed in the N-DELETE-RSP Message.</para><sect4><title>10.3.6.1        N-DELETE-RQ</title>
   <para>The N-DELETE-RQ Message contains fields as defined in Table 10.3-11. Each field shall conform to DICOM encoding and Value Representation as defined in PS 3.5. Fields are required as specified in the N-DELETE service definition unless otherwise noted in Table 10.3-11. Fields not specified in the N-DELETE service definition but present in Table 10.3-11 are required by the DIMSE-N protocol.</para>
   <para>Table 10.3-11N-DELETE-RQ MESSAGE FIELDS</para>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Message Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Group Length</para>
            </entry>
            <entry>
               <para>(0000,0000)</para>
            </entry>
            <entry>
               <para>UL</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The even number of bytes from the end of the value field to the beginning of the next group.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Requested SOP Class UID</para>
            </entry>
            <entry>
               <para>(0000,0003)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>SOP Class UID of the SOP Instance to be deleted.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Field</para>
            </entry>
            <entry>
               <para>(0000,0100)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field distinguishes the DIMSE-N operation conveyed by this Message. The value of this field shall be set to 0150H for the N-DELETE-RQ Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID</para>
            </entry>
            <entry>
               <para>(0000,0110)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Implementation-specific value which distinguishes this Message from other Messages.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Data Set Type</para>
            </entry>
            <entry>
               <para>(0000,0800)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field indicates that no Data Set is present in the Message. It shall be set to  the value of 0101H.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Requested SOP Instance UID</para>
            </entry>
            <entry>
               <para>(0000,1001)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Contains the UID of the SOP Instance to be deleted.</para>
               <para/>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect4><sect4><title>10.3.6.2        N-DELETE-RSP</title>
   <para>The N-DELETE-RSP Message contains fields as defined in Table 10.3-12 and Annex C. Each field shall conform to DICOM encoding and Value Representation as defined in PS 3.5. Fields are required as specified in the N-DELETE service definition unless otherwise noted in Table 10.3-12. Fields not specified in the N-DELETE service definition but present in Table 10.3-12 are required by the DIMSE-N protocol. </para>
   <para>Table10.3-12N-DELETE-RSP MESSAGE FIELDS</para>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Message Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Group Length</para>
            </entry>
            <entry>
               <para>(0000,0000)</para>
            </entry>
            <entry>
               <para>UL</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The even number of bytes from the end of the value field to the beginning of the next group.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>(0000,0002)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>SOP Class UID of the SOP Instance which was deleted.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Field</para>
            </entry>
            <entry>
               <para>(0000,0100)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field distinguishes the DIMSE-N operation conveyed by this Message. The value of this field shall be set to 8150H for the N-DELETE-RSP Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Message ID Being Responded To</para>
            </entry>
            <entry>
               <para>(0000,0120)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Shall be set to the value of the Message ID (0000,0110) field used in associated N-DELETE-RQ Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Command Data Set Type</para>
            </entry>
            <entry>
               <para>(0000,0800)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field indicates that no Data Set is present in the Message. This field shall be set to the value of 0101H).</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The value of this field depends upon the status type. Annex C defines the encoding of the status types defined in the service definition.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Instance UID</para>
            </entry>
            <entry>
               <para>(0000,1000)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Contains the UID of the SOP Instance which was deleted.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect4><sect4><title>10.3.6.3        N-DELETE protocol procedures</title>
   <para>The N-DELETE procedures are initiated by the invoking DIMSE-service-user issuing an N-DELETE request primitive. On receipt of the N-DELETE request primitive the DIMSE-N protocol machine shall:</para>
   <para>        construct a Message conveying the N-DELETE-RQ</para>
   <para>        end the Message using the P-DATA request service (See 8.1)</para>
   <para/>
   <para>On receipt of a Message conveying an N-DELETE-RQ the DIMSE-N protocol machine shall issue an N-DELETE indication primitive to the performing DIMSE-service-user.</para>
   <para>On receipt of the N-DELETE response primitive, issued by the performing DIMSE-service-user, the DIMSE-N protocol machine shall:</para>
   <para>        construct a Message conveying the N-DELETE-RSP</para>
   <para>        send the Message using the P-DATA request service (See 8.1)</para>
   <para>On receipt of a Message conveying an N-DELETE-RSP the DIMSE-N protocol machine shall issue an N-DELETE confirmation primitive to the invoking DIMSE-service-user, thus completing the N-DELETE procedure.</para></sect4></sect3></sect2></sect1><sect1><title>Annex A        Application Context Usage(Normative)</title><sect2><title>A.1        Application context definition</title>
   <para>An Application Context explicitly defines the set of application service elements, related options and any other information necessary for the inter working of Application Entities on an Association; in particular, it specifies the DIMSE Protocol used by the Application Layer.</para>
   <para>Two Application Entities establish an Association by agreeing on an Application Context. The requester of an Association proposes an Application Context Name and the acceptor returns either the same or a different Application Context Name. The returned name specifies the Application Context to be used for this Association. The offer of an alternate Application Context by the acceptor provides a mechanism for limited negotiation. If the requester cannot operate in the acceptor's Application Context, it shall issue an A-Abort request primitive. Such a negotiation will facilitate the introduction of new versions of the DICOM Message Exchange Protocol in the future.</para></sect2><sect2><title>A.2        DICOM application context name encoding and registration</title>
   <para>The Application Context Name structure is based on the OSI Object Identification (numeric form) as defined by ISO 8824. Specific rules are defined in PS 3.5. Application Context Names are registered values as defined by ISO 9834-1 to ensure global uniqueness. Application Context Names shall be encoded as defined in PS 3.8.</para><sect3><title>A.2.1        DICOM Registered Application Context Names</title>
   <para>The organization responsible for the definition and registration of DICOM Application Context Names is ACR-NEMA. ACR-NEMA guarantees uniqueness for all DICOM Application Context Names. A choice of DICOM registered Application Context Names related to a specific version of DIMSE, as well as the associated negotiation rules, are defined in this annex.</para>
   <para>A single DICOM Application Context Name is defined for this version of this Standard. This name is "1.2.840.10008.3.1.1.1"</para></sect3><sect3><title>A.2.2        Privately defined application context names</title>
   <para>Privately defined Application Context Names may also be used, but they will not be registered by ACR-NEMA. Organizations which define private Application Context Names are responsible to obtain their proper registration as defined for OSI Object Identifiers. National Standards Organizations representing a number of countries (e.g. UK, France, Germany, Japan, USA, etc.) to the International Standards Organization act as a registration authority as defined by ISO 9834-1.</para>
   <para>Note        For example, in the USA, ANSI assigns Organization Identifiers to any requesting organization. This identifier is made of a series of four numeric elements; 1 (identifies ISO), 2 (identifies the ISO member bodies branch), 840 (identifies ANSI as the ISO member body representing the USA), and xxxxxx (identifies a specific organization and is issued by ANSI). Such an identifier may be used by the identified organization as a root to which it may add a suffix made of one or more numeric elements. The identified organization accepts the responsibility to properly register these suffixes to ensure uniqueness.</para>
   <para/>
   <para>Privately defined Application Context Names shall be encoded as defined in PS 3.8. The Organization identifier "1.2.840.10008" is reserved for DICOM and shall not be used for privately defined Application Context Names. </para></sect3></sect2><sect2><title>A.3 Association initialization for DICOM application entity</title>
   <para>The establishment of an Association involves two DICOM AEs, one that is the Association-requester and one that is the Association-acceptor.</para>
   <para>A DICOM AE shall initiate an Association establishment by using the A-ASSOCIATE request service defined in PS 3.8. It shall provide the Application Association Information as defined by Annex D.</para></sect2><sect2><title>A.4 Operation/notification for DICOM application entity</title>
   <para>Operations and notifications are only used on an Association. They result in Messages exchanged by using the P-DATA request service defined in PS 3.8.</para>
   <para>All operations and notifications invoked over an Association shall be confirmed. The performing DICOM AE shall report the response of each operation or notification over the same Association by means of which the operation or notification was invoked. No recovery shall be performed using multiple Associations.</para>
   <para>Operations and notifications, on an Association, shall use one of the following two modes:</para>
   <para>        synchronous, where the invoking DICOM AE, on a established Association, requires a response from the performing DICOM AE before invoking another operation or notification</para>
   <para>        asynchronous, where the invoking DICOM AE, on a established Association, may continue to invoke further operations or notifications to the performing DICOM AE without awaiting a response</para>
   <para/>
   <para>Note:        The synchronous/asynchronous mode is defined within the scope of one Application Entity and not within the scope of the association between two Application Entities.  The communication mode on the association may be bi-directional if agreed upon during association negotiation (i.e. both operation and notifications are simultaneously supported, etc.). Following is an example of synchronous mode, DICOM AE A may send an operation request to DICOM AE B and DICOM AE B may send a notification request to DICOM AE A before responding to the operation request from AE A. This is considered as synchronous mode because each AE has only one outstanding operation or notification.</para>
   <para/>
   <para>The mode selected (synchronous or asynchronous) is determined at Association establishment time. The synchronous mode serves as the default mode and shall be supported by all DICOM AEs. The asynchronous mode is optional and the maximum number of outstanding operations or notifications is negotiated during Association establishment. This negotiation is accomplished by the Asynchronous Operations Window sub-item structure as defined in Annex D.</para></sect2><sect2><title>A.5 Association release for DICOM AE</title>
   <para>Only the DICOM AE Association-requester may initiate an orderly release of the Association. This shall be accomplished by using the A-RELEASE service defined in PS 3.8.</para>
   <para>The DICOM AE Association-requester shall not release the Association until all operations invoked have been confirmed.</para></sect2><sect2><title>A.6 Association abort for DICOM AE</title>
   <para>Either DICOM AE may initiate an abrupt termination of an Association. This shall be accomplished by using the A-ABORT service defined in PS 3.8.</para>
   <para>Upon receiving or issuing the A-ABORT service primitive, the DICOM AE Association-requester and DICOM AE Association-acceptor shall fail any operation which is outstanding.</para>
   <para>Note        The Association services and presentation services defined in the Upper Layer Service in PS 3.8 are a fully conformant subset of the services offered by the ACSE and the OSI Presentation Layer.</para></sect2></sect1><sect1><title>Annex B        Index to Application Context Name UIDs(Informative)</title>
   <para>1.2.840.10008.3.1.1.1.....................................................................................................................81</para></sect1><sect1><title>Annex C        Status Type Encoding(Normative)</title>
   <para>The following sections define the encoding for the Status Types supported by the DIMSE services. The semantics for each Status Type (i.e. Attribute List Error, etc.) are defined in the DIMSE Services. Each Status Type is categorized in a Status Class.</para>
   <para>Note:        The Status (0000,0900) Command Element is required for all Status Types.</para>
   <para/>
   <para>All Status Codes are assigned according to the following Status Class convention:</para>
   <para/>
   <informaltable frame="all">
      <tgroup cols="2"><tbody><row>
            <entry>
               <para>Success</para>
            </entry>
            <entry>
               <para>0000</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Warning</para>
            </entry>
            <entry>
               <para>0001 or Bxxx</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Failure</para>
            </entry>
            <entry>
               <para>Axxx or Cxxx</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Cancel</para>
            </entry>
            <entry>
               <para>FE00</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Pending</para>
            </entry>
            <entry>
               <para>FF00 and FF01</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>PS 3.7 Annex C assigned Warning and Failure</para>
            </entry>
            <entry>
               <para>01xx and 02xx</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/><sect2><title>C.1        Success Status Class</title>
   <para>Statuses in this Status Class convey that the operation/notification completed successfully.</para><sect3><title>C.1.1 Success</title>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Status Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. The value of this required field shall be set to 0000H.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect3></sect2><sect2><title>C.2        Pending Status Class</title>
   <para>Statuses in this Status Class convey that the operation/notification is continuing and additional Statuses are expected.</para><sect3><title>C.2.1 Pending</title> 
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Status Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. The value of this required field is Service Class specific and defined in PS 3.4.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect3></sect2><sect2><title>C.3        Cancel Status Class</title>
   <para>Statuses in this Status Class convey that the operation/notification has been canceled.</para><sect3><title>C.3.1 Cancel</title>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Status Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. The value of this required field shall be set to FE00H.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect3></sect2><sect2><title>C.4        Warning Status Class</title>
   <para>Statuses in this Status Class convey that the operation/notification has completed but an error was detected. The semantics and behavior of these Statuses are defined in PS 3.4. </para><sect3><title>C.4.1         Warning</title>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Status Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. The value of this required field is Service Class specific and defined in PS 3.4.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Offending Element</para>
            </entry>
            <entry>
               <para>(0000,0901)</para>
            </entry>
            <entry>
               <para>AT</para>
            </entry>
            <entry>
               <para>1-n</para>
            </entry>
            <entry>
               <para>This optional field contains a list of the elements in which the error was detected.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Error Comment</para>
            </entry>
            <entry>
               <para>(0000,0902)</para>
            </entry>
            <entry>
               <para>LO</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This optional field contains an application-specific text description of the error detected. </para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect3><sect3><title>C.4.2         Attribute list error</title>         <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Status Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>(0000,0002)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This optional field contains the SOP Class UID for which Attributes were not recognized.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. The value of this required field shall be set to 0107H.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Instance UID</para>
            </entry>
            <entry>
               <para>(0000,1000)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This optional field contains the UID of the SOP Instance for which Attributes were not recognized.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Attribute Identifier List</para>
            </entry>
            <entry>
               <para>(0000,1005)</para>
            </entry>
            <entry>
               <para>AT</para>
            </entry>
            <entry>
               <para>1-n</para>
            </entry>
            <entry>
               <para>This optional field contains an Attribute Tag for each Attribute which were not recognized.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect3><sect3><title>C.4.3         Attribute Value Out of Range</title>         <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Status Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. The value of this required field shall be set to 0116H.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Modification List/Attribute List</para>
            </entry>
            <entry>
               <para>(no tag)</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>Optionally contains the application specific Data Set to only encode the invalid Attribute Values conveyed in the Modification List of the N-SET-RQ or the Attribute List of the N-CREATE-RQ.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect3></sect2><sect2><title>C.5        Failure status class</title>
   <para>Statuses in this Status Class convey that the operation/notification failed and was not performed.</para><sect3><title>C.5.1         Error: cannot understand</title>         <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Status Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. The value of this required field is Service Class specific and defined in PS 3.4.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Offending Element</para>
            </entry>
            <entry>
               <para>(0000,0901)</para>
            </entry>
            <entry>
               <para>AT</para>
            </entry>
            <entry>
               <para>1-n</para>
            </entry>
            <entry>
               <para>This optional field contains a list of the elements in which the error was detected.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Error Comment</para>
            </entry>
            <entry>
               <para>(0000,0902)</para>
            </entry>
            <entry>
               <para>LO</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This optional field contains an application-specific text description of the error detected.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect3><sect3><title>C.5.2         Error: Data Set does not match SOP class</title>         <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Status Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. The value of this required field is Service Class specific and defined in PS 3.4.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Offending Element</para>
            </entry>
            <entry>
               <para>(0000,0901)</para>
            </entry>
            <entry>
               <para>AT</para>
            </entry>
            <entry>
               <para>1-n</para>
            </entry>
            <entry>
               <para>This optional field contains a list of the elements in which the error was detected.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Error Comment</para>
            </entry>
            <entry>
               <para>(0000,0902)</para>
            </entry>
            <entry>
               <para>LO</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This optional field contains an application-specific text description of the error detected.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect3><sect3><title>C.5.3         Failed</title>         <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Status Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. The value of this required field is Service Class specific and defined in PS 3.4.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Offending Element</para>
            </entry>
            <entry>
               <para>(0000,0901)</para>
            </entry>
            <entry>
               <para>AT</para>
            </entry>
            <entry>
               <para>1-n</para>
            </entry>
            <entry>
               <para>This optional field contains a list of the elements in which the error was detected.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Error Comment</para>
            </entry>
            <entry>
               <para>(0000,0902)</para>
            </entry>
            <entry>
               <para>LO</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This optional field contains an application-specific text description of the error detected. </para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect3><sect3><title>C.5.4         Refused: move destination unknown</title>         <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Status Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. The value of this required field is Service Class specific and defined in PS 3.4.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Error Comment</para>
            </entry>
            <entry>
               <para>(0000,0902)</para>
            </entry>
            <entry>
               <para>LO</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This optional field contains an application-specific text description of the error detected.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect3><sect3><title>C.5.5         Refused: out of resources</title>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Status Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. The value of this required field is Service Class specific and defined in PS 3.4.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Error Comment</para>
            </entry>
            <entry>
               <para>(0000,0902)</para>
            </entry>
            <entry>
               <para>LO</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This optional field contains an application-specific text description of the error detected.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect3><sect3><title>C.5.6         Refused: SOP class not supported</title>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Status Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. The value of this required field shall be set to 0122H.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Error Comment</para>
            </entry>
            <entry>
               <para>(0000,0902)</para>
            </entry>
            <entry>
               <para>LO</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This optional field contains an application-specific text description of the error detected.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect3><sect3><title>C.5.7         Class-instance conflict</title>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Status Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Requested SOP Class UID</para>
            </entry>
            <entry>
               <para>(0000,0003)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This optional field contains the SOP Class UID for which the SOP Instance was not a member.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. The value of this required field shall be set to 0119H.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Requested SOP Instance UID</para>
            </entry>
            <entry>
               <para>(0000,1001)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This optional field contains the SOP Instance which was not a member of the specified SOP Class.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect3><sect3><title>C.5.8         Duplicate SOP instance</title>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Status Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. The value of this required field shall be set to 0111H.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Instance UID</para>
            </entry>
            <entry>
               <para>(0000,1000)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This optional field contains the SOP Instance UID which was already allocated to another SOP Instance.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect3><sect3><title>C.5.9         Duplicate invocation</title>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Status Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. The value of this required field shall be set to 0210H.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect3><sect3><title>C.5.10         Invalid argument value</title>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Status Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. The value of this required field shall be set to 0115H.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>(0000,0002)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This optional field contains the SOP Class UID for which an argument value was in error.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Instance UID</para>
            </entry>
            <entry>
               <para>(0000,1000)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This optional field contains the ID of the SOP Instance for which an argument value was in error.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Event Type ID</para>
            </entry>
            <entry>
               <para>(0000,1002)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This optional field contains the UID of the Event Type which was not recognized. Permitted only in the N-EVENT-RSP.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Event Information</para>
            </entry>
            <entry>
               <para>(no tag)</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>­</para>
            </entry>
            <entry>
               <para>Optionally contains the application specific Data Set to only encode the invalid argument values conveyed in the Event Information of the request. Permitted only in the N-EVENT-REPORT-RSP.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Action Type ID</para>
            </entry>
            <entry>
               <para>(0000,1008)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This optional field contains the ID of the Action Type which was not recognized. Permitted only in the N-ACTION-RSP.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Action Information</para>
            </entry>
            <entry>
               <para>(no tag)</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>Optionally contains the application specific Data Set to only encode the invalid argument values conveyed in the N-ACTION-RQ. Permitted only in the N-ACTION-RSP.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect3><sect3><title>C.5.11         Invalid attribute value</title>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Status Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. The value of this required field shall be set to 0106H.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Modification List/Attribute List</para>
            </entry>
            <entry>
               <para>(no tag)</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>Optionally contains the application specific Data Set to only encode the invalid Attribute Values conveyed in the Modification List  of the N-SET -RQ or the Attribute List of the N-CREATE-RQ.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect3><sect3><title>C.5.12         Invalid object instance</title>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Status Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. The value of this required field shall be set to 0117H.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Instance UID</para>
            </entry>
            <entry>
               <para>(0000,1000)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This optional field contains the SOP Instance UID which violated the UID construction rules.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect3><sect3><title>C.5.13         Missing attribute</title>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Status Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. The value of this required field shall be set to 0120H.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Attribute Identifier List</para>
            </entry>
            <entry>
               <para>(0000,1005)</para>
            </entry>
            <entry>
               <para>AT</para>
            </entry>
            <entry>
               <para>1-n</para>
            </entry>
            <entry>
               <para>This optional field contains an Attribute Tag for each Attribute which was not recognized.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect3><sect3><title>C.5.14         Missing attribute value</title>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Status Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. The value of this required field shall be set to 0121H.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Modification List/Attribute List</para>
            </entry>
            <entry>
               <para>(no tag)</para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para></para>
            </entry>
            <entry>
               <para>Optionally contains the application specific Data Set to only encode missing Attribute Values conveyed Modification List  of the N-SET -RQ or the Attribute List of the N-CREATE-RQ..</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect3><sect3><title>C.5.15         Mistyped argument</title>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Status Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. The value of this required field shall be set to 0212H.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect3><sect3><title>C.5.16         No such argument</title>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Status Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>(0000,0002)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This optional field shall optionally contain the SOP Class UID for which the argument does not exist.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. The value of this required field shall be set to 0114H.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Event Type ID</para>
            </entry>
            <entry>
               <para>(0000,1002)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This optional field contains the ID of the Event Type for which the argument does not exist. Permitted only in the N-EVENT-REPORT-RSP.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Action Type ID</para>
            </entry>
            <entry>
               <para>(0000,1008)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This optional field contains the ID of the Action Type for which the argument does not exist. Permitted only in the N-ACTION-RSP.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect3><sect3><title>C.5.17         No such attribute</title>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Status Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. The value of this required field shall be set to 0105H.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Attribute Identifier List</para>
            </entry>
            <entry>
               <para>(0000,1005)</para>
            </entry>
            <entry>
               <para>AT</para>
            </entry>
            <entry>
               <para>1-n</para>
            </entry>
            <entry>
               <para>This optional field contains an Attribute Tag for each Attribute which was not recognized.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect3><sect3><title>C.5.18         No such event type</title>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Status Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>(0000,0002)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This optional field contains the SOP Class UID for which the event type does not exist.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. The value of this required field shall be set to 0113H.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Event Type ID</para>
            </entry>
            <entry>
               <para>(0000,1002)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This optional field contains the ID of the Event Type which does not exist.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect3><sect3><title>C.5.19         No Such object instance</title>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Status Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. The value of this required field shall be set to 0112H.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Instance UID</para>
            </entry>
            <entry>
               <para>(0000,1000)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This optional field contains the SOP Instance UID which did not exist.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect3><sect3><title>C.5.20         No Such SOP class</title>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Status Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>(0000,0002)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This optional field contains the SOP Class UID which does not exist.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. The value of this required field shall be set to 0118H.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect3><sect3><title>C.5.21         Processing failure</title>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Status Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>(0000,0002)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This optional field contains the SOP Class UID on which the processing failure occurred.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. The value of this required field shall be set to 0110H.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Error Comment</para>
            </entry>
            <entry>
               <para>(0000,0902)</para>
            </entry>
            <entry>
               <para>LO</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This optional field contains an application-specific text description of the error detected. </para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Error ID</para>
            </entry>
            <entry>
               <para>(0000,0903)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This optional field contains an application-specific error code.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Instance UID</para>
            </entry>
            <entry>
               <para>(0000,1000)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This optional field shall optionally contain the UID of the SOP Instance on which the processing failure occurred.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect3><sect3><title>C.5.22         Resource limitation</title>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Status Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. The value of this required field shall be set to 0213H.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect3><sect3><title>C.5.23         Unrecognized operation</title>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Status Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. The value of this required field shall be set to 0211H.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect3><sect3><title>C.5.24         No such action type</title>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Status Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>(0000,0002)</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This optional field contains the SOP Class UID for which the action type does not exist.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. The value of this required field shall be set to 0123H.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Action Type ID</para>
            </entry>
            <entry>
               <para>(0000,1008)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This optional field contains the ID of the Action Type which does not exist.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect3><sect3><title>C.5.25         Refused: Not Authorized</title>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Status Field</para>
            </entry>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. The value of this required field shall be set to 0124H.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>Error Comment</para>
            </entry>
            <entry>
               <para>(0000,0902)</para>
            </entry>
            <entry>
               <para>LO</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This optional field contains an application-specific text description of the error detected.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect3></sect2></sect1><sect1><title>Annex D        Association Negotiation(Normative)</title>
   <para>Association establishment is the first phase of any instance of communication between peer DICOM AEs. The AEs use the Association establishment to negotiate how data will be encoded and the type of data to be exchanged. This Annex provides an overview of the negotiation mechanisms plus a discussion of each concept, its objectives, relationships, usage principles and specifications.</para><sect2><title>D.1        Abstract syntax</title>
   <para>Abstract Syntaxes specify the Application Layer Data Elements and Application Layer protocol control information (with associated semantics) which are independent of the encoding technique used to represent them.</para>
   <para>Each Abstract Syntax shall be identified by an Abstract Syntax Name in the form of a UID. DICOM AEs use the Abstract Syntax Name to identify and negotiate which SOP Classes and related options are supported on a specific Association. Abstract Syntax Names shall be defined in the Service Class Definitions specified in PS 3.4. Each Abstract Syntax Name defined shall have a value of either</para>
   <para>        a Service-Object Pair Class UID</para>
   <para>        a Meta Service-Object Pair Group UID</para>
   <para/><sect3><title>D.1.1        Service-object pair class UID</title>
   <para>Each Service Class Definition defines one or more functionally-related Service-Object Pair (SOP) Class definitions which specify well-defined operations and/or notifications which may be performed between peer DICOM Application Entities to provide an application-level service. Each SOP Class, identified by a SOP Class UID, is defined by the union of one Information Object Definition (IOD) and a specific set of one or more DIMSE Services called the DIMSE Service Group (DSG) in that</para>
   <para>        The IOD defines the data structures</para>
   <para>        The DSG defines the operations and/or notifications that can be performed on this data structure.</para>
   <para/>
   <para>Two SOP Classes defined by a single Service Class Definition may differ by the IOD, the DSG or both. Two different IODs shall not, however, be part of the same SOP Class. Figure D.1.1-1 shows the relationships between Service Classes, IODs, DSGs and SOP Classes.</para>
   <para>
      <inlinegraphic fileref="embedded:graphics3" width="6.5728inch" depth="2.0409inch"/>Figure D.1-1SERVICE CLASS, IOD, DSG AND SOP CLASS RELATIONSHIPS</para>
   <para>Notes:        1.  Two examples of Service Classes are the Storage and Study Management Service Classes. The Storage Service Class relates to image Information Object Definitions such as CT, MR etc. and the Study Management Service Class relates to the Study Information Object Definition.2.  For readers familiar with OSI terminology, the concept of the Managed Object Class is the equivalent to the DICOM Service-Object Pair Class. The SOP Class specifies both the data (Attributes defined in the Information Object Definition) and the methods (Operations and Notifications (DSG) defined in the Service Class).</para>
   <para/>
   <para>By setting the Abstract Syntax Name to a specific SOP Class UID value, DICOM Application Entities may negotiate Service Class operations and/or notifications for each defined SOP Class individually.</para></sect3><sect3><title>D.1.2        Meta service-object pair group UID</title>
   <para>Each Service Class Definition may optionally define one or more Meta Service-Object Pair Classes each being identified by a Meta SOP Class UID. Each Meta SOP Class represents the union of a set of SOP Classes defined in the Service Class.</para>
   <para>By setting the Abstract Syntax Name to a specific Meta SOP Class UID value, DICOM Application Entities may negotiate Service Class operations and/or notifications for a set of defined SOP Classes using a single Abstract Syntax. Figure D.1-2 depicts this.</para>
   <para>
      <inlinegraphic fileref="embedded:graphics4" width="6.4764inch" depth="3.3126inch"/>
   </para>
   <para>Figure D.1-2SOP CLASS UIDs AND META SOP CLASS UIDs AND ABSTRACT SYNTAX NAMES</para></sect3></sect2><sect2><title>D.2        Transfer syntaxes</title>
   <para>Transfer Syntaxes define a set of encoding rules used to unambiguously represent one or more Abstract Syntaxes. It allows communicating DICOM AEs to negotiate the encoding techniques they are able to support (e.g. byte ordering, compression, etc.).</para></sect2><sect2><title>D.3        Association establishment</title>
   <para>Association establishment is used to negotiate the type of data to be exchanged and how the data will be encoded. DICOM AEs establish Associations by using the ACSE A-ASSOCIATE Service as defined by Part 8 of the DICOM Standard. Three key parameters conveyed in the A-ASSOCIATE Service are the Application Context, Presentation Context, and the User Information Items. The following section discusses these negotiation parameters.</para>
   <para>Note:        The A-ASSOCIATE Service is performed only once at Association established time. The examples shown in this Section separate the negotiation parameters for clarification purposes only. Readers should remember that only one A-ASSOCIATE request is offered for each Association and it contains all of the negotiation parameters.</para>
   <para/><sect3><title>D.3.1        Application context</title>
   <para>An Application Context explicitly defines the set of Application Service Elements, related options and any other information necessary for the inter-working of DICOM AEs on an Association.</para>
   <para>The Application Context provides the highest level of negotiation, therefore, a very high level definition. Only one Application Context shall be offered per Association. DICOM specifies a single Application Context Name which defines the DICOM Application Context (applicable for this Standard and potentially later versions).</para>
   <para>Note:        For complete specification see Annex A of this Part.</para>
   <para/></sect3><sect3><title>D.3.2        Presentation contexts negotiation</title>
   <para>A Presentation Context defines the presentation of the data on an Association. It provides a lower level of negotiation and one or more Presentation Contexts can be offered and accepted per Association.</para>
   <para>A Presentation Context consists of three components, a Presentation Context ID, an Abstract Syntax Name, and a list of one or more Transfer Syntax Names.</para>
   <para>Only one Abstract Syntax shall be offered per Presentation Context. However, multiple Transfer Syntaxes may be offered per Presentation Context, but only one shall be accepted.</para>
   <para>For each SOP Class or Meta SOP Class a Presentation Context must be negotiated such that this Presentation Context supports the associated Abstract Syntax and a suitable Transfer Syntax. Presentation Contexts will be identified within the scope of a specific Association by a Presentation Context ID.</para>
   <para>Figure D.3-1 provides an illustration of Presentation Context Negotiation with the key points as follows:</para>
   <para>a.        the Association-requester may offer multiple Presentation Contexts per Association.</para>
   <para>b.        each Presentation Context supports one Abstract Syntax (related to a SOP Class or Meta SOP Class) and one or more Transfer Syntaxes.</para>
   <para>c.        the Association-acceptor may accept or reject each Presentation Context individually.</para>
   <para>d.        the Association-acceptor selects a suitable Transfer Syntax for each Presentation Context accepted.</para>
   <para>
      <inlinegraphic fileref="embedded:graphics5" width="6.5417inch" depth="6.6252inch"/>Figure D.3-1PRESENTATION CONTEXTS NEGOTIATION</para></sect3><sect3><title>D.3.3        DICOM application association information</title>
   <para>Peer DICOM AEs negotiate, at Association establishment, a number of features related to the DIMSE protocol by using the ACSE User Information Item of the A-ASSOCIATE request. This Section discusses these features.</para>
   <para>When the Association is established between peer DIMSE-service-users the Kernel Functional Unit shall be assumed; therefore, the Kernel Functional Unit shall not be included in the A-ASSOCIATE User Information item.</para><sect4><title>D.3.3.1        MAXIMUM LENGTH APPLICATION PDU NOTIFICATION</title>
   <para>The Maximum Length notification allows communicating AEs to limit the size of the data for each P-DATA indication. Each DICOM AE defines the maximum PDU size it can receive on this Association. Therefore, different maximum lengths can be specified for each direction of data flow on an Association. This notification is required. Figure D.3-2 illustrates the Maximum Length notification. </para>
   <para>Note:        For complete specification see PS 3.8.</para>
   <para/>
   <para>
      <inlinegraphic fileref="embedded:graphics6" width="4.9402inch" depth="2.5965inch"/>
   </para>
   <para>Figure D.3-2MAXIMUM LENGTH PDU NEGOTIATION</para></sect4><sect4><title>D.3.3.2        IMPLEMENTATION IDENTIFICATION NOTIFICATION</title>
   <para>The implementation identification notification allows implementations of communicating AEs to identify each other at Association establishment time. It is intended to provide respective (each network node knows the other's implementation identity) and non-ambiguous identification in the event of communication problems encountered between two nodes. This negotiation is required.</para>
   <para>Implementation identification relies on two pieces of information:</para>
   <para>        Implementation Class UID (required)</para>
   <para>        Implementation Version Name (optional)</para>
   <para/>
   <para>The Implementation Class UID identifies in a unique manner a specific class of implementation. Each node claiming conformance to this Standard shall be assigned an Implementation Class UID to distinguish its implementation environment from others. Such Implementation Class UIDs shall be registered by the implementing organization per the policies defined in PS 3.5. This Standard does not specify the policies associated with assigning such a UID.</para>
   <para>Different equipment of the same type or product line (but having different serial numbers) shall use the same Implementation Class UID if they share the same implementation environment (i.e., software).</para>
   <para>The notification by Association requestors and acceptors of their respective Implementation Class UID is required for all implementations conforming to this Standard. Figure D.3-3 illustrates the Implementation Class UID notification.</para>
   <para>
      <inlinegraphic fileref="embedded:graphics7" width="5.0047inch" depth="2.6646inch"/>
   </para>
   <para>Figure D.3-3IMPLEMENTATION CLASS UID NOTIFICATION</para>
   <para>In addition to the Implementation Class UID, an option is provided to convey an Implementation Version Name of up to 16 characters. Figure D.3-4 illustrates the Implementation Version Name notification. This Standard does not specify the structure and policies associated with such an Implementation Version Name. The absence of the Implementation Version Name requires that the use of the same Implementation Class UID by two nodes guarantees that these use the same version of implementation.</para>
   <para>Note:        As the UID shall not be parsed (their structure is not intended to convey any semantic significance beyond uniqueness), this optional Implementation Version Name provides an adequate mechanism to distinguish two versions of the same implementation (same Implementation Class UID).</para>
   <para/><sect4><title>D.3.3.2.1         Implementation class UID sub-item structure (A-ASSOCIATE-RQ)</title>
   <para>The Implementation Class UID Sub-Item shall be made of a sequence of mandatory fixed length fields followed by a variable field. Only one Implementation Class UID Sub-Item shall be present in the User Data Item of the A-ASSOCIATE-RQ. Table D.3-1 shows the sequence of the mandatory fields.</para>
   <para/>
   <para>
      <inlinegraphic fileref="embedded:graphics8" width="5.0047inch" depth="2.6646inch"/>
   </para>
   <para>Figure D.3-4IMPLEMENTATION VERSION NAME NOTIFICATION</para>
   <para>Table D.3-1IMPLEMENTATION CLASS UID SUB-ITEM FIELDS (A-ASSOCIATE-RQ)</para>
   <informaltable frame="all">
      <tgroup cols="3"><tbody><row>
            <entry>
               <para>Item Bytes</para>
            </entry>
            <entry>
               <para>Field Name</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Item-type</para>
            </entry>
            <entry>
               <para>52H</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>2</para>
            </entry>
            <entry>
               <para>Reserved</para>
            </entry>
            <entry>
               <para>This reserved field shall be sent with a value 00H but not tested to this value when received.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>3 - 4</para>
            </entry>
            <entry>
               <para>Item-length</para>
            </entry>
            <entry>
               <para>This Item-length shall be the number of bytes from the first byte of the following field to the last byte of the Implementation-class-uid field. It shall be encoded as an unsigned binary number.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>5 - xxx</para>
            </entry>
            <entry>
               <para>Implementation-class-uid</para>
            </entry>
            <entry>
               <para>This variable field shall contain the Implementation-class-uid of the Association-requester as defined in Section D.3.3.2 of this part. The Implementation-class-uid field is structured as a UID as defined in PS 3.5.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect4><sect4><title>D.3.3.2.2         Implementation class UID sub-item structure (A-ASSOCIATE-AC)</title>
   <para>The Implementation Class UID Sub-Item shall be made of a sequence of mandatory fixed length fields followed by a variable field. Only one Implementation Class UID Sub-Item shall be present in the User Data Item of the A-ASSOCIATE-AC. Table D.3-2 shows the sequence of the mandatory fields.</para>
   <para>Table D.3-2IMPLEMENTATION UID SUB-ITEM FIELDS (A-ASSOCIATE-AC)</para>
   <informaltable frame="all">
      <tgroup cols="3"><tbody><row>
            <entry>
               <para>Item Bytes</para>
            </entry>
            <entry>
               <para>Field Name</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Item-type</para>
            </entry>
            <entry>
               <para>52H</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>2</para>
            </entry>
            <entry>
               <para>Reserved</para>
            </entry>
            <entry>
               <para>This reserved field shall be sent with a value 00H but not tested to this value when received.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>3 - 4</para>
            </entry>
            <entry>
               <para>Item-length</para>
            </entry>
            <entry>
               <para>This Item-length shall be the number of bytes from the first byte of the following field to the last byte of the Implementation-class-uid field. It shall be encoded as an  unsigned binary number.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>5 - xxx</para>
            </entry>
            <entry>
               <para>Implementation-class-uid</para>
            </entry>
            <entry>
               <para>This variable field shall contain the Implementation-class-uid of the Association-acceptor as defined in Section D.3.3.2. The Implementation-class-uid field is structured as a UID as defined in PS 3.5.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect4><sect4><title>D.3.3.2.3         Implementation version name structure (A-ASSOCIATE-RQ)</title>
   <para>The Implementation Version Name Sub-Item shall be made of a sequence of mandatory fixed length fields followed by a variable field. Only one Implementation Version Name Sub-Item shall be present in the User Data Item of the A-ASSOCIATE-RQ. Table D.3-3 shows the sequence of the mandatory fields.</para>
   <para>Table D.3-3IMPLEMENTATION VERSION NAME SUB-ITEM FIELDS (A-ASSOCIATE-RQ)</para>
   <informaltable frame="all">
      <tgroup cols="3"><tbody><row>
            <entry>
               <para>Item Bytes</para>
            </entry>
            <entry>
               <para>Field Name</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Item-type</para>
            </entry>
            <entry>
               <para>55H</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>2</para>
            </entry>
            <entry>
               <para>Reserved</para>
            </entry>
            <entry>
               <para>This reserved field shall be sent with a value 00H but not tested to this value when received.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>3 - 4</para>
            </entry>
            <entry>
               <para>Item-length</para>
            </entry>
            <entry>
               <para>This Item-length shall be the number of bytes from the first byte of the following field to the last byte of the Implementation-version-name field. It shall be encoded as an unsigned binary number.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>5 - xxx</para>
            </entry>
            <entry>
               <para>Implementation-version-name</para>
            </entry>
            <entry>
               <para>This variable field shall contain the Implementation-version-name of the Association-requester as defined in Section D.3.3.2. It shall be encoded as a string of 1 to 16 ISO 646:1990 (basic G0 set ) characters.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect4><sect4><title>D.3.3.2.4        Implementation version name structure (A-ASSOCIATE-AC)</title>
   <para>The Implementation Version Name Sub-Item shall be made of a sequence of mandatory fixed length fields followed by a variable field. Only one Implementation Version Name Sub-Item shall be present in the User Data Item of the A-ASSOCIATE-AC. Table D.3-4 shows the sequence of the mandatory fields.</para>
   <para>Table D.3-4IMPLEMENTATION VERSION NAME SUB-ITEM FIELDS (A-ASSOCIATE-AC)</para>
   <informaltable frame="all">
      <tgroup cols="3"><tbody><row>
            <entry>
               <para>Item Bytes</para>
            </entry>
            <entry>
               <para>Field Name</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Item-type</para>
            </entry>
            <entry>
               <para>55H</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>2</para>
            </entry>
            <entry>
               <para>Reserved</para>
            </entry>
            <entry>
               <para>This reserved field shall be sent with a value 00H but not tested to this value when received.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>3 - 4</para>
            </entry>
            <entry>
               <para>Item-length</para>
            </entry>
            <entry>
               <para>This Item-length shall be the number of bytes from the first byte of the following field to the last byte of the Implementation-version-name field. It shall be encoded as an unsigned binary number.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>5 - xxx</para>
            </entry>
            <entry>
               <para>Implementation-version-name</para>
            </entry>
            <entry>
               <para>This variable field shall contain the Implementation-version-name of the Association-acceptor as defined in Section D.3.3.2. It shall be encoded as a string of 1 to 16 ISO 646:1990 (basic G0 set ) characters.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect4></sect4><sect4><title>D.3.3.3        ASYNCHRONOUS OPERATIONS (AND SUB-OPERATIONS) WINDOW NEGOTIATION</title>
   <para>The Asynchronous Operations Window is used to negotiate the maximum number of outstanding operation or sub-operation requests (i.e. command requests) for each direction. The synchronous operations mode is the default mode and shall be support by all DICOM AEs. This negotiation is optional.</para>
   <para>The Association-requester conveys in the A-ASSOCIATE request:</para>
   <para>        when negotiating the SCU role for operations, the maximum number of outstanding operations it may invoke asynchronously; when negotiating the SCP role for operations,the maximum number of outstanding sub-operations it may invoke asynchronously; when negotiating the SCP role for notifications, the maximum number of notifications it may invoke asynchronously</para>
   <para>        when negotiating the SCP role for operations, the maximum number of outstanding operations it may invoke asynchronously; when negotiating the SCU role for operations, the maximum number of outstanding sub-operations it may perform asynchronously; when negotiating the SCU role for notifications, the maximum number of notifications it may perform asynchronously when negotiating the SCP role</para>
   <para/>
   <para>A value of zero indicates that the above parameters are unlimited. If the Asynchronous Operations Window is absent the default for the above parameters shall be equal to one.</para>
   <para>The Association-acceptor conveys in the A-ASSOCIATE response:</para>
   <para>        when negotiating the SCP role for operations, the maximum number of outstanding operations; when negotiating the SCU role for operations, the maximum number of sub-operations it allows the Association-requester to invoke asynchronously; when negotiating the SCU role for notifications, the maximum number of outstanding notifications it allows the Association-requester to invoke asynchronously when negotiating the SCU role.  This number shall be equal or less than the number of outstanding notifications, operations and/or sub-operations the Association-requester offers to invoke (by the A-ASSOCIATE indication).</para>
   <para>        when negotiating the SCU role for operations, the maximum number of outstanding operations; when negotiating the SCP role for operations, the maximum number of sub-operations it allows the Association-requester to perform asynchronously; when negotiating the SCP role for notifications, the maximum number of outstanding notifications it allows the Association-requester to perform asynchronously. This number shall be equal or less than the number of outstanding notifications, operations and/or sub-operations the Association-requester offers to perform (by the A-ASSOCIATE indication).</para>
   <para/>
   <para>A value of zero indicates that the above parameters are unlimited. If the Asynchronous Operations Window is absent the default for the above parameters shall be equal to one. Figures D.3-5 and D.3-6 illustrate examples of Asynchronous Operations Window negotiation.</para>
   <para>If this negotiation is not present in the A-ASSOCIATE indication it shall be omitted in the A-ASSOCIATE response.</para>
   <para>Note:        The case where the Association-requester offers the value of zero (which indicates unlimited operations), the Association-acceptor may return zero (agreeing to unlimited operations) or negotiate the parameter down by conveying a value other than zero.</para>
   <para>
      <inlinegraphic fileref="embedded:graphics9" width="6.311inch" depth="2.7673inch"/>
   </para>
   <para>Figure D.3-5ASYNCHRONOUS OPERATIONS WINDOW NEGOTIATION(window being negotiated down by DICOM application entity "B")</para>
   <para>
      <inlinegraphic fileref="embedded:graphics10" width="6.311inch" depth="2.7673inch"/>
   </para>
   <para>Figure D.3-6ASYNCHRONOUS OPERATIONS WINDOW NEGOTIATION(Window being defaulted to 1, 1 by DICOM application entity "B")</para><sect4><title>D.3.3.3.1        Asynchronous operations window sub-item structure(A-ASSOCIATE-RQ)</title>
   <para>The Asynchronous Operations Window Sub-Item shall be made of a sequence of mandatory fixed length fields. This Sub-Item is optional and if supported, only one Asynchronous Operations Window Sub-Item shall be present in the User Data Item of the A-ASSOCIATE-RQ. Table D.3-7 shows the sequence of the mandatory fields.</para>
   <para>Table D.3-7ASYNCHRONOUS OPERATIONS WINDOW SUB-ITEM FIELDS(A-ASSOCIATE-RQ)</para>
   <informaltable frame="all">
      <tgroup cols="3"><tbody><row>
            <entry>
               <para>Item Bytes</para>
            </entry>
            <entry>
               <para>Field Name</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Item-type</para>
            </entry>
            <entry>
               <para>53H</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>2</para>
            </entry>
            <entry>
               <para>Reserved</para>
            </entry>
            <entry>
               <para>This reserved field shall be sent with a value 00H but not tested to this value when received.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>3 - 4</para>
            </entry>
            <entry>
               <para>Item-length</para>
            </entry>
            <entry>
               <para>This Item-length shall be the number of bytes from the first byte of the following field to the last byte of the Maximum-number-operations-performed field. In the case of this Sub-Item, it shall have the fixed value of 00000004H encoded as an unsigned binary number.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>5 - 6</para>
            </entry>
            <entry>
               <para>Maximum-number-operations-invoked</para>
            </entry>
            <entry>
               <para>This field shall contain the Maximum-number-operations-invoked as defined for the Association-requester in Section D.3.3.3. It shall be encoded as an unsigned binary number.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>7-8</para>
            </entry>
            <entry>
               <para>Maximum-number-operations-performed</para>
            </entry>
            <entry>
               <para>This field shall contain the Maximum-number-operations-performed as defined for the Association-requester in Section D.3.3.3. It shall be encoded as an unsigned binary number.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect4><sect4><title>D.3.3.3.2        Asynchronous operations window sub-item structure(A-ASSOCIATE-AC)</title>
   <para>The Asynchronous Operations Window Sub-Item shall be made of a sequence of mandatory fixed length fields. This Sub-Item is optional and if supported, only one Asynchronous Operations Window Sub-Item shall be present in the User Data Item of the A-ASSOCIATE-AC. Table D.3-8 shows the sequence of the mandatory fields.</para>
   <para>Table D.3-8ASYNCHRONOUS OPERATIONS WINDOW SUB-ITEM FIELDS(A-ASSOCIATE-AC)</para>
   <informaltable frame="all">
      <tgroup cols="3"><tbody><row>
            <entry>
               <para>Item Bytes</para>
            </entry>
            <entry>
               <para>Field Name</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Item-type</para>
            </entry>
            <entry>
               <para>53H</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>2</para>
            </entry>
            <entry>
               <para>Reserved</para>
            </entry>
            <entry>
               <para>This reserved field shall be sent with a value 00H but not tested to this value when received.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>3 - 4</para>
            </entry>
            <entry>
               <para>Item-length</para>
            </entry>
            <entry>
               <para>This Item-length shall be the number of bytes from the first byte of the following field to the last byte of the Maximum-number-operations-performed field. In the case of this Sub-Item, it shall have the fixed value of 00000004H encoded as an unsigned binary number.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>5-6</para>
            </entry>
            <entry>
               <para>Maximum-number-operations-invoked</para>
            </entry>
            <entry>
               <para>This field shall contain the Maximum-number-operations-invoked as defined for the Association-acceptor in Section D.3.3.3 It shall be encoded as an unsigned binary number.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>7-8</para>
            </entry>
            <entry>
               <para>Maximum-number-operations-performed</para>
            </entry>
            <entry>
               <para>This field shall contain the Maximum-number-operations-performed as defined for the Association-acceptor in Section D.3.3.3. It shall be encoded as an unsigned binary number.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect4></sect4><sect4><title>D.3.3.4        SCP/SCU ROLE SELECTION NEGOTIATION</title>
   <para>The SCP/SCU role selection negotiation allows peer AEs to negotiate the roles in which they will serve for each SOP Class or Meta SOP Class supported on the Association. This negotiation is optional.</para>
   <para>The Association-requester, for each SOP Class UID or Meta SOP Class UID, may use one SCP/SCU Role Selection item. The SOP Class or Meta SOP Class shall be identified by its corresponding Abstract Syntax Name followed by one of the three role values:</para>
   <para>        Association-requester is SCU only</para>
   <para>        Association-requester is SCP only</para>
   <para>        Association-requester is both SCU and SCP</para>
   <para/>
   <para>If the SCP/SCU Role Selection item is absent the default role of the Association-requester shall be SCU and the default role of the Association-acceptor shall be SCP. </para>
   <para>The Association-acceptor, for each SCP/SCU Role Selection item offered, either accepts the Association-requester proposal by returning the same value (1) or turns down the proposal by returning the value (0). The Association-acceptor shall not return the value (1) if the Association-requester has not proposed the role, i.e., it has sent a value (0).  The Association-requester shall ignore the response if it has not proposed the role.</para>
   <para>If the SCP/SCU Role Selection item is not returned by the Association-acceptor then the role of the Association-requester shall be SCU and the role of the Association-acceptor shall be SCP. Figure D.3-7 illustrates the SCP/SCU Role Selection negotiation.</para>
   <para>If the SCP/SCU Role Selection items do not exist in the A-ASSOCIATE indication they shall be omitted in the A-ASSOCIATE response.</para>
   <para>Notes:        1. The choices made for the default roles are based on clarification made to previous versions of the Standard. Association-requesters that wish to offer Abstract Syntax Names using the SCP role must support this item. Association-acceptors that wish to accept Abstract Syntax Names using the SCU role must support this item.</para>
   <para>        2. If an Association-requestor offers an SCP/SCU Role Selection item for an Abstract Syntax Name but the Association-acceptor does not return a SCP/SCU Role Selection item for the same Abstract Syntax Name then the proposed roles have not been accepted and the default roles apply (i.e. Association-requester is SCU and Association-acceptor is SCP).</para>
   <para/>
   <para>
      <inlinegraphic fileref="embedded:graphics11" width="6.3335inch" depth="4.9862inch"/>
   </para>
   <para>Figure D.3-7SCU/SCP ROLE NEGOTIATION</para>
   <para>Note:        1.  DICOM AE "B" accepts DICOM AE "A"'s proposed role as an SCU for the Storage-MR SOP; therefore, DICOM AE "B" will perform in the SCP role. DICOM AE "B" turns down the SCP proposal from DICOM AE "A".2.  Both DICOM AEs may be SCU and SCP for the Storage-CT SOP.3.  DICOM AE "B" accepts DICOM AE "A"'s proposed role as an SCU for the Print-SOP; therefore, DICOM AE "B" will perform in the SCP role.</para>
   <para/><sect4><title>D.3.3.4.1         SCP/SCU role selection sub-item structure (A-ASSOCIATE-RQ)</title>
   <para>The SCP/SCU Role Selection Sub-Item shall be made of a sequence of mandatory fields. This Sub-Item is optional and if supported, one or more SCP/SCU Role Selection Sub-Items may be present in the User Data Item of the A-ASSOCIATE-RQ. The Association-requester may only offer one SOP Class SCP/SCU Role Selection Sub-Item for each SOP Class UID or Meta SOP Class that is present in the A-ASSOCIATE request. Table D.3-9 shows the sequence of the mandatory fields.</para>
   <para>Table D.3-9SCP/SCU ROLE SELECTION SUB-ITEM FIELDS (A-ASSOCIATE-RQ)</para>
   <informaltable frame="all">
      <tgroup cols="3"><tbody><row>
            <entry>
               <para>Item Bytes</para>
            </entry>
            <entry>
               <para>Field Name</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Item-type</para>
            </entry>
            <entry>
               <para>54H</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>2</para>
            </entry>
            <entry>
               <para>Reserved</para>
            </entry>
            <entry>
               <para>This reserved field shall be sent with a value 00H but not tested to this value when received.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>3 - 4</para>
            </entry>
            <entry>
               <para>Item-length</para>
            </entry>
            <entry>
               <para>This Item-length shall be the number of bytes from the first byte of the following field to the last byte of the SCP Role field. It shall be encoded as an unsigned binary number.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>5-6</para>
            </entry>
            <entry>
               <para>UID-length</para>
            </entry>
            <entry>
               <para>This UID-length shall be the number of bytes from the first byte of the following field to the last byte of the SOP-class-uid field. It shall be encoded as an unsigned binary number.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>7 -xxx</para>
            </entry>
            <entry>
               <para>SOP-class-uid</para>
            </entry>
            <entry>
               <para>This variable field shall contain the SOP Class UID or Meta SOP Class UID which may be used to identify the corresponding Abstract Syntax for which this Sub-Item pertains. It shall encoded as an UID as defined in PS 3.5.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>xxx</para>
            </entry>
            <entry>
               <para>SCU-role</para>
            </entry>
            <entry>
               <para>This byte field shall contain the SCU-role as defined for the Association-requester in Section D.3.3.4. It shall be encoded as an unsigned binary and shall use one of the following values:</para>
               <para>0 - non support of the SCU role</para>
               <para>1 - support of the SCU role</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>xxx</para>
            </entry>
            <entry>
               <para>SCP-role</para>
            </entry>
            <entry>
               <para>This byte field shall contain the SCP-role as defined for the Association-requester in Section D.3.3.4. It shall be encoded as an unsigned binary and shall use one of the following values:</para>
               <para>0 - non support of the SCP role</para>
               <para>1 - support of the SCP role.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect4><sect4><title>D.3.3.4.2         SCP/SCU role selection sub-item structure (A-ASSOCIATE-AC)</title>
   <para>The SCP/SCU Role Selection Sub-Item shall be made of a sequence of mandatory fields. This Sub-Item is optional and if supported, one or more SCP/SCU Role Selection Sub-Items may be present in the User Data Item of the A-ASSOCIATE-AC. Table D.3-10 shows the sequence of the mandatory fields.</para>
   <para>Table D.3-10SCP/SCU ROLE SELECTION SUB-ITEM FIELDS (A-ASSOCIATE-AC)</para>
   <informaltable frame="all">
      <tgroup cols="3"><tbody><row>
            <entry>
               <para>Item Bytes</para>
            </entry>
            <entry>
               <para>Field Name</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Item-type</para>
            </entry>
            <entry>
               <para>54H</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>2</para>
            </entry>
            <entry>
               <para>Reserved</para>
            </entry>
            <entry>
               <para>This reserved field shall be sent with a value 00H but not tested to this value when received.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>3 - 4</para>
            </entry>
            <entry>
               <para>Item-length</para>
            </entry>
            <entry>
               <para>This Item-length shall be the number of bytes from the first byte of the following field to the last byte of the SCP Role field. It shall be encoded as an unsigned binary number.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>5-6</para>
            </entry>
            <entry>
               <para>UID-length</para>
            </entry>
            <entry>
               <para>This UID-length shall be the number of bytes from the first byte of the following field to the last byte of the SOP-class-uid field. It shall be encoded as an unsigned binary number.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>7-xxx</para>
            </entry>
            <entry>
               <para>SOP-class-uid</para>
            </entry>
            <entry>
               <para>This variable field shall contain the SOP Class UID or Meta SOP Class UID which may be used to identify the corresponding Abstract Syntax for which this Sub-Item pertains. It shall encoded as an UID as defined in PS 3.5.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>xxx</para>
            </entry>
            <entry>
               <para>SCU-role</para>
            </entry>
            <entry>
               <para>This byte field shall contain the SCU-role as defined in Section D.3.3.4. It shall be encoded as an unsigned binary and shall use one of the following values:</para>
               <para>0 - The Association-acceptor rejects the Association-requester’s proposal of the SCU role selection</para>
               <para>1 - The Association-acceptor accepts the Association-requester’s proposal of the SCU role selection</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>xxx</para>
            </entry>
            <entry>
               <para>SCP-role</para>
            </entry>
            <entry>
               <para>This byte field shall contain the SCP-role as defined for the Association-acceptor in Section D.3.3.4. It shall be encoded as an unsigned binary and shall use one of the following values:</para>
               <para>0 - The Association-acceptor rejects the Association-requester’s proposal of the SCP role selection</para>
               <para>1 - The Association-acceptor accepts the Association-requester’s proposal of the SCP role selection</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect4></sect4><sect4><title>D.3.3.5        SERVICE-OBJECT PAIR (SOP) CLASS EXTENDED NEGOTIATION</title>
   <para>The SOP Class Extended Negotiation allows, at Association establishment, peer DICOM AEs to exchange application information defined by specific Service Class specifications. This is an optional feature that various Service Classes may or may not choose to support.</para>
   <para>Each Service Class specification is required to document, as part of its SOP Class or Meta SOP Class, the application information it supports and how this information is negotiated between SCUs and SCPs. Service Class specifications shall specify, for both the SCU and SCP roles, the following:</para>
   <para>        semantics of the application information (including the negotiation rules)</para>
   <para>        encoding of the application information</para>
   <para>        conditions for which the application information is mandatory and/or optional</para>
   <para>        default conditions of the application information</para>
   <para/>
   <para>Note:        The use of the SOP Class Extended Negotiation is not limited to Service Classes defined by this Standard. It may also be used for privately defined Service Classes.</para>
   <para/>
   <para>The Association-requester may only offer one SOP Class Extended Negotiation item for each SOP Class UID or Meta SOP Class that is present in the A-ASSOCIATE request.</para>
   <para>If the SOP Class Extended Negotiation items do not exist in the A-ASSOCIATE indication they shall be omitted in the A-ASSOCIATE response.</para><sect4><title>D.3.3.5.1        SOP class extended negotiation sub-item structure(A-ASSOCIATE-RQ)</title>
   <para>The SOP Class Extended Negotiation Sub-item shall be made of a sequence of mandatory fields followed by the Service-class-application-information field (specific for each Service Class specification). This Sub-Item is required per the specific Service Class specifications. Multiple SOP Class Extended Negotiation Sub-Items may be present in the User Data Item of the A-ASSOCIATE-RQ, however, only one Sub-Item per SOP Class UID shall be present. Table D.3-11 shows the sequence of mandatory fields.</para>
   <para>Table D.3-11SOP CLASS EXTENDED NEGOTIATION SUB-ITEM FIELDS(A-ASSOCIATE-RQ and A-ASSOCIATE-AC)</para>
   <informaltable frame="all">
      <tgroup cols="3"><tbody><row>
            <entry>
               <para>Item Bytes</para>
            </entry>
            <entry>
               <para>Field Name </para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>1               </para>
            </entry>
            <entry>
               <para>Item-type</para>
            </entry>
            <entry>
               <para>56H</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>2       </para>
            </entry>
            <entry>
               <para>Reserved              </para>
            </entry>
            <entry>
               <para>This reserved field shall be sent with a value 00H but not tested to this value when received.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>3-4</para>
            </entry>
            <entry>
               <para>Item-Length          </para>
            </entry>
            <entry>
               <para>This Item-length shall be the number of bytes from the first byte of the following field to the last byte of the Service-class-application-information field. It shall be encoded as an unsigned binary number.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>5-6     </para>
            </entry>
            <entry>
               <para>SOP-class-uid-length    </para>
            </entry>
            <entry>
               <para>The SOP-class-uid-length shall be the number of bytes from the first byte of the following field to the last byte of the SOP-class-uid field. It shall be encoded as an unsigned binary number.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>7-xxx</para>
            </entry>
            <entry>
               <para>SOP-class-uid</para>
            </entry>
            <entry>
               <para>The SOP Class or Meta SOP Class identifier encoded as a UID as defined in PS 3.5.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>xxx-xxx</para>
            </entry>
            <entry>
               <para>Service-class-application-information</para>
            </entry>
            <entry>
               <para>This field shall contain the application information specific to the Service Class specification identified by the SOP-class-uid. The semantics and value of this field is defined in the identified Service Class specification.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect4><sect4><title>D.3.3.5.2        SOP class extended negotiation sub-item structure (A-ASSOCIATE-AC)</title>
   <para>The SOP Class Extended Negotiation Sub-item shall be made of a sequence of mandatory fields followed by the Service-class-application-information field (specific for each Service Class specification). This Sub-Item is required per the specific Service Class specifications. Multiple SOP Class Extended Negotiation Sub-Items may be present in the User Data Item of the A-ASSOCIATE-AC, however, only one Sub-Item per SOP Class UID shall be present. Table D.3-11 shows the sequence of mandatory fields.</para></sect4></sect4><sect4><title>D.3.3.6        SERVICE-OBJECT PAIR (SOP) CLASS COMMON EXTENDED NEGOTIATION</title>
   <para>The SOP Class Common Extended Negotiation allows, at Association establishment, peer DICOM AEs to exchange application information, the form of which is generic, and not specific to individual Service Classes, as compared to the information defined in D.3.3.5. This is an optional feature that Association-requesters and Association-acceptors may or may not choose to support.</para>
   <para>The information included for each SOP Class for which a sub-item is present consists of a Service Class UID and (optionally) a Related General SOP Class UID.</para>
   <para>The Service Class UID conveys the Service Class of the SOP Class.</para>
   <para>Note:         Explicit conveyance of the Service Class may allow the selection of the proper format for the Service-class-application-information of the SOP Class Extended Negotiation Sub-item.</para>
   <para/>
   <para>The Related General SOP Class UID conveys zero or more Related General SOP Class for the SOP Class.</para>
   <para>Notes:        1. Consider the example of negotiation of support for a Procedure Log Storage SOP Class. That SOP Class is of the Storage Service Class. The encoding of the IOD would be compatible with the more general Enhanced SR Storage SOP Class. Therefore, the following common extended negotiation sub-item could optionally be included:</para>
   <para>        SOP Class UID:                1.2.840.10008.5.1.4.1.1.88.40        Procedure Log</para>
   <para>        Service Class UID:                1.2.840.10008.4.2                Storage Service Class</para>
   <para>        Related General SOP Class UID:  1.2.840.10008.5.1.4.1.1.88.22        Enhanced SR</para>
   <para/>
   <para>        2. The Related SOP Class may be absent, though the Service Class may still be included. For example, there may be a new image storage SOP Class without a Related SOP Class defined in PS 3.4, yet it is still useful to an Association-acceptor to be informed that the new SOP Class is of the Storage Service Class:</para>
   <para>        SOP Class UID:                1.2.840.10008.5.1.4.1.1.7.1        MF Single Bit SC Image Storage</para>
   <para>        Service Class UID:                1.2.840.10008.4.2                Storage Service Class</para>
   <para>        Related General SOP Class UID:   (none)</para>
   <para/>
   <para>The Association-requester may only offer one SOP Class Common Extended Negotiation item for each SOP Class UID that is present in the A-ASSOCIATE request.</para>
   <para>No response is necessary, hence the SOP Class Common Extended Negotiation items shall be omitted in the A-ASSOCIATE response. </para><sect4><title>D.3.3.6.1        SOP class common extended negotiation sub-item structure (A-ASSOCIATE-RQ)</title>
   <para>The SOP Class Common Extended Negotiation Sub-item shall be made of a sequence of mandatory fields, the last two of which may be zero-length. Multiple SOP Class Common Extended Negotiation Sub-Items may be present in the User Data Item of the A-ASSOCIATE-RQ, however, only one Sub-Item per SOP Class UID shall be present. Table D.3-12 shows the sequence of mandatory fields.</para>
   <para>Table D.3-12SOP CLASS COMMON EXTENDED NEGOTIATION SUB-ITEM FIELDS(A-ASSOCIATE-RQ)</para>
   <informaltable frame="all">
      <tgroup cols="3"><tbody><row>
            <entry>
               <para>Item Bytes</para>
            </entry>
            <entry>
               <para>Field Name </para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>1               </para>
            </entry>
            <entry>
               <para>Item-type</para>
            </entry>
            <entry>
               <para>57H</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>2       </para>
            </entry>
            <entry>
               <para>Sub-item-version             </para>
            </entry>
            <entry>
               <para>This field indicates the version of the Sub-item.  Fields added to the Sub-item definition in succeeding editions of the Standard will not affect the semantics of previously defined fields.  The version of the Sub-item defined in this edition of the Standard is 0.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>3-4</para>
            </entry>
            <entry>
               <para>Item-Length          </para>
            </entry>
            <entry>
               <para>This Item-length shall be the number of bytes from the first byte of the following field to the last byte of the Reserved field. It shall be encoded as an unsigned binary number.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>5-6     </para>
            </entry>
            <entry>
               <para>SOP-class-uid-length    </para>
            </entry>
            <entry>
               <para>The SOP-class-uid-length shall be the number of bytes in the SOP-class-uid field. It shall be encoded as an unsigned binary number.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>7-x </para>
            </entry>
            <entry>
               <para>SOP-class-uid</para>
            </entry>
            <entry>
               <para>The SOP Class identifier encoded as a UID as defined in PS 3.5.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(x+1)-(x+2)</para>
            </entry>
            <entry>
               <para>Service-class-uid-length</para>
            </entry>
            <entry>
               <para>The Service-class-uid-length shall be the number of bytes in the Service-class-uid field. It shall be encoded as an unsigned binary number.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(x+3)-y</para>
            </entry>
            <entry>
               <para>Service-class-uid</para>
            </entry>
            <entry>
               <para>The Service Class identifier encoded as a UID as defined in PS 3.5.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(y+1)-(y+2)</para>
            </entry>
            <entry>
               <para>Related-general-sop-class-identification-length</para>
            </entry>
            <entry>
               <para>The Related-general-sop-class-identification-length shall be the number of bytes in the Related-general-sop-class-identification field. Shall be zero if no Related General SOP Classes are identified.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(y+3)-z</para>
            </entry>
            <entry>
               <para>Related-general-sop-class-identification</para>
            </entry>
            <entry>
               <para>The Related-general-sop-class-identification is a sequence of pairs of length and UID sub-fields.  Each pair of sub-fields shall be formatted in accordance with Table D.3-13. </para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(z+1)-k</para>
            </entry>
            <entry>
               <para>Reserved</para>
            </entry>
            <entry>
               <para>Reserved for additional fields of the sub-item. Shall be zero-length for Version 0 of Sub-item definition.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/>
   <para>Table D.3-13RELATED-GENERAL-SOP-CLASS-IDENTIFICATION SUB-FIELDS</para>
   <informaltable frame="all">
      <tgroup cols="3"><tbody><row>
            <entry>
               <para>Bytes</para>
            </entry>
            <entry>
               <para>Sub-Field Name  </para>
            </entry>
            <entry>
               <para>Description of Sub-Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>1-2</para>
            </entry>
            <entry>
               <para>Related-general-sop-class-uid-length    </para>
            </entry>
            <entry>
               <para>The Related-general-sop-class-uid-length shall be the number of bytes in the Related-general-sop-class-uid sub-field. It shall be encoded as an unsigned binary number. </para>
            </entry>
         </row>
         <row>
            <entry>
               <para>3-n</para>
            </entry>
            <entry>
               <para>Related-general-sop-class-uid</para>
            </entry>
            <entry>
               <para>The Related General SOP Class identifier encoded as a UID as defined in PS 3.5.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect4></sect4><sect4><title>D.3.3.7        User Identity  Negotiation</title>
   <para>The User Identity  Negotiation is used to notify the association acceptor of the user identity of the association requestor. It may also request that the association acceptor respond with the server identity. This negotiation is optional.  If this sub-item is not present in the A-ASSOCIATE request the A-ASSOCIATE response shall not contain a user identity response subitem.  </para>
   <para>The Association-requester conveys in the A-ASSOCIATE request:</para>
   <para>        the form of user identity being provided, either a username, username and passcode, a Kerberos service ticket, or a SAML assertion.</para>
   <para>        an indication whether a positive server response is requested.</para>
   <para>The Association-acceptor does not provide an A-ASSOCIATE response unless a positive response is requested and user authentication succeeded.  If a positive response was requested, the A-ASSOCIATE response shall contain a User Identity sub-item.  If a Kerberos ticket is used the response shall include a Kerberos server ticket.</para>
   <para>Since a system may ignore request subitems, the positive response must be requested if the association requestor requires confirmation.  If the association acceptor does not support user identification it will accept the association without making a positive response.  The association requestor can then decide whether to proceed.</para>
   <para>The association acceptor may utilize the User Identity information provided during the association negotiation to populate the user information fields in DICOM audit trail messages.  The association acceptor may utilize the User Identity information provided during the association negotiation to perform authorization controls during the performance of other DIMSE transactions on the same association.  The user identity information may also be used to modify the performance of DIMSE transactions for other purposes, such as workflow optimizations.  </para>
   <para>Notes:        </para>
   <orderedlist>
      <listitem>
         <para>User identity authorization controls may be simple “allow/disallow” rules, or they can be more complex scoping rules.  For example, a query could be constrained to apply only to return information about patients that are associated with the identified user.  The issues surrounding authorization controls can become very complex. The User Identity SOP conveys user identity to support uses such as authorization controls and audit controls.  It does not specify their behavior. </para>
      </listitem>
      <listitem>
         <para>The option to include a passcode along with the user identity enables a variety of non-Kerberos secure interfaces.   Sending passwords in the clear is insecure, but there are single use password systems such as RFC-2289 and the various smart tokens that do not require protection.  The password might also be protected by TLS or other mechanisms.</para>
      </listitem>
   </orderedlist>
   <para/>
   <para>
      <anchor id="_1197265077"/>
      <anchor id="_1048127311"/>
      <anchor id="_1166260160"/>
      <anchor id="_1166259702"/>
      <anchor id="_1157442203"/>
      <anchor id="_1157442050"/>
      <anchor id="_1157399607"/>
      <anchor id="_1157398255"/>
      <anchor id="_1157398138"/>
      <anchor id="_1157398070"/>
      <anchor id="_1157397940"/>
      <anchor id="_1157397818"/>
      <anchor id="_1157397592"/>
      <anchor id="_1157397456"/>
      <anchor id="_1157397183"/>
   </para>
   <para>Figure D.3-8User Identity Negotiation(With server positive response requested)</para>
   <para>
      <anchor id="_1048127312"/>
      <anchor id="_1157442180"/>
      <anchor id="_1157442147"/>
      <anchor id="_1157399609"/>
      <anchor id="_1157398398"/>
      <anchor id="_1157398363"/>
      <anchor id="_1157398176"/>
   </para>
   <para>Figure D.3-9User Identity Negotiation(Application Entity “A” provides username identity)</para><sect4><title>D.3.3.7.1        User Identity sub-item structure(A-ASSOCIATE-RQ)</title>
   <para>The User Identity Negotiation Sub-Item shall be made of a sequence of mandatory fixed and variable length fields. This Sub-Item is optional and if supported, only one User Identity Negotiation Sub-Item shall be present in the User Data Item of the A-ASSOCIATE-RQ. Table D.3-14 shows the sequence of the mandatory fields.</para>
   <para>Table D.3-14User Identity Negotiation SUB-ITEM FIELDS(A-ASSOCIATE-RQ)</para>
   <informaltable frame="all">
      <tgroup cols="3"><tbody><row>
            <entry>
               <para>Item Bytes</para>
            </entry>
            <entry>
               <para>Field Name</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Item-type</para>
            </entry>
            <entry>
               <para>58H</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>2</para>
            </entry>
            <entry>
               <para>Reserved</para>
            </entry>
            <entry>
               <para>This reserved field shall be sent with a value 00H but not tested to this value when received.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>3 - 4</para>
            </entry>
            <entry>
               <para>Item-length</para>
            </entry>
            <entry>
               <para>This Item-length shall be the number of bytes from the first byte of the following field to the last byte of the last field sent.  It shall be encoded as an unsigned binary number.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>5</para>
            </entry>
            <entry>
               <para>User-Identity-Type</para>
            </entry>
            <entry>
               <para>Field value shall be in the range 1 to 4 with the following meanings:</para>
               <para>1 – Username as a string in UTF-8</para>
               <para>2 – Username as a string in UTF-8 and passcode</para>
               <para>3 – Kerberos Service ticket</para>
               <para>4 – SAML Assertion</para>
               <para>Other values are reserved for future standardization.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>6</para>
            </entry>
            <entry>
               <para>Positive-response-requested</para>
            </entry>
            <entry>
               <para>Field value: </para>
               <para>0 - no response requested</para>
               <para>1 - positive response requested</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>7-8</para>
            </entry>
            <entry>
               <para>Primary-field-length</para>
            </entry>
            <entry>
               <para>The User-Identity-Length shall contain the length of the User-Identity value.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>9-n</para>
            </entry>
            <entry>
               <para>Primary-field</para>
            </entry>
            <entry>
               <para>This field shall convey the user identity, either the username as a series of characters, or the Kerberos Service ticket encoded in accordance with RFC-1510.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>n+1-n+2</para>
            </entry>
            <entry>
               <para>Secondary-field-length</para>
            </entry>
            <entry>
               <para>This field shall be non-zero only if User-Identity-Type has the value 2.  It shall contain the length of the secondary-field.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>n+3-m</para>
            </entry>
            <entry>
               <para>Secondary-field</para>
            </entry>
            <entry>
               <para>This field shall be present only if User-Identity-Type has the value 2.  It shall contain the Passcode value.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/>
   <para/></sect4><sect4><title>D.3.3.7.2        User Identity sub-item structure(A-ASSOCIATE-AC)</title>
   <para>The User Identity Sub-Item shall be made of a sequence of mandatory fixed and variable length fields. This Sub-Item is optional and if supported, only one User Identity Sub-Item shall be present in the User Data Item of the A-ASSOCIATE-AC. Table D.3-15 shows the sequence of the mandatory fields.</para>
   <para>Table D.3-15User Identity Negotiation SUB-ITEM FIELDS(A-ASSOCIATE-AC)</para>
   <informaltable frame="all">
      <tgroup cols="3"><tbody><row>
            <entry>
               <para>Item Bytes</para>
            </entry>
            <entry>
               <para>Field Name</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Item-type</para>
            </entry>
            <entry>
               <para>59H</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>2</para>
            </entry>
            <entry>
               <para>Reserved</para>
            </entry>
            <entry>
               <para>This reserved field shall be sent with a value 00H but not tested to this value when received.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>3 - 4</para>
            </entry>
            <entry>
               <para>Item-length</para>
            </entry>
            <entry>
               <para>This Item-length shall be the number of bytes from the first byte of the following field to the last byte of the final field.  It shall be encoded as an unsigned binary number. </para>
            </entry>
         </row>
         <row>
            <entry>
               <para>5-6</para>
            </entry>
            <entry>
               <para>Server-response-length</para>
            </entry>
            <entry>
               <para>This field shall contain the number of bytes in the Server-response.  May be zero.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>7-n</para>
            </entry>
            <entry>
               <para>Server-response</para>
            </entry>
            <entry>
               <para>This field shall contain the Kerberos Server ticket, encoded in accordance with RFC-1510, if the User-Identity-Type value in the A-ASSOCIATE-RQ was 3. This field shall contain the SAML response if the User-Identity-Type value in the A-ASSOCIATE-RQ was 4. This field shall be zero length if the value of the User-Identity-Type in the A-ASSOCIATE-RQ was 1 or 2.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/>
   <para>If the Association-Requestor has requested a positive acknowledgement, the Server-response shall be returned with the Kerberos Server ticket when User-Identity-Type is Kerberos Service ticket (3).</para></sect4><sect4><title>D.3.3.7.3        User Identity rejection</title>
   <para>The association acceptor may utilize the username or username and passcode information to determine whether the user is permitted to establish an association.  If the Kerberos mechanism is chosen, the association acceptor shall utilize the Kerberos service ticket to determine whether the user is permitted to establish an association.</para>
   <para>If the association acceptor rejects the association because of an authorization failure, the rejection shall be indicated to be rejected-permanent (see PS 3.8).  The source shall be value (2) “DICOM UL service provided (ACSE related function)”.   The rejection is indicated to be rejected-permanent because retries with the same user identity fields will continue to be rejected.  A different and valid username, username and passcode, or Kerberos ticket must be provided.</para>
   <para>This standard does not define how the association acceptor performs authentication or what rules apply to this authentication.  </para>
   <para/>
   <para/></sect4></sect4></sect3></sect2></sect1><sect1><title>Annex E        Command Dictionary(Normative)</title><sect2><title>E.1        Registry of DICOM command elements</title>
   <para>Table E.1-1COMMAND FIELDS (PART 1)</para>
   <informaltable frame="all">
      <tgroup cols="3">
         <colspec colnum="1" colname="c1"/>
         <colspec colnum="2" colname="c2"/>
         <colspec colnum="3" colname="c3"/><tbody><row>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>Message Field</para>
            </entry>
            <entry>
               <para>Keyword</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
            <entry>
               <para>Description of Field</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,0000)</para>
            </entry>
            <entry>
               <para>Command Group Length</para>
            </entry>
            <entry>
               <para>CommandGroupLength</para>
            </entry>
            <entry>
               <para>UL</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The even number of bytes from the end of the value field to the beginning of the next group.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,0002)</para>
            </entry>
            <entry>
               <para>Affected SOP Class UID</para>
            </entry>
            <entry>
               <para>AffectedSOPClassUID</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The affected SOP Class UID associated with the operation.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,0003)</para>
            </entry>
            <entry>
               <para>Requested SOP Class UID</para>
            </entry>
            <entry>
               <para>RequestedSOPClassUID</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The requested SOP Class UID associated with the operation.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,0100)</para>
            </entry>
            <entry>
               <para>Command Field</para>
            </entry>
            <entry>
               <para>CommandField</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field distinguishes the DIMSE operation conveyed by this Message. This field shall be set to one of the following values:</para>
               <para>0001H       C-STORE-RQ</para>
               <para>8001H       C-STORE-RSP</para>
               <para>0010H       C-GET-RQ</para>
               <para>8010H       C-GET-RSP</para>
               <para>0020H       C-FIND-RQ</para>
               <para>8020H       C-FIND-RSP</para>
               <para>0021H       C-MOVE-RQ</para>
               <para>8021H       C-MOVE-RSP</para>
               <para>0030H       C-ECHO-RQ</para>
               <para>8030H       C-ECHO-RSP</para>
               <para>0100H       N-EVENT-REPORT-RQ</para>
               <para>8100H       N-EVENT-REPORT-RSP</para>
               <para>0110H       N-GET-RQ</para>
               <para>8110H       N-GET-RSP</para>
               <para>0120H       N-SET-RQ</para>
               <para>8120H       N-SET-RSP</para>
               <para>0130H       N-ACTION-RQ</para>
               <para>8130H       N-ACTION-RSP</para>
               <para>0140H       N-CREATE-RQ</para>
               <para>8140H       N-CREATE-RSP</para>
               <para>0150H       N-DELETE-RQ</para>
               <para>8150H       N-DELETE-RSP</para>
               <para>0FFFH       C-CANCEL-RQ</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,0110)</para>
            </entry>
            <entry>
               <para>Message ID</para>
            </entry>
            <entry>
               <para>MessageID</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Implementation-specific value that distinguishes this Message from other Messages.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,0120)</para>
            </entry>
            <entry>
               <para>Message ID Being Responded To</para>
            </entry>
            <entry>
               <para>MessageIDBeingRespondedTo</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Shall be set to the value of the Message ID (0000,0110) field used in associated request Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,0600)</para>
            </entry>
            <entry>
               <para>Move Destination</para>
            </entry>
            <entry>
               <para>MoveDestination</para>
            </entry>
            <entry>
               <para>AE</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Shall be set to the DICOM AE Title of the destination DICOM AE to which the C-STORE sub-operations are being performed.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,0700)</para>
            </entry>
            <entry>
               <para>Priority</para>
            </entry>
            <entry>
               <para>Priority</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The priority shall be set to one of the following values:</para>
               <para>LOW = 0002H</para>
               <para>MEDIUM = 0000H</para>
               <para>HIGH = 0001H</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,0800)</para>
            </entry>
            <entry>
               <para>Command Data Set Type</para>
            </entry>
            <entry>
               <para>CommandDataSetType</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field indicates if a Data Set is present in the Message. This field shall be set to the value of 0101H if no Data Set is present; any other value indicates a Data Set is included in the Message.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,0900)</para>
            </entry>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>Status</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Confirmation status of the operation. See Annex C.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,0901)</para>
            </entry>
            <entry>
               <para>Offending Element</para>
            </entry>
            <entry>
               <para>OffendingElement</para>
            </entry>
            <entry>
               <para>AT</para>
            </entry>
            <entry>
               <para>1-n</para>
            </entry>
            <entry>
               <para>If status is Cxxx, then this field contains a list of</para>
               <para> the elements in which the error was detected.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,0902)</para>
            </entry>
            <entry>
               <para>Error Comment</para>
            </entry>
            <entry>
               <para>ErrorComment</para>
            </entry>
            <entry>
               <para>LO</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field contains an application-specific text description of the error detected.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,0903)</para>
            </entry>
            <entry>
               <para>Error ID</para>
            </entry>
            <entry>
               <para>ErrorID</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>This field shall optionally contain an application-specific error code.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,1000)</para>
            </entry>
            <entry>
               <para>Affected SOP Instance UID</para>
            </entry>
            <entry>
               <para>AffectedSOPInstanceUID</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Contains the UID of the SOP Instance for which this operation occurred.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,1001)</para>
            </entry>
            <entry>
               <para>Requested SOP Instance UID</para>
            </entry>
            <entry>
               <para>RequestedSOPInstanceUID</para>
            </entry>
            <entry>
               <para>UI</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Contains the UID of the SOP Instance for which this operation occurred.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,1002)</para>
            </entry>
            <entry>
               <para>Event Type ID</para>
            </entry>
            <entry>
               <para>EventTypeID</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Values for this field are application-specific.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,1005)</para>
            </entry>
            <entry>
               <para>Attribute Identifier List</para>
            </entry>
            <entry>
               <para>AttributeIdentifierList</para>
            </entry>
            <entry>
               <para>AT</para>
            </entry>
            <entry>
               <para>1-n</para>
            </entry>
            <entry>
               <para>This field contains an Attribute Tag for each of the n Attributes applicable.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,1008)</para>
            </entry>
            <entry>
               <para>Action Type ID</para>
            </entry>
            <entry>
               <para>ActionTypeID</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Values for this field are application-specific.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,1020)</para>
               <para/>
            </entry>
            <entry>
               <para>Number of Remaining Sub-operations</para>
            </entry>
            <entry>
               <para>NumberOfRemainingSuboperations</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The number of remaining C-STORE sub-operations to be invoked for the operation.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,1021)</para>
               <para/>
            </entry>
            <entry>
               <para>Number of Completed Sub-operations</para>
            </entry>
            <entry>
               <para>NumberOfCompletedSuboperations</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The number of C-STORE sub-operations associated with this operation that have completed successfully.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,1022)</para>
               <para/>
            </entry>
            <entry>
               <para>Number of Failed Sub-operations</para>
            </entry>
            <entry>
               <para>NumberOfFailedSuboperations</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The number of C-STORE sub-operations associated with this operation that have failed.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,1023)</para>
               <para/>
            </entry>
            <entry>
               <para>Number of Warning Sub-operations</para>
            </entry>
            <entry>
               <para>NumberOfWarningSuboperations</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>The number of C-STORE sub-operations associated with this operation that generated warning responses.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,1030)</para>
            </entry>
            <entry>
               <para>Move Originator Application Entity Title</para>
            </entry>
            <entry>
               <para>MoveOriginatorApplicationEntityTitle</para>
            </entry>
            <entry>
               <para>AE</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Contains the DICOM AE Title of the DICOM AE that invoked the C-MOVE operation from which this C-STORE sub-operation is being performed.</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,1031)</para>
            </entry>
            <entry>
               <para>Move Originator Message ID</para>
            </entry>
            <entry>
               <para>MoveOriginatorMessageID</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
            <entry>
               <para>Contains the Message ID (0000,0110) of the C-MOVE-RQ Message from which this C-STORE sub-operation is being performed.</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/></sect2><sect2><title>E.2        Retired command fields</title>
   <para>The following command fields have been retired but are listed here for compatibility with previous versions of this Standard. Reference PS 3.5 for more information on retired Data Elements and Command Elements.</para>
   <para>Table E.2-1RETIRED COMMAND FIELDS</para>
   <informaltable frame="all">
      <tgroup cols="5"><tbody><row>
            <entry>
               <para>Tag</para>
            </entry>
            <entry>
               <para>Message Field</para>
            </entry>
            <entry>
               <para>Keyword</para>
            </entry>
            <entry>
               <para>VR</para>
            </entry>
            <entry>
               <para>VM</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,0001)</para>
            </entry>
            <entry>
               <para>Command Length to End</para>
            </entry>
            <entry>
               <para>CommandLengthToEnd</para>
            </entry>
            <entry>
               <para>UL</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,0010)</para>
            </entry>
            <entry>
               <para>Command Recognition Code</para>
            </entry>
            <entry>
               <para>CommandRecognitionCode</para>
            </entry>
            <entry>
               <para>SH</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,0200)</para>
            </entry>
            <entry>
               <para>Initiator</para>
            </entry>
            <entry>
               <para>Initiator</para>
            </entry>
            <entry>
               <para>AE</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,0300)</para>
            </entry>
            <entry>
               <para>Receiver</para>
            </entry>
            <entry>
               <para>Receiver</para>
            </entry>
            <entry>
               <para>AE</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,0400)</para>
            </entry>
            <entry>
               <para>Find Location</para>
            </entry>
            <entry>
               <para>FindLocation</para>
            </entry>
            <entry>
               <para>AE</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,0850)</para>
            </entry>
            <entry>
               <para>Number of Matches</para>
            </entry>
            <entry>
               <para>NumberOfMatches</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,0860)</para>
            </entry>
            <entry>
               <para>Response Sequence Number</para>
            </entry>
            <entry>
               <para>ResponseSequenceNumber</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,4000)</para>
            </entry>
            <entry>
               <para>Dialog Receiver</para>
            </entry>
            <entry>
               <para>DialogReceiver</para>
            </entry>
            <entry>
               <para>LT</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,4010)</para>
            </entry>
            <entry>
               <para>Terminal Type</para>
            </entry>
            <entry>
               <para>TerminalType</para>
            </entry>
            <entry>
               <para>LT</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,5010)</para>
            </entry>
            <entry>
               <para>Message Set ID</para>
            </entry>
            <entry>
               <para>MessageSetID</para>
            </entry>
            <entry>
               <para>SH</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,5020)</para>
            </entry>
            <entry>
               <para>End Message ID</para>
            </entry>
            <entry>
               <para>EndMessageID</para>
            </entry>
            <entry>
               <para>SH</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,5110)</para>
            </entry>
            <entry>
               <para>Display Format</para>
            </entry>
            <entry>
               <para>DisplayFormat</para>
            </entry>
            <entry>
               <para>LT</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,5120)</para>
            </entry>
            <entry>
               <para>Page Position ID</para>
            </entry>
            <entry>
               <para>PagePositionID</para>
            </entry>
            <entry>
               <para>LT</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,5130)</para>
            </entry>
            <entry>
               <para>Text Format ID</para>
            </entry>
            <entry>
               <para>TextFormatID</para>
            </entry>
            <entry>
               <para>CS</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,5140)</para>
            </entry>
            <entry>
               <para>Normal/Reverse</para>
            </entry>
            <entry>
               <para>NormalReverse</para>
            </entry>
            <entry>
               <para>CS</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,5150)</para>
            </entry>
            <entry>
               <para>Add Gray Scale</para>
            </entry>
            <entry>
               <para>AddGrayScale</para>
            </entry>
            <entry>
               <para>CS</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,5160)</para>
            </entry>
            <entry>
               <para>Borders</para>
            </entry>
            <entry>
               <para>Borders</para>
            </entry>
            <entry>
               <para>CS</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,5170)</para>
            </entry>
            <entry>
               <para>Copies</para>
            </entry>
            <entry>
               <para>Copies</para>
            </entry>
            <entry>
               <para>IS</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,5180)</para>
            </entry>
            <entry>
               <para>Command Magnification Type</para>
            </entry>
            <entry>
               <para>CommandMagnificationType</para>
            </entry>
            <entry>
               <para>CS</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,5190)</para>
            </entry>
            <entry>
               <para>Erase</para>
            </entry>
            <entry>
               <para>Erase</para>
            </entry>
            <entry>
               <para>CS</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,51A0)</para>
            </entry>
            <entry>
               <para>Print</para>
            </entry>
            <entry>
               <para>Print</para>
            </entry>
            <entry>
               <para>CS</para>
            </entry>
            <entry>
               <para>1</para>
            </entry>
         </row>
         <row>
            <entry>
               <para>(0000,51B0)</para>
            </entry>
            <entry>
               <para>Overlays</para>
            </entry>
            <entry>
               <para>Overlays</para>
            </entry>
            <entry>
               <para>US</para>
            </entry>
            <entry>
               <para>1-n</para>
            </entry>
         </row></tbody></tgroup>
   </informaltable>
   <para/>
   <para>Note:        For attributes that were present in ACR-NEMA 1.0 and 2.0 and that have been retired, the specifications of Value Representation and Value Multiplicity provided are recommendations for the purpose of interpreting their values in objects created in accordance with earlier versions of this standard. These recommendations are suggested as most appropriate for a particular attribute; however, there is no guarantee that historical objects will not violate some requirements or specified VR and/or VM.</para>
   <para/></sect2></sect1><sect1><title>Annex F        Usage of the P-DATA service by the DICOM Application Entity(Normative)</title>
   <para>How DICOM messages are encapsulated into the P‑DATA Service by the DICOM Application Entity is specified in PS 3.8.</para>
   <para>Note:        Identical text to that in PS 3.8 was formerly duplicated here.</para>
   <para/></sect1><sect1><title>Annex G        Command Element Cross Reference(Informative)</title>
   <para>Command Element        Document Page Numbers</para>
   <para/></sect1><para>Standard </para>
   <para>- Draft -</para>
</article>